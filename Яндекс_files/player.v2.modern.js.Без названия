/*! For license information please see player.v2.modern.js.LICENSE.txt */
!function(e){function t(t){for(var n,r,a=t[0],o=t[1],s=0,l=[];s<a.length;s++)r=a[s],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&l.push(i[r][0]),i[r]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(c&&c(t);l.length;)l.shift()()}function n(t){if(r[t])return r[t].exports;var i=r[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var r={},i={4:0,6:0};n.e=function(e){var t=[],r=i[e];if(0!==r)if(r)t.push(r[2]);else{var a=new Promise((function(t,n){r=i[e]=[t,n]}));t.push(r[2]=a);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.src=function(e){return n.p+"js/"+({0:"avplay_proxy_controller",2:"orsay_video_element",5:"playstation_video_element",7:"webos_controller"}[e]||e)+".modern.js"}(e);var c=new Error;o=function(t){s.onerror=s.onload=null,clearTimeout(l);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",c.name="ChunkLoadError",c.type=r,c.request=a,n[1](c)}i[e]=void 0}};var l=setTimeout((function(){o({type:"timeout",target:s})}),12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(t)},n.m=e,n.c=r,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="https://yastatic.net/yandex-video-player-iframe-api-bundles/1.0-7360/",n.oe=function(e){throw console.error(e),e};var a=window.webpackStreamPlayerJsonp=window.webpackStreamPlayerJsonp||[],o=a.push.bind(a);a.push=t,a=a.slice();for(var s=0;s<a.length;s++)t(a[s]);var c=o;n(n.s=355)}([function(e,t,n){"use strict";function r(e){return Math.max(e,0)}function i(e){return Math.floor(e)}function a(e){return r(e)}function o(e){return r(i(e))}function s(e){return e}function c(e){return e}function l(e){return e}function d(e){return e}function u(e){return e}function h(e){return e}n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return E})),n.d(t,"b",(function(){return v})),n.d(t,"l",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"m",(function(){return a})),n.d(t,"n",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"k",(function(){return u})),n.d(t,"j",(function(){return h}));const f=function(e){let t=e;for(let n=0;n<(arguments.length<=1?0:arguments.length-1);n++)t+=n+1<1||arguments.length<=n+1?void 0:arguments[n+1];return t},p=function(e){let t=e;for(let n=0;n<(arguments.length<=1?0:arguments.length-1);n++)t-=n+1<1||arguments.length<=n+1?void 0:arguments[n+1];return t},E=function(e){let t=e;for(let n=0;n<(arguments.length<=1?0:arguments.length-1);n++)t*=n+1<1||arguments.length<=n+1?void 0:arguments[n+1];return t},v=function(e){let t=e;for(let n=0;n<(arguments.length<=1?0:arguments.length-1);n++)t/=n+1<1||arguments.length<=n+1?void 0:arguments[n+1];return t}},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.DEFAULT_ERROR="DEFAULT_ERROR",e.YANDEX_RPC_ERROR="YANDEX_RPC_ERROR",e.BROADCAST_AD_BLOCK_INIT_ERROR="BROADCAST_AD_BLOCK_INIT_ERROR",e.AD_LOADER_INIT_ERROR="AD_LOADER_INIT_ERROR",e.AD_TYPE_IS_NOT_RECOGNIZED="AD_TYPE_IS_NOT_RECOGNIZED",e.INVALID_METADATA="INVALID_METADATA",e.INVALID_STREAM_URL="INVALID_STREAM_URL",e.PUBLIC_API_CALL_ERROR="PUBLIC_API_CALL_ERROR",e.UNSUPPORTED_MEDIA_TYPE="UNSUPPORTED_MEDIA_TYPE",e.SCRIPT_INIT_ERROR="SCRIPT_INIT_ERROR",e.MPD_WIDEVINE_CERT_LOAD_ERROR="MPD_WIDEVINE_CERT_LOAD_ERROR",e.MPD_SHAKA_INIT_ERROR="MPD_SHAKA_INIT_ERROR",e.NATIVE_HLS_NOT_SUPPORTED_ERROR="NATIVE_HLS_NOT_SUPPORTED_ERROR",e.HLS_JS_NOT_SUPPORTED_ERROR="HLS_JS_NOT_SUPPORTED_ERROR",e.HLS_CONTROLLER_SCRIPT_LOAD_ERROR="HLS_CONTROLLER_SCRIPT_LOAD_ERROR",e.MPD_CONTROLLER_SCRIPT_LOAD_ERROR="MPD_CONTROLLER_SCRIPT_LOAD_ERROR",e.YANDEX_CONTROLLER_SCRIPT_LOAD_ERROR="YANDEX_CONTROLLER_SCRIPT_LOAD_ERROR",e.MP4_CONTROLLER_SCRIPT_LOAD_ERROR="MP4_CONTROLLER_SCRIPT_LOAD_ERROR",e.REFRESH_SUBTITLES_ERROR="REFRESH_SUBTITLES_ERROR",e.ON_TICK_ERROR="ON_TICK_ERROR",e.FAIRPLAY_NOT_SUPPORTED="FAIRPLAY_NOT_SUPPORTED",e.FAIRPLAY_CERT_LOAD_ERROR="FAIRPLAY_CERT_LOAD_ERROR",e.FAIRPLAY_CREATE_MEDIA_KEYS_ERROR="FAIRPLAY_CREATE_MEDIA_KEYS_ERROR",e.FAIRPLAY_CREATE_KEY_SESSION_ERROR="FAIRPLAY_CREATE_KEY_SESSION_ERROR",e.FAIRPLAY_SPC_LOAD_ERROR="FAIRPLAY_SPC_LOAD_ERROR",e.FAIRPLAY_CREATE_KEY_ERROR="FAIRPLAY_CREATE_KEY_ERROR",e.FAIRPLAY_INVALID_CONTENT_ID="FAIRPLAY_INVALID_CONTENT_ID",e.DRM_PROXY_ERROR="DRM_PROXY_ERROR",e.DRM_PROXY_ERROR_SIGNATURE_EXPIRED="DRM_PROXY_ERROR_SIGNATURE_EXPIRED",e.NO_HLS_JS_INSTANCE="NO_HLS_JS_INSTANCE",e.AD_IS_ALREADY_PLAYING="AD_IS_ALREADY_PLAYING",e.AD_CANNOT_FIND_CONTAINER_TO_PLAY="AD_CANNOT_FIND_CONTAINER_TO_PLAY",e.RAA_TAKING_2SEC="RAA_TAKING_2SEC",e.RAA_TAKING_10SEC="RAA_TAKING_10SEC",e.META_INFO_REQUEST_FAILED="META_INFO_REQUEST_FAILED",e.MULTIROLL_INIT_ERROR="MULTIROLL_INIT_ERROR",e.PREROLL_ERROR="PREROLL_ERROR",e.REACT_COMPONENT_DID_CATCH_ERROR_INFO="REACT_COMPONENT_DID_CATCH_ERROR_INFO",e.UNEXPECTED_FEATURE_NAME="UNEXPECTED_FEATURE_NAME",e.UNEXPECTED_FEATURE_ACTION_NAME="UNEXPECTED_FEATURE_ACTION_NAME",e.NO_PARAMS_IN_FEATURE_ACTION="NO_PARAMS_IN_FEATURE_ACTION",e.FEATURE_ACTION_DISPATCH_ERROR="FEATURE_ACTION_DISPATCH_ERROR",e.PLAY_AD_VIEWERS_ERROR="PLAY_AD_VIEWERS_ERROR",e.SAGA_ERROR="SAGA_ERROR",e.STRM_ABD_INVALID_RESPONSE="STRM_ABD_INVALID_RESPONSE",e.REPRESENTATION_CHANGE="REPRESENTATION_CHANGE",e.REQUIRED_FEATURE_IS_NOT_IN_BUNDLE="REQUIRED_FEATURE_IS_NOT_IN_BUNDLE",e.TANKER_KEY_ERROR="TANKER_KEY_ERROR",e.RECOVER_TASK_ERROR="RECOVER_TASK_ERROR",e.PRELOAD_SOURCE_FAILED="PRELOAD_SOURCE_FAILED",e.REGIONAL_LIMITATION_MANIFEST="REGIONAL_LIMITATION_MANIFEST",e.REGIONAL_LIMITATION_LEVEL="REGIONAL_LIMITATION_LEVEL",e.REGIONAL_LIMITATION_SEGMENT="REGIONAL_LIMITATION_SEGMENT",e.SIGNATURE_EXPIRED_MANIFEST="SIGNATURE_EXPIRED_MANIFEST",e.SIGNATURE_EXPIRED_LEVEL="SIGNATURE_EXPIRED_LEVEL",e.SIGNATURE_EXPIRED_SEGMENT="SIGNATURE_EXPIRED_SEGMENT",e.NO_STREAMS="NO_STREAMS",e.NO_CODECS="NO_CODECS",e.NO_MSE="NO_MSE",e.NO_DRM="NO_DRM",e.NO_PLAYABLE_STREAMS="NO_PLAYABLE_STREAMS",e.SHAKA_FILTER_ERROR="SHAKA_FILTER_ERROR",e.SHAKA_CONFIGURE_ERROR="SHAKA_CONFIGURE_ERROR",e.AVPLAY_ERROR_PLAYER_ERROR_NONE="AVPLAY_ERROR_PLAYER_ERROR_NONE",e.AVPLAY_ERROR_PLAYER_ERROR_INVALID_PARAMETER="AVPLAY_ERROR_PLAYER_ERROR_INVALID_PARAMETER",e.AVPLAY_ERROR_PLAYER_ERROR_NO_SUCH_FILE="AVPLAY_ERROR_PLAYER_ERROR_NO_SUCH_FILE",e.AVPLAY_ERROR_PLAYER_ERROR_INVALID_OPERATION="AVPLAY_ERROR_PLAYER_ERROR_INVALID_OPERATION",e.AVPLAY_ERROR_PLAYER_ERROR_NOT_SUPPORTED_FILE="AVPLAY_ERROR_PLAYER_ERROR_NOT_SUPPORTED_FILE",e.AVPLAY_ERROR_PLAYER_ERROR_SEEK_FAILED="AVPLAY_ERROR_PLAYER_ERROR_SEEK_FAILED",e.AVPLAY_ERROR_PLAYER_ERROR_INVALID_STATE="AVPLAY_ERROR_PLAYER_ERROR_INVALID_STATE",e.AVPLAY_ERROR_PLAYER_ERROR_INVALID_URI="AVPLAY_ERROR_PLAYER_ERROR_INVALID_URI",e.AVPLAY_ERROR_PLAYER_ERROR_CONNECTION_FAILED="AVPLAY_ERROR_PLAYER_ERROR_CONNECTION_FAILED",e.AVPLAY_ERROR_PLAYER_ERROR_NOT_SUPPORTED_FORMAT="AVPLAY_ERROR_PLAYER_ERROR_NOT_SUPPORTED_FORMAT",e.AVPLAY_ERROR_PLAYER_ERROR_GENEREIC="AVPLAY_ERROR_PLAYER_ERROR_GENEREIC",e.AVPLAY_ERROR_DRM_ERROR="AVPLAY_ERROR_DRM_ERROR",e.AVPLAY_ERROR_UNKNOWN_ERROR="AVPLAY_ERROR_UNKNOWN_ERROR",e.AVPLAY_ERROR_PREPARE_ASYNC_TIMEOUT="AVPLAY_ERROR_PREPARE_ASYNC_TIMEOUT",e.AVPLAY_ERROR_SEEK_TO_TIMEOUT="AVPLAY_ERROR_SEEK_TO_TIMEOUT",e.WEBOS_ERROR_UNKNOWN_ERROR="WEBOS_ERROR_UNKNOWN_ERROR",e.WEBOS_DRM_ERROR_DRM_TYPE_NOT_SUPPORTED="WEBOS_DRM_ERROR_DRM_TYPE_NOT_SUPPORTED",e.WEBOS_DRM_ERROR_RESULT_OF_SEND_DRM_MESSAGE_EMPTY="WEBOS_DRM_ERROR_RESULT_OF_SEND_DRM_MESSAGE_EMPTY",e.WEBOS_DRM_ERROR_UNEXPECTED_ERROR="WEBOS_DRM_ERROR_UNEXPECTED_ERROR",e.PLAYSTATION_STREAMING_ERROR_CONNECTION_FAILED="PLAYSTATION_STREAMING_ERROR_CONNECTION_FAILED",e.PLAYSTATION_STREAMING_ERROR_HTTP_STATUS_FAIL="PLAYSTATION_STREAMING_ERROR_HTTP_STATUS_FAIL",e.PLAYSTATION_STREAMING_ERROR_UNEXPECTED_ERROR="PLAYSTATION_STREAMING_ERROR_UNEXPECTED_ERROR",e.PLAYSTATION_PLAYER_ERROR_VIDEO_ERROR="PLAYSTATION_PLAYER_ERROR_VIDEO_ERROR",e.PLAYSTATION_PLAYER_ERROR_DRM_ERROR="PLAYSTATION_PLAYER_ERROR_DRM_ERROR",e.PLAYSTATION_PLAYER_ERROR_UNEXPECTED_ERROR="PLAYSTATION_PLAYER_ERROR_UNEXPECTED_ERROR",e.ORSAY_ERROR_UNKNOWN_ERROR="ORSAY_ERROR_UNKNOWN_ERROR",e.ORSAY_ERROR_UNSUPPORTED_CONTAINER="ORSAY_ERROR_UNSUPPORTED_CONTAINER",e.ORSAY_ERROR_UNSUPPORTED_VIDEO_CODEC="ORSAY_ERROR_UNSUPPORTED_VIDEO_CODEC",e.ORSAY_ERROR_UNSUPPORTED_AUDIO_CODEC="ORSAY_ERROR_UNSUPPORTED_AUDIO_CODEC",e.ORSAY_ERROR_UNSUPPORTED_VIDEO_RESOLUTION="ORSAY_ERROR_UNSUPPORTED_VIDEO_RESOLUTION",e.ORSAY_ERROR_UNSUPPORTED_VIDEO_FRAMERATE="ORSAY_ERROR_UNSUPPORTED_VIDEO_FRAMERATE",e.ORSAY_ERROR_CORRUPTED_STREAM="ORSAY_ERROR_CORRUPTED_STREAM",e.ORSAY_ERROR_UNEXPECTED_ERROR="ORSAY_ERROR_UNEXPECTED_ERROR",e.ORSAY_ERROR_AUTHENTICATION_FAILED="ORSAY_ERROR_AUTHENTICATION_FAILED",e.ORSAY_ERROR_NETWORK_DISCONNECTED="ORSAY_ERROR_NETWORK_DISCONNECTED",e.ORSAY_ERROR_CONNECTION_FAILED="ORSAY_ERROR_CONNECTION_FAILED",e.ORSAY_ERROR_STREAM_NOT_FOUND="ORSAY_ERROR_STREAM_NOT_FOUND",e.MEDIA_ERR_CUSTOM="MEDIA_ERR_CUSTOM",e.MEDIA_ERR_ABORTED="MEDIA_ERR_ABORTED",e.MEDIA_ERR_NETWORK="MEDIA_ERR_NETWORK",e.MEDIA_ERR_DECODE="MEDIA_ERR_DECODE",e.MEDIA_ERR_SRC_NOT_SUPPORTED="MEDIA_ERR_SRC_NOT_SUPPORTED",e.MEDIA_ERR_ENCRYPTED="MEDIA_ERR_ENCRYPTED"}(r||(r={}))},function(e,t,n){"use strict";function r(){}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){const t=typeof e;return Boolean(e)&&("object"===t||"function"===t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.BUFFER_FULL_ERROR="bufferFullError",e.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",e.BUFFER_STALLED_ERROR="bufferStalledError",e.SHAKA_VIDEO_ERROR_3016="shaka.VIDEO_ERROR_3016",e.FRAG_PARSING_ERROR="fragParsingError",e.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",e.BUFFER_APPENDING_ERROR="bufferAppendingError",e.PIPELINE_ERROR_DECODE="PIPELINE_ERROR_DECODE",e.DECODER_ERROR_NOT_SUPPORTED="DECODER_ERROR_NOT_SUPPORTED",e.SHAKA_CONTENT_UNSUPPORTED_BY_BROWSER_4032="shaka.CONTENT_UNSUPPORTED_BY_BROWSER_4032",e.BUFFER_APPEND_ERROR="bufferAppendError",e.SHAKA_MEDIA_SOURCE_OPERATION_THREW_3015="shaka.MEDIA_SOURCE_OPERATION_THREW_3015",e.MEDIA_ELEMENT_ERROR_FORMAT_ERROR="MEDIA_ELEMENT_ERROR: Format error",e.REMUX_ALLOC_ERROR="remuxAllocError",e.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",e.DEMUXER_ERROR_COULD_NOT_OPEN="DEMUXER_ERROR_COULD_NOT_OPEN",e.NS_ERROR_DOM_INVALID_STATE_ERR="NS_ERROR_DOM_INVALID_STATE_ERR",e.SHAKA_DASH_INVALID_XML_4001="shaka.DASH_INVALID_XML_4001",e.SHAKA_QUOTA_EXCEEDED_ERROR_3017="shaka.QUOTA_EXCEEDED_ERROR_3017",e.CHUNK_DEMUXER_ERROR_APPEND_FAILED="CHUNK_DEMUXER_ERROR_APPEND_FAILED",e.FAILED_TO_INIT_DECODER="Failed to init decoder",e.PIPELINE_ERROR_INITIALIZATION_FAILED="PIPELINE_ERROR_INITIALIZATION_FAILED",e.NS_ERROR_FAILURE="NS_ERROR_FAILURE",e.SHAKA_MEDIA_SOURCE_OPERATION_FAILED_3014="shaka.MEDIA_SOURCE_OPERATION_FAILED_3014",e.REQUEST_FAILED="2147500036: Request failed",e.PIPELINE_ERROR_EXTERNAL_RENDERER_FAILED="PIPELINE_ERROR_EXTERNAL_RENDERER_FAILED",e.PIPELINE_ERROR_COULD_NOT_RENDER="PIPELINE_ERROR_COULD_NOT_RENDER",e.MEDIA_ELEMENT_ERROR_EMPTY_SRC_ATTRIBUTE="MEDIA_ELEMENT_ERROR: Empty src attribute",e.NS_ERROR_DOM_MEDIA_METADATA_ERR="NS_ERROR_DOM_MEDIA_METADATA_ERR",e.NS_ERROR_DOM_MEDIA_FATAL_ERR="NS_ERROR_DOM_MEDIA_FATAL_ERR",e.SHAKA_RESTRICTIONS_CANNOT_BE_MET_4012="shaka.RESTRICTIONS_CANNOT_BE_MET_4012",e.MANIFEST_PARSING_ERROR="manifestParsingError",e.FRAG_LOAD_ERROR="fragLoadError",e.SHAKA_BAD_HTTP_STATUS_1001_MANIFEST="shaka.BAD_HTTP_STATUS_1001_MANIFEST",e.SHAKA_HTTP_ERROR_1002_SEGMENT="shaka.HTTP_ERROR_1002_SEGMENT",e.MANIFEST_LOAD_ERROR="manifestLoadError",e.LEVEL_LOAD_ERROR="levelLoadError",e.SHAKA_HTTP_ERROR_1002_MANIFEST="shaka.HTTP_ERROR_1002_MANIFEST",e.SHAKA_BAD_HTTP_STATUS_1001_SEGMENT="shaka.BAD_HTTP_STATUS_1001_SEGMENT",e.SHAKA_UNSUPPORTED_SCHEME_1000="shaka.UNSUPPORTED_SCHEME_1000",e.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",e.SHAKA_TIMEOUT_1003_SEGMENT="shaka.TIMEOUT_1003_SEGMENT",e.FRAG_LOAD_TIME_OUT="fragLoadTimeOut",e.MANIFEST_LOAD_TIME_OUT="manifestLoadTimeOut",e.LEVEL_LOAD_TIME_OUT="levelLoadTimeOut",e.SHAKA_TIMEOUT_1003_MANIFEST="shaka.TIMEOUT_1003_MANIFEST",e.SHAKA_TIMEOUT_1003_LICENSE="shaka.TIMEOUT_1003_LICENSE",e.AUDIO_TRACK_LOAD_TIME_OUT="audioTrackLoadTimeOut",e.INTERNAL_EXCEPTION="internalException",e.SHAKA_OPERATION_ABORTED_7001="shaka.OPERATION_ABORTED_7001",e.ON_PLAYER_INIT_ERROR_INTERNAL="ON_PLAYER_INIT_ERROR_INTERNAL",e.UNABLE_TO_LOAD_PLAYER_IFRAME="UNABLE_TO_LOAD_PLAYER_IFRAME",e.ON_PLAYER_INIT_ERROR="ON_PLAYER_INIT_ERROR",e.LOADER_INIT_ERROR="LoaderInitError",e.UNABLE_TO_LOAD_PLAYER_INTERNAL_SCRIPT="UNABLE_TO_LOAD_PLAYER_INTERNAL_SCRIPT",e.FAILED_TO_DOWNLOAD_DEBUG_INFO="FAILED_TO_DOWNLOAD_DEBUG_INFO",e.SHAKA_REQUEST_FILTER_ERROR_1006="shaka.REQUEST_FILTER_ERROR_1006",e.PLAYER_CONTAINER_NOT_FOUND="PLAYER_CONTAINER_NOT_FOUND",e.KEY_LOAD_ERROR="keyLoadError",e.FEATURE_HANDLER_ERROR="FEATURE_HANDLER_ERROR",e.SHAKA_NO_LICENSE_SERVER_GIVEN_6012="shaka.NO_LICENSE_SERVER_GIVEN_6012",e.INVALID_CONFIG_ELEMENT_IN_CREATE_PLAYER="InvalidConfigElementInCreatePlayer",e.INVALID_CONFIG_LANG_IN_CREATE_PLAYER="InvalidConfigLangInCreatePlayer",e.INVALID_CONFIG_IN_CREATE_PLAYER="InvalidConfigInCreatePlayer",e.INVALID_CONFIG_IN_SET_SOURCE="InvalidConfigInSetSource",e.INVALID_CONFIG_IN_SOURCE_UPDATE="InvalidConfigInSourceUpdate",e.SHAKA_FAILED_TO_CREATE_CDM_6002="shaka.FAILED_TO_CREATE_CDM_6002",e.SHAKA_HTTP_ERROR_1002_LICENSE="shaka.HTTP_ERROR_1002_LICENSE",e.SHAKA_LICENSE_REQUEST_FAILED_6007="shaka.LICENSE_REQUEST_FAILED_6007",e.SHAKA_FAILED_TO_GENERATE_LICENSE_REQUEST_6006="shaka.FAILED_TO_GENERATE_LICENSE_REQUEST_6006",e.SHAKA_REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE_6001="shaka.REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE_6001",e.SHAKA_FAILED_TO_ATTACH_TO_VIDEO_6003="shaka.FAILED_TO_ATTACH_TO_VIDEO_6003",e.SHAKA_LICENSE_RESPONSE_REJECTED_6008="shaka.LICENSE_RESPONSE_REJECTED_6008",e.SHAKA_INVALID_SERVER_CERTIFICATE_6004="shaka.INVALID_SERVER_CERTIFICATE_6004",e.SHAKA_EXPIRED_6014="shaka.EXPIRED_6014",e.SHAKA_BAD_HTTP_STATUS_1001_LICENSE="shaka.BAD_HTTP_STATUS_1001_LICENSE",e.EXTERNAL_POST_MESSENGER_SEND_MESSAGE_ERROR="EXTERNAL_POST_MESSENGER_SEND_MESSAGE_ERROR",e.INTERNAL_POST_MESSENGER_SEND_MESSAGE_ERROR="INTERNAL_POST_MESSENGER_SEND_MESSAGE_ERROR",e.LOAD_SKIN_ERROR="LOAD_SKIN_ERROR",e.INSERT_INTO_WITH_SECURE_FRAME="INSERT_INTO_WITH_SECURE_FRAME",e.ELEMENT_NOT_IN_DOM="ELEMENT_NOT_IN_DOM",e.ERROR_SCREEN_LOAD_ERROR="ERROR_SCREEN_LOAD_ERROR"}(r||(r={}))},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.onStateChange="onStateChange",e.onSeek="onSeek",e.onAdStateChange="onAdStateChange",e.onBeforeAdPodStart="onBeforeAdPodStart",e.onAdPodStart="onAdPodStart",e.onAdSkippableStateChange="onAdSkippableStateChange",e.onAdPodCloseStateChange="onAdPodCloseStateChange",e.onAdVolumeAvailabilityStateChange="onAdVolumeAvailabilityStateChange",e.onAdPodDurationChange="onAdPodDurationChange",e.onAdPodCurrentTimeChange="onAdPodCurrentTimeChange",e.onAdPodTimeToSkipChange="onAdPodTimeToSkipChange",e.onAdInteraction="onAdInteraction",e.onDurationChange="onDurationChange",e.onPositionChange="onPositionChange",e.onTimelineInfoChange="onTimelineInfoChange",e.onVolumeChange="onVolumeChange",e.onReady="onReady",e.onInitError="onInitError",e.onError="onError",e.onRecover="onRecover",e.onUserAction="onUserAction",e.onLogEvent="onLogEvent",e.onChangeStream="onChangeStream",e.onStreamsWithSupportInfoChange="onStreamsWithSupportInfoChange",e.onSkinReady="onSkinReady",e.onVideoTrackChange="onVideoTrackChange",e.onVideoTracksChange="onVideoTracksChange",e.onAudioTrackChange="onAudioTrackChange",e.onAudioTracksChange="onAudioTracksChange",e.onTextTrackChange="onTextTrackChange",e.onTextTracksChange="onTextTracksChange",e.onSubtitlesChange="onSubtitlesChange",e.onThumbnailTileGeneralMetaInfoChange="onThumbnailTileGeneralMetaInfoChange",e.onLogoWidgetActionCall="onLogoWidgetActionCall",e.onVideoTypeChange="onVideoTypeChange",e.onFullScreenChange="onFullScreenChange",e.onVideoSizeChange="onVideoSizeChange",e.onVideoReadyStateChange="onVideoReadyStateChange",e.onOriginalBroadcastAdStateChange="onOriginalBroadcastAdStateChange",e.onKeyEvent="onKeyEvent",e.onInit="onInit",e.onFeatureEvent="onFeatureEvent",e.onErrorScreenVisibilityChange="onErrorScreenVisibilityChange",e.onContentImpression="onContentImpression",e.onResourcesIdle="onResourcesIdle",e.onSetSourceRequest="onSetSourceRequest",e.onVisualStateChange="onVisualStateChange",e.onBufferingRangesChange="onBufferingRangesChange",e.onStartStageChange="onStartStageChange",e.onPlaybackRateChange="onPlaybackRateChange",e.onNextAdRemainingTimeChange="onNextAdRemainingTimeChange",e.onVideoClickerEvent="onVideoClickerEvent",e.onAdSDKVersionDefined="onAdSDKVersionDefined",e.onEngineChange="onEngineChange",e.onNetworkStatusChange="onNetworkStatusChange",e.onPreloadSourceResolve="onPreloadSourceResolve",e.onPreloadSourceReject="onPreloadSourceReject"}(r||(r={}))},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.DEFAULT="DEFAULT",e.MEDIA="MEDIA",e.NETWORK_MEDIA="NETWORK_MEDIA",e.NETWORK_PLAYER="NETWORK_PLAYER",e.NETWORK_TIMEOUT="NETWORK_TIMEOUT",e.NO_CODECS="NO_CODECS",e.CANNOT_PLAY="CANNOT_PLAY",e.UNSUPPORTED_ENV="UNSUPPORTED_ENV",e.EXCEPTION="EXCEPTION",e.ADS="ADS",e.CONFIG="CONFIG",e.REGIONAL="REGIONAL",e.DRM="DRM",e.ACCESS="ACCESS",e.INVALID_STREAM_URL="INVALID_STREAM_URL"}(r||(r={}))},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.PLAY="play",e.PAUSE="pause",e.BUFFERING="buffering",e.END="end"}(r||(r={}))},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return s}));var i=n(50),a=n(115);const o=n(215);class s extends Error{constructor(e,t){const n="object"===typeof e?e:{message:String(e)};if(super(String(n.message)),this.message=void 0,this.messageDetails=void 0,this.code=void 0,this.category=void 0,this.isFatal=void 0,this.details=void 0,this.stack=void 0,this.vsid=void 0,o(this,s.prototype),this.message=n.message||this.message,this.messageDetails=n.messageDetails,this.code=n.code||0,this.category=Object(a.a)(this.code),this.details=n.details,this.isFatal=void 0===n.isFatal||n.isFatal,this.stack=n.stack&&"?:?:?"!==n.stack?n.stack:this.details&&this.details.stack||((e,t)=>{const{url:n,line:r,col:i,fileName:a,columnNumber:o,lineNumber:s}=e;return String(t||(n||a||"?")+":"+(r||s||"?")+":"+(i||o||"?"))})(n,this.stack),!this.stack||this.stack===i.a.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack||i.a.stack}this.vsid=t||n.vsid}toString(){return JSON.stringify(this.toJSON())}toJSON(){const e={message:this.message,messageDetails:this.messageDetails,code:this.code,category:this.category,isFatal:this.isFatal,details:this.details,stack:this.stack,vsid:this.vsid};return r({},e,{raw:JSON.stringify(e)})}}},function(e,t,n){"use strict";function r(e){return"function"===typeof e||"Function"===Object(i.a)(e)}n.d(t,"a",(function(){return r}));var i=n(47)},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.NATIVE="NATIVE",e.HLS="HLS",e.MPD="MPD",e.MP4="MP4",e.YANDEX="YANDEX"}(r||(r={}))},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e){v.href=e;let t=v.pathname||"";"/"!==t.charAt(0)&&(t="/"+t);const n=(v.search||"")+(v.hash||""),a=e.lastIndexOf(n),o=-1===a?e:e.slice(0,a);if(O.test(e)){const t=i(e.replace(O,"https:"));return v.href=e,r({},t,{originalPath:o,protocol:e.slice(0,e.indexOf(":")+1),href:v.href})}const s=v.protocol&&/^[a-z\-]+:/i.test(v.protocol)?v.protocol:"";return{originalPath:o,href:v.href,protocol:s,host:v.host,hostname:v.hostname,port:v.port,pathname:t,search:v.search,hash:v.hash}}function a(e,t){if(void 0===t&&(t=!1),t){const t=e.originalPath,n="/"===e.pathname&&"/"!==t[t.length-1];return e.originalPath+(n?"/":"")+e.search+e.hash}const n="443"===e.port||"80"===e.port?e.hostname:e.host;return e.protocol+"//"+n+e.pathname+e.search+e.hash}function o(e){const t={},n=e.replace(/^[?#]+/,"").replace(/#.*$/,"").split("&");for(let r=0;r<n.length;r++){const e=n[r].indexOf("=");let i,a;if(-1===e?(i=T(n[r]),a=""):(i=T(n[r].slice(0,e)),a=n[r].slice(e+1)),i){const e=Boolean(/(\[\])$/.exec(i));i=i.replace(/\[\]$/,""),e?void 0===t[i]?t[i]=[T(a)]:t[i]=[].concat(t[i],T(a)):t[i]=T(a)}}return t}function s(e){return o(i(e).search)}function c(e){const t=[];for(const n in e)if(e.hasOwnProperty(n)){const r=e[n];Object(f.a)(r)?t.push(y(n,r)):void 0!==r&&t.push(n+"="+encodeURIComponent(r))}return"?"+t.join("&")}function l(e,t,n){if(void 0===n)return e;const s=i(e),l=o(s.search);return l[t]=n,a(r({},s,{search:c(l)}))}function d(e,t,n){let{override:s=!0,saveOriginalPath:l=!1}=void 0===n?{}:n;const d=i(e),u=o(d.search);Object(E.a)(t,(e,t)=>{(void 0===u[t]||s)&&(u[t]=e)});return a(r({},d,{search:c(u)}),l)}function u(e){return i(e).pathname.split("/").pop()||""}function h(e){const t=u(e).split(".");return t.length>1?t.pop():""}n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return h}));var f=n(45);class p{constructor(e){this.cache=e}get(e){return this.cache[e]}has(e){return e in this.cache}set(e,t){this.cache[e]=t}}var E=n(27);const v=document.createElement("a");A=e=>r({},i(e)),void 0===m&&(m=e=>e),void 0===g&&(g=new p({}));var A,m,g;const O=/^(android-app:|chrome-extension:)/,T=e=>{try{return decodeURIComponent(e)}catch(t){return e}},y=(e,t)=>t.map(t=>e+"[]="+encodeURIComponent(t)).join("&")},function(e,t,n){"use strict";function r(e){return"number"===typeof e&&isFinite(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.map(i),a="YA PLAYER: "+(new Date).toString()+" "+r.join(" ");return a}function i(e){return e&&"object"===typeof e?JSON.stringify(e,Object.getOwnPropertyNames(e)):e}n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var a=n(2),o=n(100);const s=[];class c{static enableConsole(){c.consoleEnabled=!0,c.log("YA PLAYER VERSION: 1.0-7360")}static log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];c.consoleEnabled&&console.log(r(...t)),c.addToHistory("log",t)}static warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];c.consoleEnabled&&console.warn(r(...t)),c.addToHistory("warn",t)}static error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];c.consoleEnabled&&console.error(r(...t)),c.addToHistory("error",t)}static getHistory(){return[...s]}static addToHistory(e,t){s.length>=150&&s.shift(),s.push("["+e+"]["+Date.now()+"] "+t.map(e=>{try{return Object(o.a)(e)}catch(t){return JSON.stringify(["stringify_error",t.stack])}}).join())}}c.consoleEnabled=void 0;const l={log:a.a,warn:a.a,error:a.a}},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.LIVE="LIVE",e.EVENT="EVENT",e.VOD="VOD"}(r||(r={}))},function(e,t,n){"use strict";function r(e){return"string"===typeof e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t,n,r){const o=function(e){let t=!1,n=!1,r=!1;return!0===e?t=!0:"object"===typeof e&&(t=Boolean(e.capture),n=Boolean(e.passive),r=Boolean(e.once)),{capture:t,passive:n,once:r}}(r),s=a.a?o:o.capture,c=o.once&&!a.b?function(e){l(),n.call(this,e)}:n,l=()=>{Object(i.b)(e,t,c,s)};return Object(i.a)(e,t,c,s),l}n.d(t,"a",(function(){return r}));var i=n(79),a=n(118)},function(e,t,n){"use strict";function r(e,t){try{return e()}catch(n){"function"===typeof t&&t(n)}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(108);class i extends r.a{constructor(e,t){super(e,t)}}},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.BroadcastAdReceived="BroadcastAdReceived",e.BroadcastAdInit="BroadcastAdInit",e.StreamPlayerReceivedMetadata="StreamPlayerReceivedMetadata",e.StreamPlayerChooseMetadata="StreamPlayerChooseMetadata",e.PlayWithoutRAAResults="PlayWithoutRAAResults",e.CanPlay="CanPlay",e.ContentImpression="ContentImpression",e.WaitForPlayCompleted="WaitForPlayCompleted",e.DrmSystemsSupportDetected="DrmSystemsSupportDetected",e.InrollAdStart="InrollAdStart",e.InrollAdPodStart="InrollAdPodStart",e.InrollAdPodEnd="InrollAdPodEnd",e.InrollAdEnd="InrollAdEnd",e.PlayAdViewers="PlayAdViewers",e.AdStart="AdStart",e.AdPodLoading="AdPodLoading",e.AdPodError="AdPodError",e.AdPodEnd="AdPodEnd",e.AdEnd="AdEnd",e.AdClickThru="AdClickThru",e.NoAdPodsToPlayAd="NoAdPodsToPlayAd",e.Stalled="Stalled",e.LoadSource="LoadSource",e.PrerollInit="PrerollInit",e.WaitForUserGesture="WaitForUserGesture",e.WaitForDocumentVisibility="WaitForDocumentVisibility",e.CallPublicApiAfterDestroy="CallPublicApiAfterDestroy",e.HiddenAutoplayPrevented="HiddenAutoplayPrevented",e.PlayVideoOnVisibilityChange="PlayVideoOnVisibilityChange",e.PauseVideoOnVisibilityChange="PauseVideoOnVisibilityChange",e.StreamStopWhileLoadingMultiroll="StreamStopWhileLoadingMultiroll",e.StreamStopWhileChoosingStream="StreamStopWhileChoosingStream",e.StreamStopWhileDestroyVideoController="StreamStopWhileDestroyVideoController",e.StreamStopDuringDefineAutoplaySettings="StreamStopDuringDefineAutoplaySettings",e.StreamStopWhileWaitingForPlay="StreamStopWhileWaitingForPlay",e.StreamStopWhileWaitingForDocumentVisibility="StreamStopWhileWaitingForDocumentVisibility",e.StreamStopWhileLoadingPreroll="StreamStopWhileLoadingPreroll",e.StreamStopWhilePreloadingPreroll="StreamStopWhilePreloadingPreroll",e.SkippableFragmentWidgetDrawn="SkippableFragmentWidgetDrawn",e.SkippableFragmentWidgetHidden="SkippableFragmentWidgetHidden",e.HlsJsLoadSourceCalledTwice="HlsJsLoadSourceCalledTwice",e.PreloadSource="PreloadSource",e.UsePreloadedHlsJs="UsePreloadedHlsJs",e.PlayAfterWaitingForDocumentVisibility="PlayAfterWaitingForDocumentVisibility",e.ResourcesIdle="ResourcesIdle",e.ClientInfo="ClientInfo",e.HlsJsForceCappingStart="HlsJsForceCappingStart",e.CanRenderSkinCalledBeforeSkinIsReady="CanRenderSkinCalledBeforeSkinIsReady",e.ExternalPlaybackOpenButtonClick="ExternalPlaybackOpenButtonClick",e.ExternalPlaybackCloseButtonClick="ExternalPlaybackCloseButtonClick",e.ExternalPlayerListVisibleStatusChange="ExternalPlayerListVisibleStatusChange",e.ExternalPlaybackPlayerCsrfFetching="ExternalPlaybackPlayerCsrfFetching",e.ExternalPlaybackPlayerCsrfFetchSuccess="ExternalPlaybackPlayerCsrfFetchSuccess",e.ExternalPlaybackPlayerCsrfFetchError="ExternalPlaybackPlayerCsrfFetchError",e.ExternalPlaybackPlayerListHasAnyDevice="ExternalPlaybackPlayerListHasAnyDevice",e.ExternalPlaybackPlayerListFetching="ExternalPlaybackPlayerListFetching",e.ExternalPlaybackPlayerListFetchSuccess="ExternalPlaybackPlayerListFetchSuccess",e.ExternalPlaybackPlayerListFetchError="ExternalPlaybackPlayerListFetchError",e.ExternalPlaybackPlayerListAboutInfoClick="ExternalPlaybackPlayerListAboutInfoClick",e.ExternalPlaybackPlayerListRefresh="ExternalPlaybackPlayerListRefresh",e.ExternalPlaybackPlayerActivate="ExternalPlaybackPlayerActivate",e.ExternalPlaybackPlayerActivateSucceed="ExternalPlaybackPlayerActivateSucceed",e.ExternalPlaybackPlayerActivateFailed="ExternalPlaybackPlayerActivateFailed",e.ExternalPlaybackCsrfTokenExpired="ExternalPlaybackCsrfTokenExpired",e.YandexRpcError="YandexRpcError",e.YandexAndroidVsidChanged="YandexAndroidVsidChanged",e.Seek="Seek",e.RecommendationsSetParams="RecommendationsSetParams",e.RecommendationSelect="RecommendationSelect",e.RecommendationsWidgetVisibilityChange="RecommendationsWidgetVisibilityChange",e.MediaInternalsHistoryOnFatal="MediaInternalsHistoryOnFatal",e.PlayInrollAd="PlayInrollAd",e.ShareButtonClick="ShareButtonClick",e.FPSControllerRestrictions="FPSControllerRestrictions"}(r||(r={}))},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.play="play",e.pause="pause",e.seek="seek",e.setSource="setSource",e.preloadSource="preloadSource",e.abortPreloadSource="abortPreloadSource",e.sendPosition="sendPosition",e.getPosition="getPosition",e.setVolume="setVolume",e.setMuted="setMuted",e.setFullscreen="setFullscreen",e.setPictureInPicture="setPictureInPicture",e.setPlaybackRate="setPlaybackRate",e.setVideoTrack="setVideoTrack",e.setAudioTrack="setAudioTrack",e.setTextTrack="setTextTrack",e.setNativeTextTrackVisibility="setNativeTextTrackVisibility",e.setNativeAdControlsVisibility="setNativeAdControlsVisibility",e.setHiddenControls="setHiddenControls",e.setVideoStyle="setVideoStyle",e.setPictureInPictureEnabled="setPictureInPictureEnabled",e.setExternalVisualState="setExternalVisualState",e.getExternalVisualState="getExternalVisualState",e.getConfig="getConfig",e.sendDebugInfo="sendDebugInfo",e.requestDebugInfo="requestDebugInfo",e.callFeatureAction="callFeatureAction",e.setTitleSettings="setTitleSettings",e.xhrRequest="xhrRequest",e.stopAd="stopAd",e.playInrollAd="playInrollAd",e.skipAdPod="skipAdPod",e.destroy="destroy",e.setLogoWidgetExpanded="setLogoWidgetExpanded",e.setLogoWidgetActionCompleted="setLogoWidgetActionCompleted",e.logDelta="logDelta",e.insertIntoCalled="insertIntoCalled"}(r||(r={}))},function(e,t,n){"use strict";function r(e){void 0===e&&(e=window);try{return(e.navigator||{}).userAgent||""}catch(t){return""}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){let t=function(){t=()=>n;const n=e.apply(this,arguments);return n};return function(){return t.apply(this,arguments)}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function a(e){Object(l.a)(()=>{window.Ya.Rum.time(e)})}function o(e,t){void 0===t&&(t={}),Object(u.a)()&&Object(l.a)(()=>{const n=i(t,["additional"]);window.Ya.Rum.timeEnd(e,r({},n,{"-additional":Object(d.b)(t)}))})}function s(e,t,n){void 0===n&&(n={}),Object(u.a)()&&Object(l.a)(()=>{const{additional:a,initSubpage:o=!1,sampled:s=!1}=n,l=i(n,["additional","initSubpage","sampled"]);if(o&&Object(f.b)()>0)return;if(s&&!h.a)return;const u=Object(f.a)(),p=Object(c.a)(u)?u.additional:void 0;window.Ya.Rum.sendDelta(e,t,r({},u,l,{"-additional":Object(c.a)(a)?Object(d.b)(r({},p,a)):Object(d.b)(p)}))})}n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var c=n(3),l=n(17),d=n(28),u=n(123),h=n(133),f=n(91)},function(e,t,n){"use strict";function r(e){if(!e||!e.toString)return!1;const t=e.toString();return/\[native code\]/.test(t)||/\/\* source code not available \*\//.test(t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if("function"===typeof Object.keys)return Object.keys(e);{const t=[];for(const n in e)Object(i.a)(e,n)&&t.push(n);return t}}n.d(t,"a",(function(){return r}));var i=n(52)},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.preroll="preroll",e.midroll="midroll",e.overlay="overlay",e.postroll="postroll",e.inroll="inroll",e.inrollOverlay="inroll-overlay"}(r||(r={}))},function(e,t,n){"use strict";function r(e,t,n){for(const r in e)Object(i.a)(e,r)&&t.call(n,e[r],r,e)}n.d(t,"a",(function(){return r}));var i=n(52)},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(){return v||(!function(){try{E=encodeURIComponent(JSON.stringify(r({},f,p)))}catch(e){}}(),v=!0),E}function a(){return r({},f,p)}function o(){try{return JSON.parse(window.Ya.Rum._vars["-additional"])}catch(e){return{}}}function s(){try{return window.Ya.Rum.setVars({"-additional":JSON.stringify(f)})}catch(e){}}function c(){try{return window.Ya.Rum.updateErrors({additional:r({},f)})}catch(e){}}function l(e){return void 0===e||void 0===e.additional?i():encodeURIComponent(JSON.stringify(r({},f,p,e.additional)))}function d(e){f=r({},o(),e),s(),c(),v=!1}function u(e,t){f=r({},o(),{[e]:t}),s(),c(),v=!1}function h(e){p=e,v=!1}n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return h}));let f={},p={},E="",v=!1},function(e,t,n){"use strict";function r(e){if(!e)return[];const t=[];for(let n=0;n<e.length;n++)t.push(e[n]);return t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return s.indexOf(e)>-1}function i(e){return void 0===e&&(e=""),e.split(",").map(e=>e.trim()).filter(r)}n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return i}));var a=n(25);let o;!function(e){e.ALL="*",e.PLAY="play",e.START_SCREEN_PLAY="startScreenPlay",e.VOLUME="sound",e.VOLUME_SLIDER="volumeSlider",e.SETTINGS="settings",e.SETTINGS_ITEM="settingsItem",e.FULLSCREEN="fullscreen",e.TIMELINE="timeline",e.TIMELINE_PREVIEW="timelinePreview",e.LIVE="live",e.POSTER="poster",e.START_POSITION_CONFIRM="startPositionConfirm",e.TIME_DISPLAY="time",e.TITLE_DISPLAY="titleDisplay",e.SHARE="share",e.REPORT="report",e.FORWARD="forward",e.BACKWARD="backward",e.BRAND_LOGO_BUTTON="brandLogoButton",e.LOGO="logo",e.PRELOADER="preloader",e.CONTEXT_MENU="contextMenu",e.START_SCREEN="startScreen",e.PLAYBACK_RATE="playbackRate",e.SKIPPABLE_FRAGMENTS="skippableFragments",e.EXTERNAL_PLAYBACK="externalPlayback",e.RECOMMENDATIONS="recommendations",e.CLOSE_BUTTON="closeButton",e.NEXT_AD_INFO="nextAdInfo",e.SUBTITLES_TOGGLE="subtitlesToggle",e.LOGO_WIDGET="logoWidget",e.SKIP_AD="skipAd",e.MOBILE_SEEK_BUTTONS="mobileSeekButtons",e.TITLE="title"}(o||(o={}));const s=Object(a.a)(o).map(e=>o[e])},function(e,t,n){"use strict";function r(e){const t=e;return t.Ya||(t.Ya={}),t.Ya.streamPlayer||(t.Ya.streamPlayer={}),t.Ya.streamPlayer}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const i=r(window)},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.init="init",e.waitForUserPlay="waitForUserPlay",e.waitForDocumentVisibility="waitForDocumentVisibility",e.starting="starting",e.started="started",e.broken="broken",e.destroyed="destroyed"}(r||(r={}))},function(e,t,n){"use strict";function r(e){if(!e)return;const{parentElement:t}=e;t&&t.removeChild(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{constructor(){this.handlers=Object.create(null),this.onceHandlers=Object.create(null),this.maxEventListeners=10}setMaxListeners(e){!isFinite(e)||e<=0||(this.maxEventListeners=e)}on(e,t){this.getHandlers(e).push(t),this.checkSubscriptions(e)}once(e,t){this.getOnceHandlers(e).push(t),this.checkSubscriptions(e)}off(e,t){const n=this.getHandlers(e),r=this.getOnceHandlers(e);if(void 0===t)return n.length=0,void(r.length=0);this.removeHandler(t,n),this.removeHandler(t,r)}emit(e,t){const n=this.getHandlers(e),r=this.getOnceHandlers(e).slice();this.getOnceHandlers(e).length=0,n.slice().concat(r).forEach(e=>{try{e(t)}catch(n){setTimeout(()=>{throw n},0)}})}getHandlers(e){return void 0===this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e]}getOnceHandlers(e){return void 0===this.onceHandlers[e]&&(this.onceHandlers[e]=[]),this.onceHandlers[e]}checkSubscriptions(e){const t=this.getHandlers(e).length+this.getOnceHandlers(e).length;t>this.maxEventListeners&&console.warn("There are "+t+" subscriptions on event named "+e)}removeHandler(e,t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(86),i=n(167),a=n(50);const o=n(278);class s extends Error{constructor(e,t){void 0===t&&(t={});const n="object"===typeof e?e:{message:String(e||a.a.message)};super(),o(this,s.prototype),this.message=t.message||n.message||a.a.message,this.code=t.code||n.code||n.id||a.a.code,this.isFatal=Boolean(function(e){const[t]=Object(r.a)(e,e=>void 0!==e);return t}([t.isFatal,n.isFatal,a.a.isFatal])),this.details=t.details||n.details||a.a.details;const c=t.stack||n.stack||function(e){const{url:t,line:n,col:r,fileName:i,columnNumber:a,lineNumber:o}=e;return(t||i||"?")+":"+(n||o||"?")+":"+(r||a||"?")}(n);let l=c===a.a.stack?this.stack:c;if(l&&l!==a.a.stack)this.stack=l;else if(!this.stack)try{throw new Error(this.message)}catch(d){this.stack=l=d.stack||a.a.stack}this.toString=()=>Object(i.a)(this.toJSON()),this.toJSON=()=>({message:this.message,code:this.code,isFatal:this.isFatal,details:this.details,stack:l})}}},function(e,t,n){"use strict";function r(e){const t=Object(c.b)();return l.subpageIndex!==t?(l.subpageIndex=t,l.deltas={},!1):Boolean(l.deltas[e])}function i(e){s.a&&(r(e)||Object(o.c)(e))}function a(e,t){var n;(void 0===t&&(t={}),s.a)&&(r(e)||(Object(o.a)(e,t),n=e,l.deltas[n]=!0))}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var o=n(23),s=n(133),c=n(91);const l={subpageIndex:Object(c.b)(),deltas:{}}},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e[e.UNSTARTED=-1]="UNSTARTED",e[e.ENDED=0]="ENDED",e[e.PLAYING=1]="PLAYING",e[e.PAUSED=2]="PAUSED",e[e.BUFFERING=3]="BUFFERING"}(r||(r={}))},function(e,t,n){"use strict";function r(e){void 0===e&&(e=i.a);const t=e();return()=>Math.max(0,e()-t)}n.d(t,"a",(function(){return r}));var i=n(107)},function(e,t,n){"use strict";function r(e){return"function"===typeof Object.entries?Object.entries(e):Object(i.a)(e).map(t=>[t,e[t]])}n.d(t,"a",(function(){return r}));var i=n(25)},function(e,t,n){"use strict";let r,i;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),function(e){e[e.PLAYING=1]="PLAYING",e[e.NOT_PLAYING=2]="NOT_PLAYING"}(r||(r={})),function(e){e.INIT="INIT",e.SET_SOURCE="SET_SOURCE"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(137),i=n.n(r);const a={getItem(e){try{return i.a.getItem(e)}catch(t){return null}},setItem(e,t){try{i.a.setItem(e,t)}catch(n){}},removeItem(e){try{i.a.removeItem(e)}catch(t){}},clear(){try{i.a.clear()}catch(e){}}}},function(e,t,n){"use strict";function r(e,t){void 0===t&&(t=!0);const n=Object(i.a)(e);if(!n)return t;return!e[n]}n.d(t,"a",(function(){return r}));var i=n(149)},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.Init="Init",e.SetSource="SetSource",e.Seek="Seek",e.VideoTrackChange="VideoTrackChange",e.AudioTrackChange="AudioTrackChange",e.Recover="Recover",e.MediaError="MediaError",e.Offline="Offline",e.Other="Other",e.RepresentationsChange="RepresentationsChange",e.LiveEdge="LiveEdge",e.AdStart="AdStart",e.AdOther="AdOther",e.AdBetween="AdBetween",e.AdEnd="AdEnd"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(35),n(186),n(56);var r=n(2),i=n(99);Object(i.a)({propertyName:"YANDEX_DESTROYABLE_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});class a{constructor(){this._isDestroyed=!1,this.destroyHandlers=[]}onDestroy(e){this._addDestroyHandler(e)}addDestroyListener(e){this._addDestroyHandler(e)}addDestroyHandler(e){this._addDestroyHandler(e)}destroy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const[r]=t;this._isDestroyed||(this._isDestroyed=!0,this._destroyReason=r,this.destroyHandlers.forEach(e=>e(...t)),this.destroyHandlers.length=0)}getIsDestroyed(){return this._isDestroyed}get destroyReason(){return this._destroyReason}get isDestroyed(){return this._isDestroyed}ignoreAfterDestroy(e){var t=this;let n=e;return function(){t.isDestroyed&&(n=r.a);for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];n.apply(t,i)}}_addDestroyHandler(e){this._isDestroyed?e(this._destroyReason):this.destroyHandlers.push(e)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(47),i=n(104);const a=Object(i.a)(Array,"isArray"),o=Boolean(a)?e=>a.call(Array,e):e=>"Array"===Object(r.a)(e)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=(e,t,n)=>{const r=new Array(e.length);for(let i=0;i<e.length;i++)r[i]=t.call(n,e[i],i,e);return r}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const r={}.toString,i=/\[object (\w+)\]/,a=e=>{const t=r.call(e);if(!t)return null;const n=t.match(i);if(!n)return null;const a=n[1];return a||null}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(102);const i=Object(r.a)()},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(24);const i=!Object(r.a)(Math.random)||Math.random()===Math.random();var a=n(107);let o=Date.now()*Object(a.a)()%2147483647;const s=i?function(){return o=16807*o%2147483647,(o-1)/2147483646}:function(){return Math.random()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r={message:"DEFAULT_ERROR_MESSAGE",code:0,details:"",stack:"?:?:?",isFatal:!0}},function(e,t,n){"use strict";function r(e){e&&"function"===typeof e.catch&&e.catch(e=>{})}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{static internalToPublic(e){return Math.round(100*e)}static publicToInternal(e){return e/100}}},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.NO_MSE="NO_MSE",e.NO_CODECS="NO_CODECS",e.NO_SUPPORTED_DRM="NO_SUPPORTED_DRM",e.NO_SUPPORTED_FORMAT="NO_SUPPORTED_FORMAT",e.INVALID_STREAM_URL="INVALID_STREAM_URL"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(67);const i=e=>{const t=[];for(;e;)try{if(Object(r.a)(e),t.push(e),e.parent===e)break;e=e.parent}catch(n){break}return t}},function(e,t,n){"use strict";function r(e){let t="";for(let n=0;n<e;n++)t+=(16*Object(i.a)()|0).toString(16);return t}n.d(t,"a",(function(){return r}));var i=n(49)},function(e,t,n){"use strict";var r=Array.isArray,i=Object.keys,a=Object.prototype.hasOwnProperty;e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){var o,s,c,l=r(t),d=r(n);if(l&&d){if((s=t.length)!=n.length)return!1;for(o=s;0!==o--;)if(!e(t[o],n[o]))return!1;return!0}if(l!=d)return!1;var u=t instanceof Date,h=n instanceof Date;if(u!=h)return!1;if(u&&h)return t.getTime()==n.getTime();var f=t instanceof RegExp,p=n instanceof RegExp;if(f!=p)return!1;if(f&&p)return t.toString()==n.toString();var E=i(t);if((s=E.length)!==i(n).length)return!1;for(o=s;0!==o--;)if(!a.call(n,E[o]))return!1;for(o=s;0!==o--;)if(!e(t[c=E[o]],n[c]))return!1;return!0}return t!==t&&n!==n}},function(e,t,n){"use strict";function r(e,t){const n=e.style;for(const r in t)if(t.hasOwnProperty(r)){n[u(r)]=t[r]}}n.d(t,"a",(function(){return r}));var i=n(15);let a;const o=(void 0===(s=window)&&(s=window),a||(a=s.document.createElement("div")),a);var s;const c=(e,t)=>{const n="undefined"!==typeof o.style[e];if(n&&t&&Object(i.a)(t))try{o.style.cssText=e+": "+t+";";const n=Boolean(o.style.cssText);return o.style.cssText="",n}catch(r){return!1}return n};var l=n(75);const d={},u=function(e){return void 0===e&&(e=""),d[e]||function(e){const t=""+e[0].toUpperCase()+e.slice(1);for(let n=0;n<l.b.length;n++){const r=l.b[n],i=r?""+r+t:e;if(c(i))return d[e]=i}return d[e]=e}(e)}},function(e,t,n){"use strict";function r(e,t){return{reason:e,details:t,getElapsedTime:Object(i.a)()}}n.d(t,"a",(function(){return r}));var i=n(38)},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.AdCompleted="AdCompleted",e.LoadSource="LoadSource",e.PlayerDestroy="PlayerDestroy",e.CutOff="CutOff",e.PlayerError="PlayerError",e.AdTypeChange="AdTypeChange",e.InsertIntoCalled="InsertIntoCalled",e.AdSkipped="AdSkipped"}(r||(r={}))},function(e,t,n){"use strict";function r(e){const{pathname:t}=Object(i.g)(e.toLocaleLowerCase()),n=Object(i.c)(t);return"ismc"===n||"ism"===n||""===n&&/\.ism(c|l)?\/manifest$/.test(t)}n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return r}));var i=n(11);const a=e=>"m3u8"===Object(i.c)(e.toLocaleLowerCase()),o=e=>"mpd"===Object(i.c)(e.toLocaleLowerCase()),s=e=>"mp4"===Object(i.c)(e.toLocaleLowerCase())},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e){const t=E[e];if(t)return t;p.href=e;let n=p.pathname||"";"/"!==n.charAt(0)&&(n="/"+n);const i={href:p.href,protocol:p.protocol,host:p.host,hostname:p.hostname,port:p.port,pathname:n,search:p.search,hash:p.hash,baseDomain:(p.hostname||"").split(".").slice(-2).join(".")};return E[e]=i,r({},i)}function a(e,t,n){if(void 0===t)return e;if(void 0===n)return e;const r=encodeURIComponent(t)+"="+encodeURIComponent(n);return p.href=e,p.search=p.search?p.search+"&"+r:"?"+r,p.href}function o(e,t){p.href=e;return((p.hash||"").slice(1).split("&").map(e=>e.split("=")).map(e=>{let[t,n]=e;return[t,void 0===n?"":n]}).find(e=>{let[n]=e;return n===t})||[])[1]}function s(e,t,n){if(void 0===t)return e;if(void 0===n)return e;const r=encodeURIComponent(t)+"="+encodeURIComponent(n);return p.href=e,p.hash=p.hash?p.hash+"&"+r:"#"+r,p.href}function c(e,t,n){return e=u(e,t),void 0===n?e:s(e,t,n)}function l(e,t,n){void 0===n&&(n={});for(const r in t)t.hasOwnProperty(r)&&(e=a(e,r,t[r]));for(const r in n)n.hasOwnProperty(r)&&(e=s(e,r,n[r]));return e}function d(e,t){if(-1===e.indexOf("?"))return e;p.href=e;const n=h(p.search.slice(1),t);return p.search=n?"?"+n:"",p.href}function u(e,t){if(-1===e.indexOf("#"))return e;p.href=e;const n=h(p.hash.slice(1),t);return p.hash=n?"#"+n:"",p.href}function h(e,t){return e.split("&").filter(e=>e!==t&&0!==e.indexOf(t+"=")).join("&")}function f(e,t){return-1===e.indexOf("?")?e:t.reduce(d,e)}n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"i",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return f}));const p=document.createElement("a"),E={}},function(e,t,n){"use strict";function r(e){return e.supported&&void 0!==e.engine}function i(e){return!e.supported&&void 0!==e.noSupportReason}n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"g",(function(){return r})),n.d(t,"f",(function(){return i}));var a=n(54);const o={supported:!1,noSupportReason:a.a.NO_MSE},s={supported:!1,noSupportReason:a.a.NO_CODECS},c={supported:!1,noSupportReason:a.a.NO_SUPPORTED_DRM},l={supported:!1,noSupportReason:a.a.NO_SUPPORTED_FORMAT},d={supported:!1,noSupportReason:a.a.INVALID_STREAM_URL}},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.Unknown="Unknown",e.ExternalApi="ExternalApi",e.VisiblePlayback="VisiblePlayback",e.RestoreAfterInsertInto="RestoreAfterInsertInto",e.WaitForSourceConfigUpdate="WaitForSourceConfigUpdate",e.CompletedRecoverSourceConfig="CompletedRecoverSourceConfig"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s}));const r="com.widevine.alpha",i="com.apple.fairplay",a="com.apple.fps.1_0",o="com.apple.fps.2_0",s="com.microsoft.playready"},function(e,t,n){"use strict";function r(e){const t=e.document;let n=t.getElementsByTagName("head")[0];return n||(n=t.createElement("head"),t.documentElement.appendChild(n)),n}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if(e&&e.location){const{location:t}=e;return"function"===typeof t.toString?t.toString():t.href||""}return""}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=1},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(78);const i=Object(r.a)()},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return c}));const r="modern",i="https://yastatic.net/yandex-video-player-iframe-api-bundles/1.0-7360/js/skin-loader.js",a="https://yastatic.net/yandex-video-player-iframe-api-bundles/hlsjs/0.12.2-1761-1846-1976_tmp-2080-2095-2146-2171-2-2172-2232_tmp-2427-2498/hls.min.js",o="https://yastatic.net/yandex-video-player-iframe-api-bundles/shaka/2.5.17-yandex-patched-custom-build-etimate-bandwidth-source/shaka-player.compiled.js",s="https://yastatic.net/yandex-video-player-iframe-api/is-android-player-supported/is-yandex-player-supported.js",c="https://yastatic.net/react/16.8.4/react-with-dom.min.js";"undefined"===typeof WEBPACK_IS_CI||WEBPACK_IS_CI},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(48),i=n(163),a=n(134);class o{static isMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(window.navigator.userAgent)}static isSafariDesktop(){return i.a&&!r.a}static setDeviceType(e){this.deviceType=e}static isSmartTV(){return"SMART_TV"===this.deviceType||/Smart.?TV|PlayStation/i.test(navigator.userAgent)}static canPlayHlsOnNative(){return this.isSmartTV()||a.a}}o.deviceType=void 0},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.Detached="Detached",e.Attaching="Attaching",e.Attached="Attached"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(7),i=n(0),a=n(68),o=n(194),s=n(83),c=n(171),l=n(252),d=n(103),u=n(239),h=n(152),f=n(32),p=n(72),E=n(43);let v;!function(e){e[e.HAVE_NOTHING=0]="HAVE_NOTHING",e[e.HAVE_METADATA=1]="HAVE_METADATA",e[e.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA",e[e.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA",e[e.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA"}(v||(v={}));var A=n(59);const m={autoplay:c.a,initialAutoplay:c.a,allowMuted:o.a,requireUserGestureToUnmute:!1,autoplayImpossible:!1,startStage:f.a.init,preload:c.b,from:void 0,encoderState:p.a.Detached,vsid:h.a,streams:[],stream:void 0,sourceParams:void 0,sourceId:0,volume:1,muted:!1,wasVolumeChanged:!1,userVolume:NaN,duration:Object(i.k)(NaN),currentTime:l.a,currentTimeLowGranularity:l.a,watchedTime:Object(i.k)(0),startPosition:{},programDateTime:void 0,fragmentDuration:d.a,dvrStartTime:Object(i.k)(0),dvrDuration:Object(i.k)(NaN),videoType:void 0,playingState:r.a.PAUSE,bufferingRanges:[],preview:s.a,isFullscreen:!1,isPip:!1,isVisible:void 0,pausedCauseVisibilityChange:!0,togglePlaybackOnVisibilityChangeSetting:void 0,errorInfo:{},lastRecoverPosition:void 0,isOnline:!0,isDocumentVisible:!0,lastKnownBandwidthEstimate:{value:Object(i.e)(NaN),source:"default"},videoTagReadyState:v.HAVE_NOTHING,isAbrSupported:!1,isAbrEnabled:!1,videoTrackValue:void 0,videoTracks:[],userVideoTrackName:void 0,userVideoTrackHeight:void 0,audioTrackValue:void 0,audioTracks:[],userAudioTrackName:void 0,userAudioTrackLang:void 0,textTrackEnabled:!1,nativeTextTrackVisible:void 0,textTrackValue:void 0,textTracks:[],userTextTrackEnabled:void 0,userTextTrackLang:void 0,userTextTrackName:void 0,subtitles:[],playbackRate:a.a,expectedStalled:Object(A.a)(E.a.Init,void 0),liveOffset:u.a,featuresParams:{},featuresEnabled:[],tileMetaInfo:void 0,videoWidth:Object(i.j)(0),videoHeight:Object(i.j)(0),initTime:Object(i.k)(0),videoInfo:{},playerConfig:void 0,preloadDetails:void 0}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r,i=n(3);!function(e){e[e.MEDIA_ERR_CUSTOM=0]="MEDIA_ERR_CUSTOM",e[e.MEDIA_ERR_ABORTED=1]="MEDIA_ERR_ABORTED",e[e.MEDIA_ERR_NETWORK=2]="MEDIA_ERR_NETWORK",e[e.MEDIA_ERR_DECODE=3]="MEDIA_ERR_DECODE",e[e.MEDIA_ERR_SRC_NOT_SUPPORTED=4]="MEDIA_ERR_SRC_NOT_SUPPORTED",e[e.MEDIA_ERR_ENCRYPTED=5]="MEDIA_ERR_ENCRYPTED"}(r||(r={}));class a{constructor(e){this.code=0,this.message="",this.details=void 0,"number"===typeof e?this.code=e:"string"===typeof e?this.message=e:Object(i.a)(e)&&("number"===typeof e.code&&(this.code=e.code),"string"===typeof e.message&&(this.message=e.message),this.details=e.details),this.message||(this.message=r[this.code]||"")}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));const r=["","webkit","moz","o","ms"],i=["","-webkit-","-ms-","-moz-","-o-"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e%10,r=e%100;return e?1===n&&11!==r?t.one:n>=2&&n<=4&&12!==r&&13!==r&&14!==r?t.some:t.many||"":t.none||""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e?1===e?t.one:t.some:t.none||""}},function(e,t,n){"use strict";function r(e){void 0===e&&(e=window);const{userAgent:t=""}=e.navigator,n=/Android/.test(t),r=Object(i.a)(e),a=/com\.yandex\.mobile\.metrica\.ads\.sdk.*?Android/.test(t);return n&&!r||a}n.d(t,"a",(function(){return r}));var i=n(198)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(104);let i=function(e,t,n){e.attachEvent("on"+t,n)},a=function(e,t,n){e.detachEvent("on"+t,n)};Object(r.a)(document,"addEventListener")&&Object(r.a)(document,"removeEventListener")&&(i=function(e,t,n,i){const a=e&&Object(r.a)(e,"addEventListener");a&&a.call(e,t,n,i)},a=function(e,t,n,i){const a=e&&Object(r.a)(e,"removeEventListener");a&&a.call(e,t,n,i)})},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(131);const{length:i}=r.a,a=i>0?r.a[i-1].ownerDocument.defaultView:window},function(e,t,n){"use strict";function r(e){let{win:t=window,src:n,checkLoad:r,onBeforeLoad:i=d.a,onLoad:a=d.a,withCredentials:o=!1}=e;h.b["ll1.0-7360"]=h.b["ll1.0-7360"]||{};const s=h.b["ll1.0-7360"];return s[n]||(s[n]=Object(u.a)({checkLoad:r,win:t,src:n,retries:3,dropCacheOnRetry:!0,onBeforeLoad:e=>{o||(e.crossOrigin="anonymous"),i()}}).then(a),s[n].catch(()=>delete s[n])),s[n]}function i(){let e=!1;return r({src:p.c,checkLoad:()=>"undefined"!==typeof Hls,onBeforeLoad:()=>{e=!0,Object(f.c)("lib.hlsjs")},onLoad:()=>{e&&Object(f.a)("lib.hlsjs")}})}function a(){let e=!1;return r({src:p.e,checkLoad:()=>"undefined"!==typeof shaka,onBeforeLoad:()=>{e=!0,Object(f.c)("lib.shaka")},onLoad:()=>{e&&Object(f.a)("lib.shaka")}}).then(()=>shaka.polyfill.installAll())}function o(){Object(f.c)("int.avplay");return n.e(0).then(n.bind(null,333)).then(()=>Object(f.a)("int.avplay"))}function s(){Object(f.c)("int.webos");return n.e(7).then(n.bind(null,335)).then(()=>Object(f.a)("int.webos"))}function c(){Object(f.c)("int.orsay");return n.e(2).then(n.bind(null,334)).then(()=>Object(f.a)("int.orsay"))}function l(){Object(f.c)("int.playstation");return n.e(5).then(n.bind(null,336)).then(()=>Object(f.a)("int.playstation"))}n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"g",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l}));var d=n(2),u=(n(27),n(121)),h=n(124),f=n(23),p=n(70)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const r=n(228),i=function(e){void 0===e&&(e=window);const t=r(e);return"boolean"===typeof t?-1:t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=n(101).a?"":"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},function(e,t,n){"use strict";function r(e){setTimeout(()=>{throw e},0)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){const n=function(e){const t=Object(s.a)(e);if(t)return t.replace(/hidden/i,"visibilitychange")}(e);return n?Object(a.a)(e,n,()=>{t(Object(o.a)(e))}):i.a}n.d(t,"a",(function(){return r}));var i=n(2),a=n(16),o=n(42),s=n(149)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=(e,t,n)=>{const r=[];for(let i=0;i<e.length;i++){const a=e[i];t.call(n,a,i,e)&&r.push(a)}return r}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(24);const i=[].find,a=Object(r.a)(i)?(e,t)=>i.call(e,t):(e,t)=>{for(let n=0;n<e.length;n++){const r=e[n];if(t(r,n,e))return r}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(9);const i=Date&&Object(r.a)(Date.now)?()=>Date.now():()=>(new Date).getTime()},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=(e,t,n)=>{for(let r=0;r<e.length;r++)t.call(n,e[r],r,e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return s}));var r=n(53);const i=1,a=0,o=r.a.internalToPublic(a),s=r.a.internalToPublic(i)},function(e,t,n){"use strict";function r(e){o=window.Ya.Rum.makeSubPage(e?"Init":"SetSource"),s++}function i(){return o}function a(){return s}let o;n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));let s=-1},function(e,t,n){"use strict";function r(e){return e===i.a.overlay||e===i.a.inrollOverlay}n.d(t,"a",(function(){return r}));var i=n(26)},function(e,t,n){"use strict";function r(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Object(i.a)(e)&&e.forEach(e=>{"function"===typeof e&&e(...n)})}n.d(t,"a",(function(){return r}));var i=n(45)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(144);const i=-1===r.b.indexOf(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=document.createElement("video")},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.OFFLINE="offline",e.IDLE="idle",e.ATTEMPT="attempt",e.PLAYING="playing",e.ERROR="error"}(r||(r={}))},function(e,t,n){"use strict";function r(e){let t="",n="";if(e){Object(i.a)(e).reverse().forEach(e=>{let{location:r,referrer:i}=e;t=t||r,n=n||i})}return{location:t,referrer:n}}n.d(t,"a",(function(){return r}));var i=n(114)},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n(0);const i=1,a=Object(r.k)(10)},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return c}));n(55),n(93);var i=n(2);const a=i.a,o=i.a,s=i.a,c=e=>{let{win:t,propertyName:n}=e;return{call:e=>a(r({win:t,propertyName:n},e)),subscribe:e=>s(r({win:t,propertyName:n},e)),wait:e=>(e=>{let{propertyName:t,win:n}=e;return new Promise(e=>{s({callback:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e(n)},propertyName:t,win:n})})})(r({win:t,propertyName:n},e)),waitUntil:e=>(e=>{let{propertyName:t,win:n,comparator:r}=e;return new Promise(e=>{s({propertyName:t,win:n,callback:function(){r(...arguments)&&e()}})})})(r({win:t,propertyName:n},e)),clear:e=>o(r({win:t,propertyName:n},e))}}},function(e,t,n){"use strict";function r(e){try{return JSON.stringify(e,function(){const e=[],t=function(){const e="undefined"!==typeof WeakMap?new WeakMap:void 0,t=[];return{set:(n,r)=>{if(void 0!==e)try{e.set(n,r)}catch(i){t.push({path:r,value:n})}else t.push({path:r,value:n})},get:n=>{const r=Object(i.a)(t,e=>e.value===n);return void 0!==e&&void 0===r?e.get(n):r?r.path:void 0}}}();return(n,r)=>{if(Object(a.a)(r))return Object(s.a)(r.name)?r.name:"[Function]";if(!Object(o.a)(r))return r;if(i=r,"[object Window]"===Object.prototype.toString.call(i))return"[object Window]";var i;if(function(e){return Object(s.a)(e.tagName)}(r))return"[DOMNode "+r.tagName+"]";const c=t.get(r);if(c)return"[Circular "+c+"]";for(;e.length>0&&e[e.length-1].value[n]!==r;)e.pop();const l=(e.length>0?e[e.length-1].path:"")+(n?"/"+n:"~");return e.push({path:l,value:r}),t.set(r,l),r}}())}catch({message:t,stack:n}){return JSON.stringify({__stringifyError:{message:t,stack:n}})}}n.d(t,"a",(function(){return r}));var i=n(87),a=n(9),o=n(3),s=n(15)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(106),i=n(102),a=n(154);const o=(void 0===s&&(s=window),Object(a.a)(s)||Object(i.a)(s)||function(e){return void 0===e&&(e=window),/Apple/.test(e.navigator.vendor)&&Object(r.a)(e)}(s));var s},function(e,t,n){"use strict";function r(e){void 0===e&&(e=window);const t=e.navigator.userAgent.toLowerCase();return/ipad|iphone|ipod/.test(t)&&!e.MSStream&&!function(e){void 0===e&&(e=window);return e.navigator.userAgent.indexOf("UCBrowser")>-1}(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);const i=Object(r.l)(Object(r.k)(5))},function(e,t,n){"use strict";function r(e,t){let n=e[t];if(!Object(i.a)(n)){const i=n;try{delete e[t];const r=e[t];"function"===typeof r&&(n=r),e[t]=i}catch(r){}}return n}n.d(t,"a",(function(){return r}));var i=n(24)},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e){return new Promise((t,n)=>{Object(a.a)(r({},e,{onSuccess:t,onError:n}))})}n.d(t,"a",(function(){return i}));var a=n(112)},function(e,t,n){"use strict";function r(e){return function(e){return Boolean(e.PointerEvent)}(e)&&function(e){const t=e.navigator||{},{msMaxTouchPoints:n,maxTouchPoints:r}=t;return n||r||0}(e)>0&&!function(e){void 0===e&&(e=window);return Object(o.a)(e)>11}(e)}function i(e,t){if(!Object(c.a)(e.matchMedia))return!1;const n=e.matchMedia(t);return Object(l.a)(n)&&Boolean(n.matches)}function a(e){return void 0===e&&(e=window),r(e)||function(e){return i(e,u)}(e)||function(e){return i(e,h)}(e)||function(e){const{DocumentTouch:t}=e;return Boolean(t)&&e.document instanceof t}(e)||function(e){return"ontouchstart"in e}(e)}n.d(t,"a",(function(){return a}));var o=n(82);var s=n(46),c=n(9),l=n(3),d=n(75);const u=Object(s.a)(d.a,e=>"("+e+"any-pointer:coarse)").join(","),h=Object(s.a)(d.a,e=>"("+e+"touch-enabled)").join(",")},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(88),i=n(9);const a="undefined"===typeof window?void 0:window.performance,o=a&&Object(i.a)(a.now),s=a&&a.timing&&a.timing.navigationStart?a.timing.navigationStart:Object(r.a)();let c=0;const l=o?()=>a.now():()=>(()=>{const e=Object(r.a)()-s;return c=Math.max(e,c),c})()},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(35),i=n(15),a=n(17),o=n(115);class s extends r.a{constructor(e,t){super(e,t),this.category=void 0,this.toJSON=void 0,this.category=Object(o.a)(this.code),this.toJSON=()=>({message:this.message,code:this.code,isFatal:this.isFatal,details:Object(a.a)(()=>Object(i.a)(this.details)?this.details:JSON.stringify(this.details))||this.details,stack:this.stack,category:this.category})}}},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.TestFeature="TestFeature",e.NativeUI="NativeUI",e.SkippableFragments="SkippableFragments",e.Recommendations="Recommendations",e.CloseButton="CloseButton"}(r||(r={}))},function(e,t,n){"use strict";function r(e){return a.a.indexOf(Object(i.g)(e).hostname)>-1}n.d(t,"a",(function(){return r}));var i=n(11),a=n(261)},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.SetMuted="SetMuted",e.SetVolume="SetVolume",e.RequestAutoplaySettings="RequestAutoplaySettings",e.VolumeChangeEvent="VolumeChangeEvent",e.RestoreSavedMuted="RestoreSavedMuted"}(r||(r={}))},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e){const{method:t,url:n,async:l=!0,data:d,responseType:u="text",onBeforeSend:h=o.a,onRetry:f=o.a,checkStatus:p=(e=>c===e),headers:E={},xhrConstructor:v=XMLHttpRequest,retries:A=0,timeout:m=0,withCredentials:g,onAbort:O,onSetup:T}=e,y=e.onSuccess?Object(a.a)(e.onSuccess):o.a,S=e.onError?Object(a.a)(e.onError):o.a;let R,_=!1,b=0,P=e=>{_=!0,P=o.a,R=e,I(new Error("Abort request")),"function"===typeof O&&O(e)};const I=t=>{C.onerror=null,C.onreadystatechange=null,b&&clearTimeout(b);if(b&&4!==C.readyState||_)try{C.abort()}catch(t){}if(!_)if(A>0){const n=f(t,C);if("boolean"!==typeof n||Boolean(n)||P(),_)return;i(r({},e,{onSetup:e=>{let{abort:t}=e;P=e=>t(e),_&&t(R)},retries:A-1}))}else P=o.a,S(t,C)},C=new v;try{C.open(t,n,l)}catch(N){return void I(N)}if(C.responseType=u,C.withCredentials=Boolean(g),Object(s.a)(E,(e,t)=>{try{C.setRequestHeader(t,e)}catch(N){}}),m>0&&isFinite(m)&&(b=window.setTimeout(()=>{I(new Error("Request timeout, "+n))},m)),C.onerror=I,C.onreadystatechange=()=>{if(4===C.readyState){const{status:e}=C;p(e)?(P=o.a,clearTimeout(b),y(C)):I(new Error("Invalid request status "+e+", "+n))}},("function"!==typeof T||(T({abort:e=>P(e)}),!_))&&(h(C,e),!_))try{C.send(d)}catch(N){I(N)}}n.d(t,"a",(function(){return i}));var a=n(22),o=n(2),s=n(27);const c=200},function(e,t,n){"use strict";function r(){const e=o.a<5;return Object(a.a)(d,e=>{let[t,n]=e;const r=Object(l.a)(t);if(void 0===r)return!1;const[i]=r;return i<n})||e}function i(){return c.a||s.a&&r()}n.d(t,"a",(function(){return i}));var a=n(122),o=n(169),s=n(69),c=n(130),l=n(157);const d=[["XiaoMi/MiuiBrowser",11],["UCBrowser",12],["HuaweiBrowser",9]]},function(e,t,n){"use strict";function r(e){const t=Object(a.a)(e.documentElement).map(e=>e.ownerDocument);return t.unshift(e),t.map(e=>({location:Object(i.a)(e.defaultView),referrer:e.referrer}))}n.d(t,"a",(function(){return r}));var i=n(67),a=n(155)},function(e,t,n){"use strict";function r(e){if(void 0===e)return i.a.DEFAULT;const t=function(e){switch(e){case a.a.DEFAULT_ERROR:return i.a.DEFAULT;case a.a.BROADCAST_AD_BLOCK_INIT_ERROR:case a.a.AD_LOADER_INIT_ERROR:case a.a.AD_TYPE_IS_NOT_RECOGNIZED:case a.a.AD_IS_ALREADY_PLAYING:case a.a.AD_CANNOT_FIND_CONTAINER_TO_PLAY:case a.a.MULTIROLL_INIT_ERROR:case a.a.PREROLL_ERROR:case a.a.PLAY_AD_VIEWERS_ERROR:return i.a.ADS;case a.a.INVALID_METADATA:case a.a.UNEXPECTED_FEATURE_NAME:case a.a.UNEXPECTED_FEATURE_ACTION_NAME:case a.a.NO_PARAMS_IN_FEATURE_ACTION:case a.a.REQUIRED_FEATURE_IS_NOT_IN_BUNDLE:case a.a.NO_STREAMS:return i.a.CONFIG;case a.a.YANDEX_RPC_ERROR:case a.a.PUBLIC_API_CALL_ERROR:case a.a.ON_TICK_ERROR:case a.a.SAGA_ERROR:case a.a.SHAKA_FILTER_ERROR:case a.a.SHAKA_CONFIGURE_ERROR:case a.a.REFRESH_SUBTITLES_ERROR:case a.a.NO_HLS_JS_INSTANCE:case a.a.RAA_TAKING_2SEC:case a.a.RAA_TAKING_10SEC:case a.a.REACT_COMPONENT_DID_CATCH_ERROR_INFO:case a.a.FEATURE_ACTION_DISPATCH_ERROR:case a.a.TANKER_KEY_ERROR:case a.a.RECOVER_TASK_ERROR:case a.a.PRELOAD_SOURCE_FAILED:case a.a.MEDIA_ERR_ABORTED:case a.a.AVPLAY_ERROR_PLAYER_ERROR_INVALID_STATE:case a.a.AVPLAY_ERROR_PLAYER_ERROR_INVALID_OPERATION:case a.a.AVPLAY_ERROR_PLAYER_ERROR_INVALID_PARAMETER:case a.a.AVPLAY_ERROR_PLAYER_ERROR_SEEK_FAILED:return i.a.EXCEPTION;case a.a.UNSUPPORTED_MEDIA_TYPE:case a.a.NATIVE_HLS_NOT_SUPPORTED_ERROR:case a.a.HLS_JS_NOT_SUPPORTED_ERROR:case a.a.MEDIA_ERR_SRC_NOT_SUPPORTED:case a.a.MEDIA_ERR_DECODE:case a.a.MEDIA_ERR_CUSTOM:case a.a.AVPLAY_ERROR_PLAYER_ERROR_NOT_SUPPORTED_FORMAT:case a.a.AVPLAY_ERROR_UNKNOWN_ERROR:case a.a.AVPLAY_ERROR_PLAYER_ERROR_INVALID_URI:case a.a.AVPLAY_ERROR_PLAYER_ERROR_NOT_SUPPORTED_FILE:case a.a.AVPLAY_ERROR_PLAYER_ERROR_NO_SUCH_FILE:case a.a.AVPLAY_ERROR_PLAYER_ERROR_NONE:case a.a.AVPLAY_ERROR_PLAYER_ERROR_GENEREIC:case a.a.AVPLAY_ERROR_PREPARE_ASYNC_TIMEOUT:case a.a.AVPLAY_ERROR_SEEK_TO_TIMEOUT:case a.a.WEBOS_ERROR_UNKNOWN_ERROR:case a.a.PLAYSTATION_PLAYER_ERROR_VIDEO_ERROR:case a.a.PLAYSTATION_PLAYER_ERROR_UNEXPECTED_ERROR:case a.a.ORSAY_ERROR_UNKNOWN_ERROR:case a.a.ORSAY_ERROR_UNSUPPORTED_CONTAINER:case a.a.ORSAY_ERROR_UNSUPPORTED_VIDEO_CODEC:case a.a.ORSAY_ERROR_UNSUPPORTED_AUDIO_CODEC:case a.a.ORSAY_ERROR_UNSUPPORTED_VIDEO_RESOLUTION:case a.a.ORSAY_ERROR_UNSUPPORTED_VIDEO_FRAMERATE:case a.a.ORSAY_ERROR_CORRUPTED_STREAM:case a.a.ORSAY_ERROR_UNEXPECTED_ERROR:case a.a.REPRESENTATION_CHANGE:return i.a.MEDIA;case a.a.HLS_CONTROLLER_SCRIPT_LOAD_ERROR:case a.a.MPD_CONTROLLER_SCRIPT_LOAD_ERROR:case a.a.MP4_CONTROLLER_SCRIPT_LOAD_ERROR:case a.a.YANDEX_CONTROLLER_SCRIPT_LOAD_ERROR:case a.a.SCRIPT_INIT_ERROR:case a.a.MPD_SHAKA_INIT_ERROR:case a.a.META_INFO_REQUEST_FAILED:case a.a.STRM_ABD_INVALID_RESPONSE:return i.a.NETWORK_PLAYER;case a.a.MEDIA_ERR_NETWORK:case a.a.AVPLAY_ERROR_PLAYER_ERROR_CONNECTION_FAILED:case a.a.ORSAY_ERROR_CONNECTION_FAILED:case a.a.ORSAY_ERROR_NETWORK_DISCONNECTED:case a.a.ORSAY_ERROR_STREAM_NOT_FOUND:case a.a.PLAYSTATION_STREAMING_ERROR_CONNECTION_FAILED:case a.a.PLAYSTATION_STREAMING_ERROR_HTTP_STATUS_FAIL:case a.a.PLAYSTATION_STREAMING_ERROR_UNEXPECTED_ERROR:return i.a.NETWORK_MEDIA;case a.a.MPD_WIDEVINE_CERT_LOAD_ERROR:case a.a.FAIRPLAY_CERT_LOAD_ERROR:case a.a.FAIRPLAY_CREATE_MEDIA_KEYS_ERROR:case a.a.FAIRPLAY_CREATE_KEY_SESSION_ERROR:case a.a.FAIRPLAY_SPC_LOAD_ERROR:case a.a.FAIRPLAY_CREATE_KEY_ERROR:case a.a.FAIRPLAY_INVALID_CONTENT_ID:case a.a.DRM_PROXY_ERROR:case a.a.DRM_PROXY_ERROR_SIGNATURE_EXPIRED:case a.a.WEBOS_DRM_ERROR_DRM_TYPE_NOT_SUPPORTED:case a.a.WEBOS_DRM_ERROR_RESULT_OF_SEND_DRM_MESSAGE_EMPTY:case a.a.WEBOS_DRM_ERROR_UNEXPECTED_ERROR:case a.a.AVPLAY_ERROR_DRM_ERROR:case a.a.PLAYSTATION_PLAYER_ERROR_DRM_ERROR:case a.a.ORSAY_ERROR_AUTHENTICATION_FAILED:case a.a.MEDIA_ERR_ENCRYPTED:case a.a.FAIRPLAY_NOT_SUPPORTED:case a.a.NO_DRM:return i.a.DRM;case a.a.REGIONAL_LIMITATION_MANIFEST:case a.a.REGIONAL_LIMITATION_LEVEL:case a.a.REGIONAL_LIMITATION_SEGMENT:return i.a.REGIONAL;case a.a.SIGNATURE_EXPIRED_MANIFEST:case a.a.SIGNATURE_EXPIRED_LEVEL:case a.a.SIGNATURE_EXPIRED_SEGMENT:return i.a.ACCESS;case a.a.NO_CODECS:return i.a.NO_CODECS;case a.a.NO_PLAYABLE_STREAMS:return i.a.CANNOT_PLAY;case a.a.NO_MSE:return i.a.UNSUPPORTED_ENV;case a.a.INVALID_STREAM_URL:return i.a.INVALID_STREAM_URL}return i.a.DEFAULT}(e);if(t!==i.a.DEFAULT)return t;switch(e){case o.a.BUFFER_FULL_ERROR:case o.a.BUFFER_NUDGE_ON_STALL:case o.a.BUFFER_STALLED_ERROR:case o.a.SHAKA_VIDEO_ERROR_3016:case o.a.FRAG_PARSING_ERROR:case o.a.BUFFER_SEEK_OVER_HOLE:case o.a.BUFFER_APPENDING_ERROR:case o.a.PIPELINE_ERROR_DECODE:case o.a.DECODER_ERROR_NOT_SUPPORTED:case o.a.BUFFER_APPEND_ERROR:case o.a.SHAKA_MEDIA_SOURCE_OPERATION_THREW_3015:case o.a.MEDIA_ELEMENT_ERROR_FORMAT_ERROR:case o.a.REMUX_ALLOC_ERROR:case o.a.BUFFER_ADD_CODEC_ERROR:case o.a.DEMUXER_ERROR_COULD_NOT_OPEN:case o.a.NS_ERROR_DOM_INVALID_STATE_ERR:case o.a.SHAKA_DASH_INVALID_XML_4001:case o.a.SHAKA_QUOTA_EXCEEDED_ERROR_3017:case o.a.CHUNK_DEMUXER_ERROR_APPEND_FAILED:case o.a.FAILED_TO_INIT_DECODER:case o.a.PIPELINE_ERROR_INITIALIZATION_FAILED:case o.a.NS_ERROR_FAILURE:case o.a.SHAKA_MEDIA_SOURCE_OPERATION_FAILED_3014:case o.a.REQUEST_FAILED:case o.a.PIPELINE_ERROR_EXTERNAL_RENDERER_FAILED:case o.a.PIPELINE_ERROR_COULD_NOT_RENDER:case o.a.NS_ERROR_DOM_MEDIA_METADATA_ERR:case o.a.MEDIA_ELEMENT_ERROR_EMPTY_SRC_ATTRIBUTE:case o.a.NS_ERROR_DOM_MEDIA_FATAL_ERR:case o.a.SHAKA_RESTRICTIONS_CANNOT_BE_MET_4012:case o.a.MANIFEST_PARSING_ERROR:return i.a.MEDIA;case o.a.FRAG_LOAD_ERROR:case o.a.SHAKA_BAD_HTTP_STATUS_1001_MANIFEST:case o.a.SHAKA_HTTP_ERROR_1002_SEGMENT:case o.a.MANIFEST_LOAD_ERROR:case o.a.LEVEL_LOAD_ERROR:case o.a.SHAKA_HTTP_ERROR_1002_MANIFEST:case o.a.SHAKA_BAD_HTTP_STATUS_1001_SEGMENT:case o.a.SHAKA_UNSUPPORTED_SCHEME_1000:case o.a.AUDIO_TRACK_LOAD_ERROR:return i.a.NETWORK_MEDIA;case o.a.SHAKA_TIMEOUT_1003_SEGMENT:case o.a.FRAG_LOAD_TIME_OUT:case o.a.MANIFEST_LOAD_TIME_OUT:case o.a.LEVEL_LOAD_TIME_OUT:case o.a.SHAKA_TIMEOUT_1003_MANIFEST:case o.a.SHAKA_TIMEOUT_1003_LICENSE:case o.a.AUDIO_TRACK_LOAD_TIME_OUT:return i.a.NETWORK_TIMEOUT;case o.a.INTERNAL_EXCEPTION:case o.a.SHAKA_OPERATION_ABORTED_7001:case o.a.ON_PLAYER_INIT_ERROR_INTERNAL:case o.a.EXTERNAL_POST_MESSENGER_SEND_MESSAGE_ERROR:case o.a.INTERNAL_POST_MESSENGER_SEND_MESSAGE_ERROR:case o.a.LOAD_SKIN_ERROR:case o.a.INSERT_INTO_WITH_SECURE_FRAME:case o.a.ERROR_SCREEN_LOAD_ERROR:return i.a.EXCEPTION;case o.a.UNABLE_TO_LOAD_PLAYER_IFRAME:case o.a.ON_PLAYER_INIT_ERROR:case o.a.LOADER_INIT_ERROR:case o.a.UNABLE_TO_LOAD_PLAYER_INTERNAL_SCRIPT:case o.a.FAILED_TO_DOWNLOAD_DEBUG_INFO:case o.a.SHAKA_REQUEST_FILTER_ERROR_1006:return i.a.NETWORK_PLAYER;case o.a.PLAYER_CONTAINER_NOT_FOUND:case o.a.KEY_LOAD_ERROR:case o.a.FEATURE_HANDLER_ERROR:case o.a.SHAKA_NO_LICENSE_SERVER_GIVEN_6012:case o.a.INVALID_CONFIG_ELEMENT_IN_CREATE_PLAYER:case o.a.INVALID_CONFIG_LANG_IN_CREATE_PLAYER:case o.a.INVALID_CONFIG_IN_CREATE_PLAYER:case o.a.INVALID_CONFIG_IN_SET_SOURCE:case o.a.INVALID_CONFIG_IN_SOURCE_UPDATE:case o.a.ELEMENT_NOT_IN_DOM:return i.a.CONFIG;case o.a.SHAKA_FAILED_TO_CREATE_CDM_6002:case o.a.SHAKA_HTTP_ERROR_1002_LICENSE:case o.a.SHAKA_LICENSE_REQUEST_FAILED_6007:case o.a.SHAKA_FAILED_TO_GENERATE_LICENSE_REQUEST_6006:case o.a.SHAKA_REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE_6001:case o.a.SHAKA_FAILED_TO_ATTACH_TO_VIDEO_6003:case o.a.SHAKA_LICENSE_RESPONSE_REJECTED_6008:case o.a.SHAKA_INVALID_SERVER_CERTIFICATE_6004:case o.a.SHAKA_EXPIRED_6014:case o.a.SHAKA_BAD_HTTP_STATUS_1001_LICENSE:return i.a.DRM;case o.a.SHAKA_CONTENT_UNSUPPORTED_BY_BROWSER_4032:return i.a.NO_CODECS}return i.a.DEFAULT}n.d(t,"a",(function(){return r}));n(147);var i=n(6),a=n(1),o=n(4)},function(e,t,n){"use strict";function r(e){p.flagsInited||(p.flagsInited=!0,Object(u.a)(e)&&Object(u.a)(e.flags)&&Object(h.a)(()=>{Object(d.a)(e.flags,(e,t)=>{E[t]=String(e)})}))}function i(e){Object(u.a)(e)&&Object(h.a)(()=>{r({flags:JSON.parse(e.flags)})})}function a(){return l(),Object(h.a)(()=>JSON.stringify(E))||"{}"}function o(){return l(),E}function s(e){return l(e),E[e]}function c(e,t){const n=s(e);return void 0===n?t:"true"===n||"1"===n||"false"!==n&&"0"!==n&&t}function l(e){if(p.flagsInited)return;const t=new Error(e?"Unexpected usage of player's flag "+e+" before any flag configuration":"Unexpected usage of player's getFlagsJson before any flag configuration");setTimeout(()=>{throw t})}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return c}));n(12);var d=n(27),u=n(3),h=n(17),f=n(31);const p=Object(f.a)(window);let E={};p.flags||(p.flags=E)},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return a}));var i=n(2);const a={loadCsrfToken:e=>({promise:e.request({method:"GET",url:"https://frontend.vh.yandex.ru/csrf_token",retries:3,withCredentials:!0}).then(e=>{try{return{token:e}}catch(t){return{token:""}}}),abort:i.a}),loadCachedPlayers:e=>({promise:e.request({method:"GET",url:"https://cloud-api.yandex.ru/videoplayer/v1/personality/profile/yandex_io/devices/",retries:3,withCredentials:!0}).then(e=>{try{const{items:t}=JSON.parse(e);return t&&t.length?t:[]}catch(t){return[]}}),abort:i.a}),loadPlayers:e=>({promise:e.request({method:"GET",url:"https://quasar.yandex.<tld>/devices_online_stats",retries:3,withCredentials:!0}).then(e=>{try{const{items:t}=JSON.parse(e);return t&&t.length?t:[]}catch(t){return[]}}),abort:i.a}),requestPlay:(e,t,n)=>{const a={msg:r({},t.config,{start_position:t.startPosition}),device:t.externalPlayerId};return{promise:e.request({method:"POST",url:"https://yandex.ru/video/station",headers:{"X-CSRF-TOKEN":n},data:JSON.stringify(a),retries:3,withCredentials:!0}).then(e=>{const t=JSON.parse(e);if("play"!==t.status)throw new Error("ExternalPlaybackError: "+t.msg)}),abort:i.a}}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return s}));var r=n(2),i=n(79);let a=!1,o=!1,s=!1;try{if(function(e){void 0===e&&(e=window);const t=e.Object;try{const e={};return t.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(n){return!1}}()){const e=document.createElement("div"),t={};Object.defineProperty(t,"once",{get:()=>a=!0}),Object.defineProperty(t,"passive",{get:()=>o=!0}),Object.defineProperty(t,"capture",{get:()=>s=!0}),Object(i.a)(e,"click",r.a,t)}}catch(c){}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>{try{const{left:t,right:n,top:r,bottom:i}=e.getBoundingClientRect();return{left:t,right:n,top:r,bottom:i,width:n-t,height:i-r}}catch(t){return{left:0,width:0,top:0,height:0,right:0,bottom:0}}}},function(e,t,n){"use strict";function r(e){return"string"===typeof e?e.split(";"):[]}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e){return new Promise((t,n)=>{Object(a.a)(r({},e,{onLoad:t,onError:n}))})}n.d(t,"a",(function(){return i}));var a=n(129)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=(e,t)=>{for(let n=0;n<e.length;n++)if(t(e[n],n,e))return!0;return!1}},function(e,t,n){"use strict";function r(){s=Object(a.a)(document)}function i(){return s}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var a=n(42),o=n(85);let s=Object(a.a)(document);Object(o.a)(document,e=>{e||(s=e)})},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));const r=window;r.Ya||(r.Ya={}),r.Ya.streamPlayer||(r.Ya.streamPlayer={});window.Ya.streamPlayer,window.Ya.streamPlayer;var i=n(187),a=n(189);const o=[...i.a,...a.a,"getState","getReadyState"],s=window;s.Ya||(s.Ya={}),s.Ya.playerApi||(s.Ya.playerApi={}),s.Ya.playerApi.METHODS||(s.Ya.playerApi.METHODS=o);const c=window.Ya.playerApi,l=window.Ya.playerApi},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>{let t=0;return{promise:new Promise(n=>{t=window.setTimeout(n,e)}),clear(){clearTimeout(t)},timeoutId:t}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(106);const i=Object(r.a)()},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(153),i=n(152);const a={from:r.a,reqid:void 0,hash:void 0,vsid:i.a,adsid:void 0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="function"===typeof n(95).a.load},function(e,t,n){"use strict";function r(e,t){void 0===e&&(e="a"),void 0===t&&(t="z");const n=function(e,t){let n=e+Object(f.a)()*(t+1-e);return n=Math.floor(n),n}(e.charCodeAt(0),t.charCodeAt(0));return String.fromCharCode(n)}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e){const{dropCacheOnRetry:t=!1,onBeforeLoad:n=d.a,retries:a=0}=e;if(e.checkLoad&&e.checkLoad())return void(e.onLoad&&e.onLoad());let o=n,s=0;return t&&a>0&&(o=e=>{if(n(e),s>0){const t=-1===e.src.indexOf("?")?"?":"&",n=function(e){const t=[];for(let n=0;n<e;n++)t.push(r());return t.join("")}(4);e.src+=t+n}s++}),function e(t){const{src:n,win:r=window,charset:a=p.a,async:o=!0,retries:s=0,onRetry:c=d.a,retryDelay:l=0,checkLoad:f=E,onBeforeLoad:v=d.a,onLoad:A=d.a,onError:m=d.a}=t,g=r.document.createElement("script"),O=r=>{s>0?(c(r),e(i({},t,{src:n,retries:s-1}))):m(r),Object(h.a)(g)};g.type="text/javascript",g.async=o,g.onload=()=>f(g)?A():O(new Error("checkLoad for "+n+" failed")),g.onerror=e=>{try{r.setTimeout(()=>{O(e)},l)}catch(e){}},g.src=n,g.charset=a,v(g),Object(u.a)(r).appendChild(g)}(i({},e,{onBeforeLoad:o}))}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e){const{win:t=window,src:n,retries:r=0,onError:i=d.a}=e,s=new l.a({id:c.LOAD_SCRIPT_ERROR,message:"Failed to load script ["+n+"]",details:{src:n,isSelfWindow:t===window,onBeforeLoad:Boolean(e.onBeforeLoad),retries:r}});a(o({},e,{win:t,onError:()=>i(s)}))}var c;n.d(t,"a",(function(){return s})),function(e){e.LOAD_SCRIPT_ERROR="LOAD_SCRIPT_ERROR",e.STATS_SENSOR_NAME_ERROR="STATS_SENSOR_NAME_ERROR",e.STATS_LABEL_KEY_ERROR="STATS_LABEL_KEY_ERROR",e.STATS_LABEL_VALUE_ERROR="STATS_LABEL_VALUE_ERROR"}(c||(c={}));var l=n(35),d=n(2),u=n(66),h=n(33),f=n(49),p=n(150);const E=e=>!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(78);var i=n(106);const a=function(e){void 0===e&&(e=window);const{platform:t=""}=e.navigator||{};return function(e){void 0===e&&(e=window);const{vendor:t=""}=e.navigator||{};return 0===t.indexOf("Google")}(e)&&!Object(r.a)(e)&&0===t.indexOf("Linux ")&&Object(i.a)(e)}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(155);const i=Object(r.a)(document.documentElement)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const r="#FFCC00",i="#EEEEEE"},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=Math.random()<=.1},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(169),i=n(201);const a=Object(i.a)("application/vnd.apple.mpegurl")||r.a>=4.4},function(e,t,n){"use strict";function r(e,t){!function(e){return"function"===typeof e.dispatch}(e)?e(t):e.dispatch(t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r={min:0,max:1/0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.MemoryStorage=t.CookieStorage=t.isSupported=t.storage=void 0;var i=r(n(301)),a=r(n(229)),o=r(n(303)),s=null;(0,i.default)("localStorage")?t.storage=s=window.localStorage:(0,i.default)("sessionStorage")?t.storage=s=window.sessionStorage:(0,i.default)("cookieStorage")?t.storage=s=new a.default:t.storage=s=new o.default,t.default=s,t.storage=s,t.isSupported=i.default,t.CookieStorage=a.default,t.MemoryStorage=o.default},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t,n,i){void 0===i&&(i={}),Object(a.a)(()=>{const a=r({},i);window.Ya.Rum.sendTimeMark(e,t,n,r({},a,{"-additional":Object(o.b)(i)}))})}n.d(t,"a",(function(){return i}));var a=n(17),o=n(28)},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e[e.XS=340]="XS",e[e.S=440]="S",e[e.M=980]="M",e[e.L=1e5]="L"}(r||(r={}))},function(e,t,n){"use strict";function r(e){const{ownerDocument:t}=e;if(!t)return;const{defaultView:n}=t;return n||void 0}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=[{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}},{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",events:{change:"fullscreenchange",error:"fullscreenerror"}},{enabled:"mozFullScreenEnabled",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",events:{change:"mozfullscreenchange",error:"mozfullscreenerror"}},{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",events:{change:"MSFullscreenChange",error:"MSFullscreenError"}},{enabled:"webkitSupportsFullscreen",element:"webkitDisplayingFullscreen",request:"webkitEnterFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}}]},function(e,t){e.exports=function(e){var t;return function(e){return navigator.clipboard?navigator.clipboard.writeText(e):Promise.reject()}(e).catch((function(n){return t=n,function(e){var t=document.createElement("span");t.textContent=e,t.style.whiteSpace="pre",document.body.appendChild(t);var n=window.getSelection(),r=window.document.createRange();n.removeAllRanges(),r.selectNode(t),n.addRange(r);var i,a=!1;try{a=window.document.execCommand("copy")}catch(o){i=o}return n.removeAllRanges(),window.document.body.removeChild(t),a?Promise.resolve():Promise.reject(i)}(e)})).catch((function(e){throw e||t||new DOMException("The request is not allowed","NotAllowedError")}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(21);const i=function(e){return void 0===e&&(e=window),/YaBrowser/.test(Object(r.a)(e))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));const r="https://strm.yandex.net/int/enc/srvr.xml",i="int/enc/srvr.xml"},function(e,t,n){"use strict";function r(e,t,n){void 0===n&&(n=" ");const r=t-e.length;if(r>0){let t=n;for(;t.length<r;)t+=t;return(t.length>r?t.substr(0,r):t)+e}return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(82);const i=Object(r.a)()},function(e,t,n){"use strict"},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(21);const i=function(e){return void 0===e&&(e=window),Object(r.a)(e).toLowerCase().indexOf("web0s")>-1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>"hidden"in e?"hidden":"webkitHidden"in e?"webkitHidden":void 0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="utf-8"},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(47);const i=e=>e instanceof Date||"Date"===Object(r.a)(e)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="0000000000000000000000000000000000000000000000000000000000000000"},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="other"},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(21);const i=function(e){void 0===e&&(e=window);const t=Object(r.a)(e).toLowerCase();if(t.indexOf("android")>-1)return!1;const n=t.replace(/\(.+?\)/gi,"").split(" ").map(e=>e.trim().split("/")[0]).filter(e=>e&&"mobile"!==e);return 4===n.length&&"mozilla"===n[0]&&"applewebkit"===n[1]&&"version"===n[2]&&"safari"===n[3]}},function(e,t,n){"use strict";function r(e,t){if(void 0===t&&(t=!0),i.a&&t)return[];{const t=[];let r=e;for(;;)try{if(r=r.ownerDocument.defaultView.frameElement,!r)return t;t.push(r)}catch(n){return t}}}n.d(t,"a",(function(){return r}));var i=n(101)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=navigator&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1},function(e,t,n){"use strict";function r(e,t){void 0===t&&(t=window);const n=Object(i.a)(t),r=new RegExp("\\b"+e+"/((?:\\d+)(?:\\.\\d+)*)\\b","i"),a=n.match(r);if(a)return a[1].split(".").map(e=>parseInt(e,10))}n.d(t,"a",(function(){return r}));var i=n(21)},function(e,t,n){"use strict";function r(){return!0}n.d(t,"a",(function(){return r}));n(113),n(231),n(183)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(165);const i=Object(r.a)(window)},function(e,t,n){"use strict";function r(e){let t=e;const n=[e],{top:r}=e;for(;t!==r;)t=t.parent,n.push(t);return n}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(24);const i=e=>Object(r.a)(e.navigator.sendBeacon)},function(e,t,n){"use strict";function r(e){const t=100*Object(i.a)();let n=0;for(let r=0;r<e.length;r++)if(n+=e[r].percent,t<n)return e[r].id;return e[0].id}n.d(t,"a",(function(){return r}));var i=n(49)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(154);const i=Object(r.a)()},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.join("")}n.d(t,"a",(function(){return a}));var i=n(9);const a=(e,t,n,r)=>function(){try{return t.apply(n||this,arguments)}catch(o){if(Object(i.a)(r)&&r(o),!0===o.preventProtect)throw o;a.log(o,e)}};a.log=function(e,t){console.log("LOG:"+t+":"+e)},a.setTimeout=(e,t,n,r)=>window.setTimeout(a("timeout",e,n,r),t);class o{}o.YaContextCallbacks=r("Ya.C","ontext._callbacks"),o.YaContextCallbacksCalls=r("Ya.C","ontext._callbacks_call"),o.AdvManager=r("A","dvManager"),o.AdvBlock=r("A","dvBlock"),o.RTB=r("R","TB"),o.Rtb=r("R","tb"),o.MetrikaAdtune=r("metrika_a","dtune")},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(55),i=n(9),a=n(3);const o=(e,t)=>{for(const n of t.split(".")){if(!Object(a.a)(e)){e=void 0;break}e=e[n]}return e},s="__ADB_CONFIG__",c=Object(a.a)(s)&&s.fn&&Object(i.a)(s.fn.encodeUrl)?s.fn.encodeUrl:void 0,l=void 0!==c?e=>c(e):void 0,d=function(e){if(void 0===e&&(e=window),l)return l;const t=Object(r.a)(e);for(;t.length;){const e=t.pop();if(!e)continue;const n=o(e,"ya.videoAd.encodeUrl");if(Object(i.a)(n))return n}}},function(e,t,n){"use strict";function r(e,t){if(void 0===t&&(t=!1),e===l.a.NO_CODECS&&i.a&&o>6)return{title:"NO_CODECS_TITLE",message:"NO_CODECS_MESSAGE",helpLink:"https://yandex.ru/support/video-player/player-issues.html#no-codecs",helpLinkButtonText:"NO_CODECS_HELP_LINK_TITLE"};const n=Object(s.a)(e);return t&&function(e){return[c.a.NETWORK_PLAYER,c.a.NETWORK_MEDIA,c.a.NETWORK_TIMEOUT,c.a.DRM,c.a.ADS].indexOf(e)>-1}(n)?{title:"ADBLOCK_DETECTED_TITLE",message:"ADBLOCK_DETECTED_MESSAGE",helpLink:"https://yandex.ru/support/video-player/blocker-settings.html",helpLinkButtonText:"ERROR_SCREEN_DEFAULT_HELP_LINK"}:function(e){return{title:u[e],message:h[e],helpLink:d[e],helpLinkButtonText:f[e]||"ERROR_SCREEN_DEFAULT_HELP_LINK"}}(n)}n.d(t,"a",(function(){return r}));var i=n(210),a=n(21);const o=function(e){void 0===e&&(e=window);const t=Object(a.a)(e).toLowerCase(),n=/windows nt (\d+\.\d+)/.exec(t);if(n){const e=Number(n[1]);return e>0?e:-1}return-1}();var s=n(115),c=n(6),l=n(1);const d={[c.a.MEDIA]:"https://yandex.ru/support/video-player/loading-issues.html",[c.a.NETWORK_MEDIA]:"https://yandex.ru/support/video-player/loading-issues.html",[c.a.NETWORK_PLAYER]:"https://yandex.ru/support/video-player/player-issues.html",[c.a.NETWORK_TIMEOUT]:"https://yandex.ru/support/video-player/player-issues.html",[c.a.NO_CODECS]:"https://yandex.ru/search/?text=\u043a\u043e\u0434\u0435\u043a\u0438",[c.a.UNSUPPORTED_ENV]:"https://yandex.ru/soft/browsers/",[c.a.EXCEPTION]:"https://yandex.ru/support/video-player/loading-issues.html",[c.a.DRM]:"https://yandex.ru/support/video-player/drm.html",[c.a.INVALID_STREAM_URL]:null},u={[c.a.DEFAULT]:"DEFAULT_ERROR_CATEGORY_TITLE",[c.a.MEDIA]:"MEDIA_ERROR_CATEGORY_TITLE",[c.a.NETWORK_MEDIA]:"NETWORK_MEDIA_ERROR_CATEGORY_TITLE",[c.a.NETWORK_PLAYER]:"NETWORK_PLAYER_ERROR_CATEGORY_TITLE",[c.a.NETWORK_TIMEOUT]:"NETWORK_TIMEOUT_ERROR_CATEGORY_TITLE",[c.a.NO_CODECS]:"NO_CODECS_ERROR_CATEGORY_TITLE",[c.a.UNSUPPORTED_ENV]:"UNSUPPORTED_ENV_ERROR_CATEGORY_TITLE",[c.a.CANNOT_PLAY]:"CANNOT_PLAY_ERROR_CATEGORY_TITLE",[c.a.EXCEPTION]:"EXCEPTION_ERROR_CATEGORY_TITLE",[c.a.CONFIG]:"CONFIG_ERROR_CATEGORY_TITLE",[c.a.REGIONAL]:"REGIONAL_ERROR_CATEGORY_TITLE",[c.a.DRM]:"DRM_ERROR_CATEGORY_TITLE",[c.a.ACCESS]:"ACCESS_ERROR_CATEGORY_TITLE",[c.a.INVALID_STREAM_URL]:"CONFIG_ERROR_CATEGORY_TITLE"},h={[c.a.DEFAULT]:"DEFAULT_ERROR_CATEGORY_MESSAGE",[c.a.MEDIA]:"MEDIA_ERROR_CATEGORY_MESSAGE",[c.a.NETWORK_MEDIA]:"NETWORK_MEDIA_ERROR_CATEGORY_MESSAGE",[c.a.NETWORK_PLAYER]:"NETWORK_PLAYER_ERROR_CATEGORY_MESSAGE",[c.a.NETWORK_TIMEOUT]:"NETWORK_TIMEOUT_ERROR_CATEGORY_MESSAGE",[c.a.NO_CODECS]:"NO_CODECS_ERROR_CATEGORY_MESSAGE",[c.a.UNSUPPORTED_ENV]:"UNSUPPORTED_ENV_ERROR_CATEGORY_MESSAGE",[c.a.CANNOT_PLAY]:"CANNOT_PLAY_ERROR_CATEGORY_MESSAGE",[c.a.EXCEPTION]:"EXCEPTION_ERROR_CATEGORY_MESSAGE",[c.a.CONFIG]:"CONFIG_ERROR_CATEGORY_MESSAGE",[c.a.DRM]:"DRM_ERROR_CATEGORY_MESSAGE",[c.a.ACCESS]:"ACCESS_ERROR_CATEGORY_MESSAGE",[c.a.INVALID_STREAM_URL]:"INVALID_STREAM_URL_ERROR_CATEGORY_MESSAGE"},f={[c.a.NO_CODECS]:"NO_CODECS_ERROR_CATEGORY_HELP_LINK",[c.a.UNSUPPORTED_ENV]:"UNSUPPORTED_ENV_ERROR_CATEGORY_HELP_LINK"}},function(e,t,n){"use strict";function r(e){return void 0===e&&(e=window),void 0===d&&(d=function(e){void 0===e&&(e=window);return e.JSON&&Object(l.a)(e.JSON.stringify)&&Object(l.a)(e.JSON.parse)}(e)?e.JSON:{stringify:h("stringify"),parse:h("parse")}),d}function i(e){return r().stringify(e,function(){const e=[],t=function(){const e="undefined"!==typeof WeakMap?new WeakMap:void 0,t=[];return{set:(n,r)=>{if(void 0!==e)try{e.set(n,r)}catch(i){t.push({path:r,value:n})}else t.push({path:r,value:n})},get:n=>{const r=Object(a.a)(t,e=>e.value===n);return void 0!==e&&void 0===r?e.get(n):r?r.path:void 0}}}();return(n,r)=>{if(Object(o.a)(r))return Object(p.a)(r.name)?r.name:"[Function]";if(!Object(f.a)(r))return r;const i=t.get(r);if(i)return"[Circular "+i+"]";for(;e.length>0&&e[e.length-1].value[n]!==r;)e.pop();const a=(e.length>0?e[e.length-1].path:"")+(n?"/"+n:"~");return e.push({path:a,value:r}),t.set(r,a),r}}())}n.d(t,"a",(function(){return i}));var a=n(87),o=n(9),s=n(190),c=n(33),l=n(24);let d;const u=function(e){void 0===e&&(e=document.body);const t=Object(s.a)(e);return{JSON:t.contentWindow.JSON,clean:()=>function(e){e.src="",Object(c.a)(e)}(t)}},h=e=>t=>{const{JSON:n,clean:r}=u();try{return n[e](t)}finally{r()}};var f=n(3),p=n(15)},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return h}));var i=n(2);let a=0;var o=n(27),s=n(0),c=n(8),l=n(34),d=n(204);const u=Object(s.i)(6e4);class h extends l.a{static getDataFromPostMessageEvent(e){let{data:t}=e;if("object"!==typeof t)throw new c.a("IFrameMessageEvent must be an object");const{id:n,batch:r}=t;if("string"!==typeof n||0===n.length)throw new c.a('message must have "id" parameter');if(!r||!Array.isArray(r))throw new c.a("#batch value must be an array");return{id:n,batch:r}}constructor(e){let{id:t,sender:n,receiver:i,syncMode:a=!1,internal:o=!1}=e;super(),this.id=void 0,this.key=void 0,this.abortRequestMap=Object.create(null),this.sender=void 0,this.receiver=void 0,this.sendPromise=void 0,this.messagesBatch=[],this.receiverCallback=void 0,this.id=t,this.key=a?"handle_data_"+t:void 0,this.sender=n,this.receiver=i;const s=e=>{const{id:t,batch:n}=e;t===this.id&&n.forEach(e=>{let{answer:t,command:n,event:i}=e;if(t&&void 0!==t.requestId&&this.emit("Answer",t),i&&this.emit("Event",i),!n)return;const s=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["requestId"]),c=r({},o&&a?Object(d.a)(s):s,{sendAnswer:e=>{this.sendAnswer(e,n.requestId)}});this.emit("Command",c)})};this.receiverCallback=e=>{let t;try{t=h.getDataFromPostMessageEvent(e)}catch(n){return}s(t)},this.key&&(i[this.key]=s),i.addEventListener("message",this.receiverCallback)}sendEvent(e,t){let{data:n,sourceId:r}=t;const i={eventName:e,data:n,sourceId:r};this.sendPostMessage({event:i})}sendCommand(e,t){const n={commandName:e,params:t};this.sendPostMessage({command:n})}sendRequest(e,t,n){void 0===n&&(n=u);const r={commandName:e,params:t,requestId:a++},i=this.waitForAnswer(r,n);return this.sendPostMessage({command:r}),i}destroy(){this.receiver.removeEventListener("message",this.receiverCallback),this.off("Command"),this.off("Answer"),this.off("Event"),this.off("Error"),Object(o.a)(this.abortRequestMap,e=>e())}waitForAnswer(e,t){let n,r=i.a;const a=()=>{clearTimeout(n),r(),delete this.abortRequestMap[e.requestId]};return new Promise(i=>{n=window.setTimeout(()=>{const t=this.abortRequestMap[e.requestId];"function"===typeof t&&t()},t);const o=t=>{t.requestId===e.requestId&&(a(),i(t.data))};this.on("Answer",o),r=()=>this.off("Answer",o),this.abortRequestMap[e.requestId]=a})}sendAnswer(e,t){void 0===t&&(t=-1);const n={data:e,requestId:t};this.sendPostMessage({answer:n})}sendPostMessage(e){let{event:t,command:n,answer:r}=e;if(this.key)try{const e={id:this.id,batch:[{event:t,answer:r,command:n}]};return void this.sender[this.key](e)}catch(i){}this.messagesBatch.push({event:t,answer:r,command:n}),this.planRealSend()}safeSendClonedData(e,t){try{this.sender.postMessage(JSON.parse(JSON.stringify(e)),t)}catch(n){this.emit("Error",n)}}sendPostMessageBatch(){const e={id:this.id,batch:this.messagesBatch};try{this.sender.postMessage(e,"*")}catch(t){this.safeSendClonedData(e,"*")}}planRealSend(){void 0===this.sendPromise&&(this.sendPromise=Promise.resolve().then(()=>{this.sendPostMessageBatch(),this.sendPromise=void 0,this.messagesBatch=[]}).catch(()=>{this.sendPromise=void 0,this.messagesBatch=[]}))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=function(e){void 0===e&&(e=window);const t=e.navigator.userAgent,n=t.indexOf("Android");return-1===n?-1:parseFloat(t.slice(n+8))}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(161);const i=e=>(e=>{try{if("noModule"in e.HTMLScriptElement.prototype)return!0}catch(t){}return!1})(e)&&Object(r.a)(e)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const r=!1,i=!0},function(e,t,n){"use strict";function r(e){const t={};return e.forEach(e=>{let[n,r]=e;t[n]=r}),t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(82);const i=(void 0===a&&(a=window),-1!==Object(r.a)(a));var a},function(e,t,n){"use strict";function r(e){return 0===o.length&&(a=window.setInterval(()=>{o.forEach(e=>e())},i.a)),o.push(e),()=>{const t=o.indexOf(e);t>-1&&o.splice(t,1),0===o.length&&clearInterval(a)}}n.d(t,"a",(function(){return r}));var i=n(214);let a=0;const o=[]},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=["pause","on","once","off","publicEmit"]},,function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e){let t,n=o.a,i=0;const s=e=>{i=e.status,t=e.response};return{promise:new Promise((t,i)=>{Object(a.a)(r({},e,{onSuccess:e=>{s(e),t(e)},onError:(e,t)=>{s(t),i(e)},onAbort:i,onSetup:e=>{let{abort:t}=e;return n=t}}))}),abort:e=>n(e),getStatus:()=>i,getResponse:()=>t}}n.d(t,"a",(function(){return i}));var a=n(112),o=n(2)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n(15),i=n(170);const a=/1\.0-(\d+)/,o=(e=>{try{const t=Object(r.a)(e)?function(e){if(void 0===e)return;const t=e&&e.match&&e.match(a);if(t&&t[1])return parseInt(t[1],10);throw new Error("paramsObject.version must be a string like [1.0-0] or undefined")}(e):e;return"number"===typeof t&&t>=1410}catch(t){return!1}})("1.0-7360"),s=(c=window,Object(i.a)(c));var c},,function(e,t,n){var r=n(325),i=n(352);"string"===typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={injectType:"singletonStyleTag",attributes:{"data-ya-player-style":"data-ya-player-style"},insert:"head",singleton:!0};r(i,a);e.exports=i.locals||{}},function(e,t,n){"use strict";function r(e,t){e.forEach(e=>{Object(i.a)(e,t)})}n.d(t,"a",(function(){return a}));var i=n(135);class a{constructor(){this.on=[],this.once=[]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.on.push(...t),()=>this.remove(...t)}addOne(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.once.push(...t),()=>this.remove(...t)}promise(){return new Promise(e=>this.addOne(e))}dispatch(e){const{once:t}=this;this.once=[],r(this.on,e),r(t,e)}removeAll(){this.on.length=0,this.once.length=0}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.on=this.on.filter(e=>t.indexOf(e)<0),this.once=this.once.filter(e=>t.indexOf(e)<0)}}},function(e,t,n){"use strict";function r(e,t,n){return void 0===n&&(n=i),Math.abs(e-t)<=n}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));const i=Number.EPSILON||Math.pow(2,-52)},function(e,t,n){"use strict";function r(){return!0}n.d(t,"a",(function(){return r}));n(233)},function(e,t,n){"use strict";function r(e,t){const n=document.createElement("style");n.textContent+=e,t?t.appendChild(n):Object(i.a)(window).appendChild(n)}n.d(t,"a",(function(){return r}));var i=n(66)},function(e,t,n){"use strict";function r(e){const t=Object.values;if("function"===typeof t)return t(e);{const t=[];for(const n in e)Object(i.a)(e,n)&&t.push(e[n]);return t}}n.d(t,"a",(function(){return r}));var i=n(52)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const r=function(e,t){void 0===e&&(e=document);const n=e.currentScript;if(n)return n;{const n=e.getElementsByTagName("script"),r=[];for(let e=0;e<n.length;e++)r.push(n[e]);if("function"===typeof t){const e=r.filter(t);return e[e.length-1]}return r[r.length-1]}}(),i=r?r.src:""},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=["sendReportLog","setSource","preloadSource","requestVideoElementFullscreen","requestDebugInfo","destroy","requestExternalPlay","requestExternalPlayerList","insertInto",...n(188).a]},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=["play"]},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=["setVideoTrack","setAudioTrack","setTextTrack","exitVideoElementFullscreen","setPlaybackRate","setMuted","setVolume","setPictureInPictureAllowed","setVideoStyle","setNativeControlsVisibility","setNativeTextTrackVisibility","logEvent","logError","seek","openReportWindow","playInrollAd","skipAdPod","setNativeAdControlsVisibility",...n(175).a]},function(e,t,n){"use strict";function r(e){const t=Object(i.a)(e);return t.width="0",t.height="0",t.style.position="absolute",t}n.d(t,"a",(function(){return r}));var i=n(191)},function(e,t,n){"use strict";function r(e,t){let{content:n,size:r}=void 0===t?{}:t;const i=e.ownerDocument.createElement("iframe");i.scrolling="no",i.setAttribute("allowfullscreen",""),i.style.display="block",r&&(i.height=r.height,i.width=r.width),e.appendChild(i);const a=i.contentDocument;return a.open(),n&&a.write(n),a.close(),a.body.style.margin="0",i.style.borderWidth="0",i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){const n=[],r=[];return Object(i.a)(e,(i,a)=>{t(i,a,e)?n.push(i):r.push(i)}),[n,r]}n.d(t,"a",(function(){return r}));var i=n(89)},function(e,t,n){"use strict";function r(e){return Object(a.g)(e.supportInfo)}function i(e){return Object(a.f)(e.supportInfo)}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var a=n(63)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=!0},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n(53);const i=n(90).a,a=r.a.internalToPublic(i)},function(e,t,n){"use strict";function r(){return!Object(a.a)()&&Object(i.a)()}n.d(t,"a",(function(){return r}));var i=n(197),a=n(158)},function(e,t,n){"use strict";function r(){return(i.a||a.a||o.a)&&!Object(s.a)()}n.d(t,"a",(function(){return r}));var i=n(69),a=n(48),o=n(156),s=n(113)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=function(e){return void 0===e&&(e=window),/Windows Phone/i.test(e.navigator.userAgent)}},function(e,t,n){"use strict";function r(e){void 0===e&&(e=window);const{document:t={}}=e;return i.a.filter(e=>{let{enabled:n}=e;return n in t})}n.d(t,"a",(function(){return r}));var i=n(141)},function(e,t,n){"use strict";function r(e,t){return!!a&&window.navigator.sendBeacon(e,t)}n.d(t,"a",(function(){return r}));var i=n(161);const a=Object(i.a)(window)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(128),i=n(95);const a=r.a?function(e,t){return void 0===t&&(t=i.a),Boolean(t.canPlayType(e).replace(/no/,""))}:()=>!1},function(e,t,n){"use strict";function r(e,t,n){return e.replace(new RegExp("{{"+t+"}}","gm"),encodeURIComponent(n))}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(21);const i=function(e){return void 0===e&&(e=window),/YandexSearch|YaSearchBrowser|YaApp_iOS|YaApp_Android/i.test(Object(r.a)(e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(45),i=n(151),a=n(9),o=n(27),s=n(3);const c=e=>{let t=e;return Object(r.a)(e)?[].concat(e).map(e=>c(e)):Object(i.a)(e)?new Date(e.getTime()):(!Object(a.a)(e)&&Object(s.a)(e)&&(t={},Object(o.a)(e,(e,n)=>{t[n]=c(e)})),t)}},function(e,t,n){"use strict";function r(e){void 0===e&&(e=Object(i.a)(window));try{if("1"===localStorage.getItem("rumdebug"))return console&&Object(a.a)(console.warn)&&console.warn("using rumdebug=1 from localStorage"),!0}catch(t){}return/[?&#]rumdebug=1(?:[&#]|$)/.test(e)}n.d(t,"a",(function(){return r}));var i=n(67),a=n(9)},function(e,t,n){"use strict";function r(e){const t=Object(i.g)(e).pathname;return/^\/vod\//.test(t)||/^\/kal\//.test(t)}n.d(t,"a",(function(){return r}));var i=n(11)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=i);for(let i=n;i<e.length;i++)if(r(e[i],t))return i;return-1},i=(e,t)=>e===t},function(e,t,n){"use strict";function r(e){return e.replace(/<tld>/g,l)}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return d}));var a=n(177),o=n(20),s=n(168),c=n(11);const l=Object(c.g)(window.location.href).hostname.split(".").reverse()[0];class d{static performRealRequest(e){const t=Object(a.a)(i({},e,{url:r(e.url)}));return{promise:t.promise.then(e=>e.responseText).catch(e=>{throw e.status=t.getStatus(),e}),abort:t.abort}}constructor(e){let{sender:t,receiver:n}=e;this.postMessenger=void 0,this.postMessenger=new s.a({id:"external-request-controller",sender:t,receiver:n}),this.attachListeners()}destroy(){this.postMessenger.destroy()}request(e){return this.postMessenger.sendRequest(o.a.xhrRequest,e).then(e=>{let{success:t,error:n,data:r}=e;if(n)throw r;return r})}attachListeners(){this.postMessenger.on("Command",e=>{e.commandName===o.a.xhrRequest&&d.performRealRequest(e.params).promise.then(t=>{e.sendAnswer({success:!0,data:t})}).catch(t=>{const n={message:t.message,stack:t.stack,status:t.status};e.sendAnswer({error:!0,data:n})})})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(3),i=n(24);const a=function(e,t){let n=e[t];if(!Object(i.a)(n)){const i=n;try{delete e[t],n=e[t],e[t]=i}catch(r){}}return n}(Object,"create")?Object.create:function(e,t){function n(){}if(n.prototype=e,Object(r.a)(t))for(const r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return new n};var o=n(45),s=n(151),c=n(9),l=n(27);const d=function e(t,n){void 0===n&&(n={preserveConstructors:!0});let i=t;if(Object(o.a)(t)){return t.map(t=>e(t,n))}return Object(s.a)(t)?new Date(t.getTime()):(!Object(c.a)(t)&&Object(r.a)(t)&&(i=n.preserveConstructors?a(t):{},Object(l.a)(t,(t,r)=>{i[r]=e(t,n)})),i)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(21);const i=function(e){void 0===e&&(e=window);const t=Object(r.a)(e).toLowerCase();return/windows/.test(t)}()},function(e,t,n){"use strict";function r(e){switch(e){case i.a.PLAY:return a.a.PLAYING;case i.a.PAUSE:return a.a.PAUSED;case i.a.BUFFERING:return a.a.BUFFERING;case i.a.END:return a.a.ENDED;default:return a.a.UNSTARTED}}n.d(t,"a",(function(){return r}));var i=n(7),a=n(37)},function(e,t,n){"use strict";function r(e){return e&&Object(i.a)(e)||window}n.d(t,"a",(function(){return r}));var i=n(140)},function(e,t){function n(e,t){var n,r=e[1]||"",i=e[3];if(!i)return r;if(t&&"function"===typeof btoa){var a=(n=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),o=i.sources.map((function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"}));return[r].concat(o).concat([a]).join("\n")}return[r].join("\n")}e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=n(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r})).join("")},t.i=function(e,n){"string"===typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var a=this[i][0];"number"===typeof a&&(r[a]=!0)}for(i=0;i<e.length;i++){var o=e[i];"number"===typeof o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),t.push(o))}},t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=250},function(e,t){e.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n]);return e})},function(e,t,n){"use strict";function r(){if(f.a&&f.a.document&&"function"===typeof f.a.document.hasFocus)try{return f.a.document.hasFocus()}catch(e){}}function i(e){return v?Object(A.a)(e.location.ancestorOrigins):[]}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){const n=Object(d.a)({UrlParams:()=>{const n=Object(l.a)(e.document);for(let e=0;e<n.length;e++){const{location:r}=n[e],i=Object(R.e)(r)[t];if(i)return i}},LocalStorage:()=>e.localStorage.getItem(t),globalVariable:()=>{const n=Object(c.a)(e);for(let e=0;e<n.length;e++){const r=n[e],i=r&&r.Ya&&r.Ya.hardcodedParams&&r.Ya.hardcodedParams[t];if(i)return String(i)}}});for(let r=0;r<n.length;r++){const[e,i]=n[r],a=Object($.a)(i);if("string"===typeof a&&a.length>0)return Z.deprecated("HardcodedParamObtainedFrom"+e,"ATTENTION! Product parameter obtained from "+e+" ["+t+"]["+a+"]"),a}}function s(e,t,n){const r=o(e,t);return r?Number(r):Object(ee.a)(n)}n.r(t),n.d(t,"getHardcodedParam",(function(){return o})),n.d(t,"getBundlesVersion",(function(){return s}));var c=n(55),l=n(114),d=n(39),u=n(159),h=n(42),f=n(80),p=n(35),E=n(84);const v=Boolean(window.location.ancestorOrigins);var A=n(29);const m=i(window);var g=n(160),O=n(97),T=n(46),y=n(131);const S=function(){const e=Object(T.a)(y.a,e=>e.ownerDocument),{length:t}=e,n=(t?e[t-1]:document).defaultView;return!!n&&n.self!==n.parent}();var R=n(11);const{topAncestor:_,isTrusted:b}=function(e){void 0===e&&(e=window);const t=i(e);if(t.length>0)return{topAncestor:t[t.length-1],isTrusted:!0};const{location:n,referrer:r}=Object(O.a)(e.document),a=S?r:n,o=!S||Object(g.a)(f.a).length<2,{protocol:s,hostname:c,host:l,port:d}=Object(R.g)(a);return{topAncestor:Object(R.h)({protocol:s,hostname:c,host:l,port:d,originalPath:"",href:"",pathname:"",search:"",hash:""}),isTrusted:o}}(),P=_,I=b;var C=n(186),N=n(67),w=n(56),k=n(9),L=n(167),D=n(112),j=n(172),M=n(27),V=n(3),U=n(49);const F=Object(U.a)();var x=n(200);const B="_$".split("").reverse().join(""),H=e=>"_$invalid_"+e+B,Y={sensorName:H("sensor_name"),labelKey:H("label_key"),labelValue:H("label_value")};var K;!function(e){e.event="event",e.error="error",e.fatal="fatal",e.deprecated="deprecated",e.warning="warning",e.value="value",e.values="values"}(K||(K={}));var G=n(99);Object(G.a)({propertyName:"YANDEX_STATS_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});const W=e=>{let{eventType:t,eventName:n,value:r,values:i}=e;const o={};return Object(M.a)(i,(e,r)=>{o[t+"_"+n+"_"+r]=e}),a({[t+"_"+n]:r},o)},X=e=>e.isFatal?K.fatal:K.error,q=/^\w(\-|_|:|\s|\.|\w){1,20}$/,z=/^\w(\-|_|:|\s|\.|\w){0,70}$/,Q=/^\w(\-|_|:|\s|\.|\w){1,70}$/;class J{constructor(e){this.rootFields={},this.labels={},this.event=e=>{let{name:t,data:n,labels:r,probability:i,extraRootFields:a}=e;this.push({eventType:K.event,eventName:t,data:n,additionalStatsLabels:r,probability:i,extraRootFields:a})},this.error=e=>{let{error:t,labels:n,probability:r,extraRootFields:i}=e;const a=new p.a(t);this.push({eventName:String(a.code),eventType:X(a),data:a,additionalStatsLabels:n,probability:r,extraRootFields:i})},this.value=e=>{let{name:t,value:n,data:r,labels:i,probability:a,extraRootFields:o}=e;this.push({eventName:t,value:n,eventType:K.value,data:r,additionalStatsLabels:i,probability:a,extraRootFields:o})},this.values=e=>{let{name:t,values:n,data:r,labels:i,probability:a,extraRootFields:o}=e;this.push({eventName:t,eventType:K.values,data:r,additionalStatsLabels:i,probability:a,values:n,extraRootFields:o})},this.warning=e=>{let{name:t,message:n,probability:r,extraRootFields:i}=e;Object(V.a)(console)&&Object(k.a)(console.warn)&&console.warn(n),this.push({eventName:t,eventType:K.warning,data:{message:n},probability:r,extraRootFields:i})},this.getParams=()=>function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(this.params,["onLogError"]),this.setRootFields=e=>{Object(d.a)(e).forEach(e=>{let[t,n]=e;void 0===n?delete this.rootFields[t]:this.rootFields[t]=n})},this.setLabels=e=>{Object(d.a)(e).forEach(e=>{let[t,n]=e;void 0===n?delete this.labels[t]:this.labels[t]=n})},this.eventToStats=(e,t,n,r)=>{this.push({eventType:K.event,eventName:e,data:t,additionalStatsLabels:n,extraRootFields:r})},this.errorToStats=(e,t,n)=>{const r=new p.a(e);this.push({eventName:String(r.code),eventType:X(r),data:r,additionalStatsLabels:t,extraRootFields:n})},this.deprecated=(e,t)=>{Object(V.a)(console)&&Object(k.a)(console.warn)&&console.warn(t),this.push({eventName:e,eventType:K.deprecated,data:{message:t}})},this.valueToStats=(e,t,n,r)=>{this.push({eventName:e,value:t,eventType:K.value,data:n,additionalStatsLabels:r})};const{onLogError:t}=e;this.params=a({},e,{sid:e.sid||Object(w.a)(64),onLogError:t?e=>{try{t(e)}catch(e){Object(E.a)(e)}}:E.a}),this.logUrl=J.getLogUrl(e),this.isStrmLogUrl="https://strm.yandex.ru/log"===this.logUrl}static getLogUrl(e){return e.logUrl?e.logUrl:!0===e.useAlias?"https://jstracer.yandex.ru/jstracer":"https://an.yandex.ru/jstracer"}push(e){let{eventName:t,eventType:n,data:r={},additionalStatsLabels:i,value:o=1,probability:s=1,values:c={},extraRootFields:l={}}=e;if(!function(e,t,n,r){void 0===r&&(r=!1);const i=(r?Object(U.a)():F)<e,a=i?t:n;return"function"===typeof a&&a(),i}(s))return;const{service:d,version:u}=this.params,h={service:d,version:u,data:r,eventName:t,eventType:n,additionalStatsLabels:i,value:o,values:c};if(J.isSendingData)throw new p.a({message:"RecursiveStatsRequests",details:{service:d,version:u,eventType:n,eventName:t}});J.isSendingData=!0;try{let e=this.logUrl;this.params.sendOnlyPrimaryParams||(e=Object(R.b)(this.logUrl,a({[d]:u,[n]:t},i)));const r=this.createFullStatsObject(h,l),{routeToJSTracer:o=!0}=l;this.isStrmLogUrl&&o&&(r.routeToJSTracer=!0),this.sendData(e,Object(L.a)(r))}catch(f){J.isSendingData=!1,this.params.onLogError(new p.a(f,{details:{service:d,version:u,eventType:n,eventName:t}}))}J.isSendingData=!1}sendData(e,t){if(this.params.useSendBeacon){if(Object(x.a)(e,t))return}Object(D.a)({url:e,data:t,method:"POST",onBeforeSend:this.params.onBeforeSend})}createFullStatsObject(e,t){const{service:n,version:i,eventName:o,eventType:s,data:c,additionalStatsLabels:l,value:f}=e,p=(this.params.createTagsFunction||W)(e),E=a({},this.labels,l,{version:this.params.version}),v={service:n,tags:Object(j.a)(Object(d.a)(p).map(e=>{let[t,n]=e;return Q.test(t)?[t,n]:[Y.sensorName,n]})),labels:Object(j.a)(Object(d.a)(E).map(e=>{let[t,n]=e,r=t,i=n;return q.test(r)||(r=Y.labelKey),z.test(i)||(i=Y.labelValue),[r,i]}))},{location:A,referrer:g}=Object(O.a)(document);return a({},t,this.rootFields,v,{timestamp:Date.now(),eventType:s,eventName:o,data:c,sid:this.params.sid,version:i,location:Object(N.a)(window),topLocation:A,topAncestor:P,isTopAncestorUndetermined:!I||void 0,ancestorOrigins:m,documentIsVisible:Object(h.a)(document),referrer:window.document.referrer,topReferrer:g,currentScriptSrc:C.a,secureIFrame:S,isVideoADB:Object(k.a)(u.a),value:f,rnd:F,topDocumentFocus:r()})}}J.isSendingData=!1;const Z=new J({service:"CommonPcode",version:"0",sid:Object(w.a)(64)});var $=n(17),ee=n(162)},function(e,t,n){"use strict";function r(e){const t=[...e],n=t.pop();if(!n||0===t.length)throw new Error("memoizeSingle need at least 2 functions as arg");return{preparers:t,resolver:n}}function i(e){return Object(f.a)(e.className)?e.className:e.namespaceURI===E.svg&&e.getAttribute("class")||""}function a(e,t){Object(f.a)(e.className)?e.className=t:e.namespaceURI===E.svg&&e.setAttributeNS("","class",t)}function o(e){Object(f.a)(e.className)?e.className="":e.namespaceURI===E.svg&&e.setAttributeNS("","class","")}function s(e,t){void 0===t&&(t=""),0!==e.className.length?m(e)?y(e,t):function(e,t){let n=i(e).split(" ").concat(t.split(" "));n=function(e){const t={};for(let n=0;n<e.length;n++)t[e[n]]=n;return Object(d.a)(t)}(Object(c.a)(n,(function(e){return""!==e}))),a(e,n.join(" "))}(e,t):e.className=t}n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return S}));var c=n(86),l=n(207),d=n(25);const u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const{resolver:i,preparers:a}=r(t);let o,s=null,c=null;return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(s&&s.every((e,n)=>t[n]===e))return o;const r=a.map(e=>e(...t));if(c&&c.every((e,t)=>r[t]===e))return s=t,o;const l=i(...r);return s=t,c=r,o=l,l}};var h=n(24),f=n(15),p=n(27);const E={xml:"http://www.w3.org/XML/1998/namespace",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"},v={};Object(p.a)({xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type"},(function(e,t){const n=e.split(":"),r=E[n[0]];r&&(v[t]=r)}));const A="classList"in document.documentElement,m=u(e=>e.classList&&e.classList.add,h.a),g=u(e=>e.classList&&e.classList.remove,h.a),O=(u(e=>e.classList&&e.classList.toggle,h.a),(()=>{const e=document.createElement("p");return!!A&&(e.classList.add("c1","c2"),!!e.classList.contains("c2")&&(e.classList.toggle("c3",!1),!e.classList.contains("c3")))})()),T=((()=>{const e=document.createElement("p");!!A&&(e.classList.toggle("a",!1),e.classList.contains("a"))})(),e=>e.split(" ").filter(e=>Boolean(e))),y=O?(e,t)=>{const n=T(t);e.classList.add(...n)}:(e,t)=>{const n=T(t);for(let r=0;r<n.length;r++)e.classList.add(n[r])},S=function(e,t){return void 0===t&&(t=""),g(e)?R(e,t):function(e,t){const n=i(e).split(" "),r=t.split(" "),o=[];for(let i=0;i<n.length;i++)n[i]&&-1===Object(l.a)(r,n[i])&&o.push(n[i]);a(e,o.join(" "))}(e,t)},R=O?(e,t)=>{const n=T(t);e.classList.remove(...n)}:(e,t)=>{const n=T(t);for(let r=0;r<n.length;r++)e.classList.remove(n[r])}},function(e,t,n){"use strict";function r(e,t){void 0===t&&(t=window);const n=()=>i.forEach(e=>t.removeEventListener(e,r)),r=t=>{"pagehide"===t.type&&t.persisted||(e(t),n())};return i.forEach(e=>t.addEventListener(e,r)),n}n.d(t,"a",(function(){return r}));const i=["beforeunload","pagehide","unload"]},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(47),i=n(9),a=n(24),o=n(17);const s=e=>(e=>e instanceof Promise||"Promise"===Object(r.a)(e)&&Boolean(Object(o.a)(()=>Object(a.a)(e.constructor))))(e)||(e=>Boolean(Object(o.a)(()=>Object(i.a)(e.then)&&Object(i.a)(e.catch))))(e)},function(e,t,n){"use strict";function r(e){return"number"===typeof e&&i.b<=e&&e<=i.a}n.d(t,"a",(function(){return r}));var i=n(90)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);const i=Object(r.i)(1e3)},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return a}));var i=n(46);class a{constructor(e){this.args=e,this.runningCount=0,this.callback=(e,t)=>{const n=e+1;t?n===this.strategies.length?this.args.callback(t):n===this.runningCount&&this.startNext():(this.stopUntil(n),this.args.callback(t))},this.strategies=Object(i.a)(e.strategyFactories,(e,t)=>e(e=>this.callback(t,e)))}static from(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{const n=[];for(const i of t){let t=()=>null;const a=i(r({},e,{callback:e=>t(e)}));if(!a)return null;n.push(e=>(t=e,a))}return new a({callback:e.callback,strategyFactories:n})}}start(){!this.runningCount&&this.strategies.length&&this.startNext()}stop(){this.stopUntil(0)}get isDetermined(){for(const e of this.strategies)if(!e.isDetermined)return!1;return!0}getIsVisible(){for(let e=0;e<this.strategies.length;e++)if(!this.strategies[e].getIsVisible())return!1;return!0}startNext(){this.strategies[this.runningCount++].start()}stopUntil(e){for(;this.runningCount>e;)this.strategies[--this.runningCount].stop()}}},function(e,t,n){"use strict";function r(e){void 0===e&&(e=window);const{navigator:t}=e,{connection:n={}}=t;return Boolean(n.saveData)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){this.returnValue=!1}function i(){this.cancelBubble=!0}function a(e){return function(t){const n=function(e){return e.stopPropagation||(e.stopPropagation=i),e.preventDefault||(e.preventDefault=r),e.target||(e.target=e.srcElement),e}(t);e.call(this,n)}}function o(e){e&&e.un()}n.d(t,"a",(function(){return f}));var s=n(164),c=n(79),l=n(118);let d="hidden",u="visibilitychange";if(!(d in document)){const e=["webkit","moz","ms","o"];for(const t of e){const e=t+"Hidden";if(e in document){d=e,u=t+"visibilitychange";break}}}const h=new class{constructor(e){void 0===e&&(e=window),this.windowObj=e,this.initYaBrowserApi()}canUseYaBroApi(){return Boolean(this.yaBroApiInstance&&this.yaBroApiInstance.isInCustoPage)}isPageHiddenYaBroApi(){return!(this.yaBroApiInstance&&this.yaBroApiInstance.pageVisible)}initYaBrowserApi(){this.windowObj.browser&&this.windowObj.browser.BrowserEmbeddedApi&&this.windowObj.browser.BrowserEmbeddedApi.getInstance().then(e=>{this.yaBroApiInstance=e})}};class f{constructor(e){this.args=e,this.isDetermined=!0,this.onVisibilityChangeCallback=()=>{this.args.callback(this.getIsVisible())}}static factory(e){return new f(e)}start(){this.timer=window.setTimeout(()=>{this.onVisibilityChangeCallback(),this.subscription=function(e,t,n,r,i){if(!e||!n)return null;let d=a(Object(s.a)("handler:"+t,n,r));const u={un(){Object(c.b)(e,t,d)}};var h;return i&&i.once&&!l.b&&(h=d,d=function(e){h.call(this,e),o(u)}),l.c?Object(c.a)(e,t,d,i):Object(c.a)(e,t,d,i&&i.capture),u}(document,u,this.onVisibilityChangeCallback)})}stop(){window.clearTimeout(this.timer),o(this.subscription)}getIsVisible(){return!(h.canUseYaBroApi()?h.isPageHiddenYaBroApi():Boolean(document[d]))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var r=n(88),i=n(84),a=n(17);class o{setTimeout(e,t){if(t<=0)return void Object(a.a)(e,i.a);const n=window.setTimeout(e,t);return()=>window.clearTimeout(n)}now(){return Object(r.a)()}}class s{constructor(e){void 0===e&&(e=0),this.time=e,this.tasks=void 0,this.tasks=[]}setTimeout(e,t){const n=this.time+t,r={task:e,time:n,isCanceled:!1,isRunned:!1};if(((e,t,n)=>{let r=0;for(;r<e.length&&!n(e[r]);r+=1);e.splice(r,0,t)})(this.tasks,r,e=>n<e.time),!(t<=0))return()=>r.isCanceled=!0;Object(a.a)(()=>this.runTask(r),i.a)}setTime(e){if(isNaN(e))return;let t=0;for(;t<this.tasks.length&&!(e<this.tasks[t].time);t+=1)this.runTask(this.tasks[t]);this.time=e,this.tasks.splice(0,t)}now(){return this.time}tick(e){this.setTime(this.time+e)}reset(){this.time=0,this.tasks=[]}runTask(e){e.isRunned||e.isCanceled||(e.isRunned=!0,this.time=e.time,e.task())}}class c{constructor(e,t){void 0===t&&(t=new o),this.distributionFunction=e,this.clock=t,this.stopped=!0,this.cancel=void 0,this.lastNow=0,this.lastKnockTime=void 0,this.lastTimeout=0,this.restTime=0,this.destroyed=!1,this.isFirstKnock=!0,this.count=0}setEnabled(e){return e?this.start():this.stop(),this}stop(){return this.stopped||(this.stopped=!0,this.cancelTimeout(),this.restTime=Math.max(this.restTime-(this.clock.now()-this.lastKnockTime),0)),this}start(){return this.stopped&&!this.destroyed&&(this.stopped=!1,this.lastKnockTime=this.clock.now(),this.setTimeout(()=>this.knock(this.lastNow+this.lastTimeout),this.restTime)),this}destroy(){this.cancelTimeout(),this.stopped=!0,this.destroyed=!0}knock(e){this.lastNow=e,this.lastKnockTime=this.clock.now(),this.isFirstKnock?this.isFirstKnock=!1:this.count++;const t=this.restTime=this.lastTimeout=this.distributionFunction({time:e,count:this.count});this.stopped||this.destroyed||this.setTimeout(()=>this.knock(e+t),t)}cancelTimeout(){void 0!==this.cancel&&this.cancel(),this.cancel=void 0}setTimeout(e,t){this.cancelTimeout();const n=this.clock.setTimeout(e,t);void 0!==n&&(this.cancelTimeout(),this.cancel=n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.OK="ok",e.FAIL="fail"}(t.AccessFunctionStatus||(t.AccessFunctionStatus={})),t.PLAYSTATION_4_API_COMMAND_NAME={getAudioTracks:!0,getSubtitleTracks:!0,getPlaybackTime:!0,getSeekWindow:!0,getPlaySpeed:!0,getVideoResolution:!0,load:!0,pause:!0,play:!0,setAdaptiveStreamingParameters:!0,setAudioTrack:!0,setVolume:!0,setPlayTime:!0,setSubtitleTrack:!0,setClosedCaptions:!0,setForwardCloseCaptionTimedMetadata:!0,setTimedMetadata:!0,setVideoPortalSize:!0,setVideoStartingBandwidth:!0,stop:!0,setFixVideoRepresentations:!0,getRepresentationsCount:!0,getRepresentationInfo:!0,getBitrate:!0,setRepresentationEnable:!0,setRepresentationDisable:!0,isRepresentationEnable:!0,isPsnPlusAccount:!0,getExternalParameter:!0},t.APPLICATION_MESSAGE_COMMAND_NAME={contentAvailable:!0,applicationStatusChange:!0,networkStatusChange:!0,playerStatusChange:!0,playerStreamingError:!0,playerError:!0,playerMessage:!0,playerTimedEvent:!0,externalParameter:!0,playerSubtitle:!0},function(e){e[e.MP4=1]="MP4",e[e.MSS=2]="MSS",e[e.Dash=4]="Dash",e[e.DashMPEG2=6]="DashMPEG2",e[e.HLS=8]="HLS",e[e.MPEG2=9]="MPEG2"}(t.SourceType||(t.SourceType={})),function(e){e.ApplicationMP4="application/mp4",e.VideoMP4="video/mp4",e.AudioMP4="audio/mp4",e.MSS="application/vnd.ms-sstr+xml",e.Dash="application/dash+xml",e.DashMPEG2="application/dash_ts+xml",e.HLS="application/vnd.apple.mpegurl",e.MPEG2="video/mp2t"}(t.VideoMIMEType||(t.VideoMIMEType={})),function(e){e.BUFFERING="buffering",e.END_OF_STREAM="endOfStream",e.NOT_READY="notReady",e.READY="ready",e.OPENING="opening",e.PAUSED="paused",e.PLAYING="playing",e.DISPLAYING_VIDEO="DisplayingVideo",e.STOPPED="stopped",e.UNKNOWN="unknown"}(t.PlayerState||(t.PlayerState={})),function(e){e.BACKGROUND="background",e.FOREGROUND="foreground"}(t.ApplicationStatus||(t.ApplicationStatus={})),function(e){e.DISCONNECTED="disconnected",e.CONNECTING="connecting",e.CONNECTED="connected",e.UNKNOWN="unknown"}(t.NetworkStatus||(t.NetworkStatus={})),function(e){e.WIRED="wired",e.WIRELESS="wireless",e.PHONE="phone",e.UNKNOWN="unknown"}(t.ConnectionType||(t.ConnectionType={})),function(e){e.CONNECTION_FAILED="http_connection",e.HTTP_STATUS="http_status_code"}(t.PlayerStreamingError||(t.PlayerStreamingError={})),function(e){e.VIDEO="video_error",e.DRM="drm_error"}(t.PlayerErrorType||(t.PlayerErrorType={})),function(e){e.FileNonInterleaved="0x806A00A0",e.StreamLoopingBack="0x806A00A1",e.JumpCompleted="0x806A00A3",e.Encoded="0x1000"}(t.PlayerMessageCodeHexa||(t.PlayerMessageCodeHexa={})),function(e){e.Emsg="emsg",e.Text="text",e.Data="data",e.CloseCaption="cea-708",e.Webvtt="webvtt"}(t.PlayerTimedEventDatatype||(t.PlayerTimedEventDatatype={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(181),i=n(135);class a extends r.a{constructor(e,t){void 0===t&&(t=(e,t)=>e===t),super(),this.checkToEqualFunction=t,this.value=e}getValue(){return this.value}subscribeValueCondition(e,t){return this.add(n=>{e(n)&&Object(i.a)(t,n)})}subscribeValueConditionOnce(e,t){const n=this.subscribeValueCondition(e,e=>{n(),Object(i.a)(t,e)});return n}dispatch(e){this.checkToEqualFunction(this.value,e)||(this.value=e,super.dispatch(e))}}},function(e,t){e.exports=function(e){e||(e=window);var t=e.navigator.userAgent,n=t.indexOf("MSIE ");if(n>0)return parseInt(t.substring(n+5,t.indexOf(".",n)),10);if(t.indexOf("Trident/")>0){var r=t.indexOf("rv:");return parseInt(t.substring(r+3,t.indexOf(".",r)),10)}var i=t.indexOf("Edge/");return i>0&&parseInt(t.substring(i+5,t.indexOf(".",i)),10)}},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.hasCookies=function(){var e=new d;try{e.setItem("__test","1");var t=e.getItem("__test");return e.removeItem("__test"),"1"===t}catch(n){return!1}};var o,s=n(302),c=(o=s)&&o.__esModule?o:{default:o},l="lS_",d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.cookieOptions=r({path:"/"},t),l=t.prefix||l}return a(e,[{key:"getItem",value:function(e){var t=c.default.parse(document.cookie);return t&&t.hasOwnProperty(l+e)?t[l+e]:null}},{key:"setItem",value:function(e,t){return document.cookie=c.default.serialize(l+e,t,this.cookieOptions),t}},{key:"removeItem",value:function(e){var t=r({},this.cookieOptions,{maxAge:-1});return document.cookie=c.default.serialize(l+e,"",t),null}},{key:"clear",value:function(){var e=c.default.parse(document.cookie);for(var t in e)0===t.indexOf(l)&&this.removeItem(t.substr(l.length));return null}}]),e}();t.default=d},function(e,t,n){"use strict";function r(e){return-1===["tr","id","fi","lt","pl","et","lv"].indexOf(e)?"ru":"en"}function i(e,t){for(var n=[],r=e.length,i=0;i<r;){var a=e.indexOf("{",i);if(-1===a)return n.push(e.substring(i)),n;var o=e.indexOf("}",a);if(-1===o)return n.push(e.substring(i)),n;n.push(e.substring(i,a),t[e.substring(a+1,o)]),i=o+1}return n}function a(e,t,n){void 0===n&&(n={});var a=function(e,t){var n,r,i;try{for(var a=o(k),s=a.next();!s.done;s=a.next()){if((i=e[s.value])&&t in i)return i[t]}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return t}(e,t);return"string"===typeof a?i(a,n):function(e,t){var n=k.find((function(e){return Boolean(w[e])}))||r(k[0]);return i((0,w[n])(t.count,e),t)}(a,n)}var o=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.resolveI18nLang=t.getI18nLang=t.setI18nLang=t.i18nRaw=void 0;var c=s(n(279)),l=s(n(77)),d=s(n(280)),u=s(n(281)),h=s(n(76)),f=s(n(282)),p=s(n(283)),E=s(n(284)),v=s(n(285)),A=s(n(286)),m=s(n(287)),g=s(n(288)),O=s(n(289)),T=s(n(290)),y=s(n(291)),S=s(n(292)),R=s(n(293)),_=s(n(294)),b=s(n(295)),P=s(n(296)),I=s(n(297)),C=s(n(298)),N=s(n(299)),w={be:c.default,en:l.default,id:d.default,kk:u.default,ru:h.default,tr:f.default,tt:p.default,uk:E.default,uz:v.default,de:A.default,es:m.default,hy:g.default,ka:O.default,ky:T.default,sr:y.default,fr:S.default,lv:R.default,lt:_.default,ro:b.default,fi:P.default,az:I.default,zh:C.default,he:N.default},k=["ru"];t.default=function(e){return function(t,n){return void 0===n&&(n={}),a(e,t,n).join("")}},t.i18nRaw=function(e){return function(t,n){return void 0===n&&(n={}),a(e,t,n)}},t.setI18nLang=function(e){k="string"===typeof e?[e,r(e),"ru"]:e},t.getI18nLang=function(){return k[0]},t.resolveI18nLang=function(e,t,n){var r=t;if(-1===e.indexOf(r))switch(n){case"com":r="en";break;case"com.tr":r="tr";break;default:r="ru"}return r}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=!1},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(148);const i=Object(r.a)()},function(e,t,n){"use strict";function r(){const e=c.a||i.a,t=i.a&&s,n=!e&&!(Object(l.a)().length>0);return Object(d.a)()||t||n}n.d(t,"a",(function(){return r}));var i=n(69),a=n(21),o=n(78);const s=function(e){void 0===e&&(e=window);const{major:t,minor:n}=function(e){void 0===e&&(e=window);const t=Object(a.a)(e).match(/AppleWebKit\/(\d+)\.(\d+)/);if(!t)return{major:-1,minor:-1};const[,n,r]=t;return{major:parseInt(n,10),minor:parseInt(r,10)}}(e),r=function(e){const t=Object(a.a)(e).match(/Chrom(e|ium)\/([0-9]+)\./);return t?parseInt(t[2],10):-1}(e),i=Object(o.a)(e);return-1!==t&&-1!==n&&(i&&(t<537||537===t&&n<40)&&(-1===r||r<37))}(window);var c=n(130),l=n(199),d=n(113)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(193);const i=e=>e.filter(r.b)},function(e,t,n){"use strict";function r(e){return void 0===e?"":e.slots||""}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return void 0===e?[]:(e.testIds||"").split(",").map(e=>parseInt(e,10)).filter(i.a)}n.d(t,"a",(function(){return r}));var i=n(12)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r={state:n(40).a.NOT_PLAYING,type:void 0,adParams:{}}},function(e,t,n){"use strict";function r(e){function t(){if(0===n.length)return;const e=n.slice();n.length=0,e.forEach(e=>{let{task:t,onPromiseReject:n}=e;c?n(o):Object(a.a)(()=>t(r))}),n.length>0&&t()}const n=[];let r,o,s=!1,c=!1;return e.then(e=>{r=e,s=!0,t()}),e.catch(e=>{o=e,c=!0,t()}),function(e,t){void 0===t&&(t=i.a),c?t(o):!s||n.length>0?n.push({task:e,onPromiseReject:t}):Object(a.a)(()=>e(r))}}n.d(t,"a",(function(){return r}));var i=n(2),a=n(17)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);const i=Object(r.k)(30)},function(e,t,n){"use strict";function r(e){const t=e.trim();return"//"===t.substr(0,2)||"http://"===t.substr(0,7)||"https://"===t.substr(0,8)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(203);const i=Object(r.a)()},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e){void 0===e&&(e={});const t={};for(const n in e){const r=e[n],i=typeof r;"string"!==i&&"number"!==i&&"boolean"!==i||(t[n]=r)}return t}function a(){const{plugins:e}=window.navigator;return void 0===e||0===e.length?[]:Object(s.a)(e,i)}function o(){const e=window.navigator||{},t=window.performance||{},{location:n,referrer:o}=Object(c.a)(document);return{navigator:r({},i(e),{connection:i(e.connection),plugins:a()}),performance:{memory:i(t.memory)},playerLocation:location.href,iframeApiLocation:n,iframeApiReferrer:o}}n.d(t,"a",(function(){return o}));var s=n(46),c=n(97)},function(e,t,n){"use strict";function r(e){return"ya-video-player-"+e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){void 0===t&&(t=document);const n=t.createElement("a");return n.href=e,n.href}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return Object(P.a)(e)&&e.length>0}function i(e,t){try{return e()}catch(n){"function"===typeof t&&t(n)}}function a(e,t){const n={UrlParams:()=>D[t],SessionStorage:()=>e.sessionStorage.getItem(t),LocalStorage:()=>e.localStorage.getItem(t),GlobalVariable:()=>{var n,r;for(const i of Object(R.a)(e)){const e=null===(r=null===(n=i.Ya)||void 0===n?void 0:n.hardcodedParams)||void 0===r?void 0:r[t];if(e)return String(e)}}};for(const[o,s]of Object(b.a)(n)){const e=i(s);if(r(e))return a="VAS WARNING! Hardcoded parameter=["+t+"] with value=["+e+"] found in ["+o+"]",Object(L.a)(console)&&Object(k.a)(console.warn)&&console.warn(a),e}var a}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e){return void 0===e&&(e=W),X||function(e){return J+"1.0-"+e+"/"}(e)}function c(e){let t=function(){let n;return t=()=>n,n=e.apply(this,arguments),n};return function(){return t.apply(this,arguments)}}function l(e){if(void 0!==e){if(!Object(P.a)(e))throw new Error("testIdsString is not a string or undefined ["+e+"]");if(0===e.length)throw new Error("testIdsString string is empty");for(const t of e.split(";")){const n=t.split(",");if(3!==n.length)throw new Error("testIdParts length error ["+e+"]");const[r,,i]=n;if(0===r.trim().length)throw new Error("testId length error ["+e+"]");if(0===i.trim().length)throw new Error("testId bucket length error ["+e+"]")}return e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e){return"number"===typeof(t=e)&&isFinite(t)&&t>0&&function(e){return Object(le.a)(e)&&Math.floor(e)===e}(e);var t}function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Object(he.a)(t,Boolean);if(0!==r.length)return r.join(";")}function f(e){var t;const n=(pe.a||window).console;if(!Le||void 0===n)return;const r="AdSDKJS["+q+"]:";null===(t=n.log)||void 0===t||t.call(n,r,e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(){}function v(e,t,n){var r,i,a,o,s,c,l;const d=null===(a=null===(i=null===(r=n.ya)||void 0===r?void 0:r.videoAd)||void 0===i?void 0:i.loadedModules)||void 0===a?void 0:a[e];return d||(void 0!==t?null===(l=null===(c=null===(s=null===(o=n.ya)||void 0===o?void 0:o.videoAd)||void 0===s?void 0:s.modules)||void 0===c?void 0:c[t])||void 0===l?void 0:l[e]:void 0)}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}async function g(e,t,n){var a;void 0===e&&(e=window);let o=!1,s=!0;e===window&&Object($e.b)("adsdk.multiroll.full"),function(e){void 0===e&&(e=window);const t=e;if("undefined"!==typeof t.ya&&t.ya.videoAd&&t.ya.videoAd.loadModule)return t.ya.videoAd.loadModule;return}(e)||(o=!0);const c=(e=>{var t,n,a,o;const{win:s,config:{vasUaasConfig:c,additionalCustomRootFields:d,vh_sid:u},moduleName:f,onDetectVasModuleVersion:p,vasLoaderUrl:m,onLogErrorRequest:g}=e,O=ue({win:s,vasUaasConfig:c});O.parseUaasConfigError&&g(O.parseUaasConfigError);void 0!==O.version&&(null===p||void 0===p||p({resolveType:O.resolveType,version:""+O.version,loadTry:void 0}));const T=A({},d);!r(T.vh_sid)&&r(u)&&(T.vh_sid=u);const y=i(()=>l(null===T||void 0===T?void 0:T.testIds),g),S=null===(t=O.parsedUaasConfig)||void 0===t?void 0:t.testIds,R={AB_FLAGS:null!==(a=null===(n=O.parsedUaasConfig)||void 0===n?void 0:n.flags)&&void 0!==a?a:{},ICOOKIE:null===c||void 0===c?void 0:c.iCookie,TEST_IDS:h(y,S),VAS_UAAS_CONFIG:O.parsedUaasConfig,AdditionalStatsRootFields:T,VSID:null!==(o=null===T||void 0===T?void 0:T.vsid)&&void 0!==o?o:He,SID:Me,VAS_USER_SESSION_RANDOM:Ue,RUM_WRAPPER:void 0};return qe(e=>{let{resolve:t,reject:n,subscribeForTeardown:r}=e;if("UAAS Config"===O.resolveType&&O.version){const{promise:e,teardown:i}=(e=>{let{moduleName:t,version:n,win:r,scriptSessionParams:i}=e;const a=v(t,n,r);if(a)return{promise:Promise.resolve(a),teardown:E};const o=Z({version:n,bundleName:t,win:r,ecmaVersion:U}),{promise:s,teardown:c}=function(e){const{src:t,win:n,onBeforeLoad:r=E}=e,i=new Ke.a({});let a=E;return{promise:new Promise((e,o)=>{const s=n.document.createElement("script");let c=!1;a=()=>{c=!0,Object(ze.a)(s)};s.type="text/javascript",s.async=!0,s.onload=()=>{c||e()},s.onerror=e=>{c||(o(new Ke.a(i,{message:"Failed to load script ["+t+"]",details:{src:t,isSelfWindow:n===window,event:e}})),a())},s.src=t,s.charset=Ze.a,r(s),Object(Je.a)(n).appendChild(s)}),teardown:a}}({src:o,win:r,onBeforeLoad:e=>{(e=>{e.crossOrigin="anonymous"})(e),ge(e,i)}});return{promise:s.then(()=>v(t,n,r)),teardown:c}})({moduleName:f,scriptSessionParams:R,version:O.version,win:s});r(i),e.then(t).catch(n)}else{const{promise:e,teardown:i}=(e=>{let{win:t,vasLoaderUrl:n,scriptSessionParams:r}=e;const i=de(t);if(void 0!==i)return{promise:Promise.resolve({resolveType:"Preloaded Loader",version:i,loadTry:void 0}),teardown:E};const{promise:a,teardown:o}=qe(e=>{let{resolve:i,reject:a,subscribeForTeardown:o}=e,s=!1,c=0;o(()=>{s=!0}),Object(Qe.a)({src:n,win:t,retries:3,dropCacheOnRetry:!0,onBeforeLoad:e=>{c++,ge(e,r),s?Object(ze.a)(e):o(()=>{Object(ze.a)(e)})},onLoad:()=>i({loadTry:c}),onError:e=>a(e)})});return{promise:a.then(e=>{let{loadTry:n}=e;const r=de(t);return void 0===r?{resolveType:"none",version:void 0,loadTry:void 0}:{resolveType:"Loaded Loader",version:r,loadTry:n}}),teardown:o}})({vasLoaderUrl:m,win:s,scriptSessionParams:R});r(i),e.then(e=>{let{resolveType:i,version:a,loadTry:o}=e;if(void 0===a)n(new We({code:"VAS_LOADER_FUNCTION_CANNOT_RESOLVE_VERSION",details:{}}));else{"Loaded Loader"===i&&(null===p||void 0===p||p({resolveType:"Loaded Loader",version:""+a,loadTry:o}));const{promise:e,teardown:c}=(e=>{let{win:t,moduleName:n}=e;var r,i;const a=null===(i=null===(r=t.ya)||void 0===r?void 0:r.videoAd)||void 0===i?void 0:i.loadModule;if("function"===typeof a)return qe(e=>{let{resolve:t,reject:r,subscribeForTeardown:i}=e;const o=a(n);i(()=>r(new Error("Teardown was called"))),o.then(t).catch(r)});return{promise:Promise.reject(new We({code:"VAS_LOADER_FUNCTION_NO_GLOBAL_LOAD_MODULE_FN",details:{}})),teardown:E}})({win:s,moduleName:f});r(c),e.then(t).catch(n)}}).catch(n)}})})({vasLoaderUrl:"https://an.yandex.ru/system/video-ads-sdk/adsdk.js",config:m({},t,{additionalCustomRootFields:{vsid:n,contentPlayerVersion:"1.0-7360",testIds:null==(a=t.additionalParams)?void 0:a.slots}}),win:e,moduleName:"Multiroll",onDetectVasModuleVersion(e){let{resolveType:t,version:n}=e;"Loaded Loader"===t?o&&(Object($e.a)("adsdk.loader"),Object($e.b)("adsdk.multiroll")):s=!1},onLogErrorRequest:O.a}).promise;return Object($e.b)(s?"adsdk.loader":"adsdk.multiroll.uaas"),c.then(()=>{o&&e===window&&(Object($e.a)("adsdk.multiroll.full"),Object($e.a)(s?"adsdk.multiroll":"adsdk.multiroll.uaas"))}).catch(O.a),c}n.d(t,"a",(function(){return g}));var O=n(2),T=n(170);const y=Object(T.a)(window);var S=n(27),R=n(55),_=n(114),b=n(39),P=n(15),I=n(11),C=n(162),N=n(25);const w={adsdkver:0,adsdkdebug:0,adsdknovastconvertation:0,adsdkmotionoldanimation:0,adsdkecmaver:0,adsdktracelogs:0,adsdksecuremode:0,adsdkwithcredentials:0,adsdkthemeemptyactionbutton:0,adsdkabflags:0,adsdkuaas:0};Object(N.a)(w);var k=n(9),L=n(3);const D={},j=Object(_.a)(document);for(const{location:tt}of j){const e=Object(I.e)(tt);Object(S.a)(e,(e,t)=>{0===w[t]&&(D[t]=e)})}const M=(""+a(window,"adsdkecmaver")).toUpperCase(),V="ES2017"===M||"ES5"===M?M:void 0,U="ES2017"===V?"ES2017":"ES5"===V?"ES5":y?"ES2017":"ES5";var F=n(165);const x={ES5:"bundles",ES2017:"bundles-es2017"},B=o(o({},{InPage:"inpage",BannerAd:"banner_ad",VideoPlayer:"video_player",AdLoader:"loader",VideoBannerAd:"videobannerad",Multiroll:"multiroll",YaMusicAPI:"ya-music-api",VpaidPlayer:"vpaid_player",Rum:"rum"}),{OverlayTGO:"overlay_tgo",MotionTGO:"motion_ad_creative",InteractiveElementsAdCreative:"interactive_elements_ad_creative",ThemeEmpty:"theme_empty"});let H;try{H={build:7360,code:[{id:7360,percent:100}]}}catch(et){H={}}const{build:Y,code:K}=H,G=Y,W=function(e,t,n){const r=a(e,t);return r?Number(r):Object(C.a)(n)}(window,"adsdkver",K),X="undefined"===typeof BUNDLES_PATH?"":BUNDLES_PATH,q="undefined"===typeof BUNDLE_NAME?"Test":BUNDLE_NAME,z=("undefined"===typeof BUILD_TIME||BUILD_TIME,["aw","ap","s-a","d-sd","k-j","s"].join("")),Q=(["a","n.ya","nd","ex.ru"].join(""),["y","a","nde","x.ru"].join(""),["ya","sta","tic.net"].join("")),J="https://"+Q+"/"+z+"-bundles/",Z=e=>{let{bundleName:t,win:n,ecmaVersion:r,version:i}=e;const a=x[r],o=Object(F.a)(n),c=B[t]+".bundle.js";const l=""+s(i)+a+"/"+c;return Object(k.a)(o)?o(l):l};var $=n(89),ee=n(45),te=n(47);const ne=a(window,"adsdkuaas");var re=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const ie={testIds:"",flags:{}};const ae=c(()=>{try{return null!==ne&&void 0!==ne?ne:__UAAS_CFG__}catch(e){return e}}),oe=e=>{if((t=e)instanceof Error||"Error"===Object(te.a)(t))return{error:e,config:ie};var t;try{const t=Object(L.a)(e)?e:JSON.parse(""+(e||"")),n=(e=>!!Object(L.a)(e)&&(!(!("expFlags"in e)||!Object(ee.a)(e.expFlags))&&!(!("testIds"in e)||!Object(P.a)(e.testIds))))(t)?(e=>{const{expFlags:t}=e,n=re(e,["expFlags"]),r={},i={};return Object($.a)(e.expFlags,e=>{Object($.a)(e,e=>{let{CONTEXT:{FLAGS:t},TESTID:n}=e;Object(L.a)(t)&&Object($.a)(Object(N.a)(t),e=>{var a;const o=t[e];r[e]=o,i[e]=null!==(a=i[e])&&void 0!==a?a:[],i[e].push({value:o,testId:n[0]})})})}),d({flags:r,flagsMap:i},n)})(t):t;if(!((e,t)=>{if(!Object(L.a)(t))throw new Error("Parsed replaced macro is not an object: "+e);if(l(t.testIds),!("flags"in t)||!Object(L.a)(t.flags))throw new Error("Parsed replaced macro has no flags field: "+e);return!0})(String(e),n))throw new Error("UAAS config is not valid: "+e);return{error:void 0,config:n}}catch(n){return{error:n,config:ie}}},se=c(()=>oe(ae())),ce=e=>{var t;const{error:n,config:i}=oe(e);if(!n){const e=i.flags,n=null!==(t=e.ADSDKVER)&&void 0!==t?t:e.VAS_STABLE_VERSION,o=r(n)?parseInt(n,10):void 0;if("number"===typeof(a=o)&&isFinite(a)&&a>=0)return{resolveType:"UAAS Config",version:o,parsedUaasConfig:i,parseUaasConfigError:void 0}}var a;return{resolveType:"none",version:void 0,parsedUaasConfig:void 0,parseUaasConfigError:n}};var le=n(12);const de=e=>{var t,n,r;const i=null===(r=null===(n=null===(t=e.ya)||void 0===t?void 0:t.videoAd)||void 0===n?void 0:n.getBundleVersion)||void 0===r?void 0:r.call(n),a=parseInt(null!==i&&void 0!==i?i:"",10);if(u(a))return a},ue=e=>{let{vasUaasConfig:t,win:n}=e;const r=ce(t);if(void 0!==r.version)return r;const i=de(n);return void 0!==i?{resolveType:"Preloaded Loader",version:i,parsedUaasConfig:void 0,parseUaasConfigError:r.parseUaasConfigError}:{resolveType:"none",version:void 0,parsedUaasConfig:void 0,parseUaasConfigError:r.parseUaasConfigError}};var he=n(86),fe=n(56),pe=n(80),Ee=n(160);Object(Ee.a)(window);var ve=n(87),Ae=n(29);const me=e=>Object(L.a)(e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__),ge=(e,t)=>{e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__=t};let Oe=document.currentScript;if(!Oe){const e=Object(Ae.a)(document.getElementsByTagName("script"));Oe=Object(ve.a)(e,me),Oe||(Oe=e[e.length-1])}const Te=Oe;Te&&Te.src;const ye=Te?Te.__AD_SDK_SCRIPT_SESSION_PARAMETERS__:void 0;Te&&(e=>{delete e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__})(Te);const Se=null===ye||void 0===ye?void 0:ye.SID,Re=null===ye||void 0===ye?void 0:ye.VSID,_e=(null===ye||void 0===ye||ye.ICOOKIE,null===ye||void 0===ye||ye.TEST_IDS,null===ye||void 0===ye?void 0:ye.VAS_UAAS_CONFIG),be=(null===ye||void 0===ye||ye.AB_FLAGS,null===ye||void 0===ye||ye.AB_FLAGS_STORE,null===ye||void 0===ye?void 0:ye.AdditionalStatsRootFields),Pe=null===ye||void 0===ye?void 0:ye.VAS_USER_SESSION_RANDOM;null===ye||void 0===ye||ye.RUM_WRAPPER;let Ie,Ce=_e||ie;try{const e=se();if(e.error)throw e.error;Ce=e.config}catch(et){Ie=et}const Ne=Ce,we=a(window,"adsdkdebug"),ke=Ne.isInternalNetwork||!1,Le=Boolean(we)||ke,De=a(window,"adsdktracelogs");Boolean(De);var je=n(99);Object(je.a)({propertyName:"DEBUG_LOG_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});const Me=Se||Object(fe.a)(64);f((Se?"Use existing SID":"Generate new SID")+" ["+Me+"]");var Ve=n(49);const Ue=null!==Pe&&void 0!==Pe?Pe:Object(Ve.a)();var Fe=n(145);const xe="VAS",Be=e=>Object(Fe.a)(String(e%Math.pow(10,4)),4,"0"),He=(null===be||void 0===be?void 0:be.vsid)||Re||(void 0===Ye&&(Ye=G),[Object(fe.a)(44),xe,Be(Ye),Object(Fe.a)(Date.now().toString().slice(0,10),10,"0")].join("x"));var Ye;f(((null===be||void 0===be?void 0:be.vsid)?"Use VSID from player":Re?"Use VSID from session":"Generate new VSID")+" ["+He+"]");var Ke=n(35);const Ge={NO_APPROPRIATE_VIDEO_SOURCE:52,MEDIA_ERR_ABORTED:101,MEDIA_ERR_NETWORK:102,MEDIA_ERR_SRC_NOT_SUPPORTED:104,VIDEO_ERROR:10,INVALID_VAST_XML:40,YANDEX_INVALID_VAST_XML:40,INCORRECT_SKIPOFFSET_FORMAT:46,YANDEX_INCORRECT_SKIPOFFSET_FORMAT:46,ADFOX_VAST_LOAD_ERROR:47,VAST_LOAD_ERROR:48,NO_AD_SECTION:53,VAST_LOAD_TIMEOUT:60,YANDEX_VAST_LOAD_TIMEOUT:60,NO_INLINE_OR_WRAPPER_NODE:58,YANDEX_NO_INLINE_OR_WRAPPER_NODE:58,INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION:59,YANDEX_INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION:59,VIDEO_TIMEOUT:62,BUFFER_FULL_TIMEOUT:63,BUFFER_EMPTY_LIMIT:64,VPAID_START_TIMEOUT:65,EXPECTED_PREROLL_AD_BREAK:66,VMAP_CONFIG_WITHOUT_PARTNER_ID:1003,NO_AD_TO_DISPLAY:51,VPAIDLoadingError:68,VPAIDPlayingError:67,VpaidEventBusCallbackError:81,CANNOT_LOAD_VPAID_MEDIA_FILE:82,CANNOT_LOAD_MODULE:91,CANNOT_INIT_MODULE:92,TOO_MANY_CREATE_AD_DISPLAY_CONTROLLER_REQUESTS:21002,PUBLIC_CONTROLLER_PLAY_ERROR:21010,NO_AD_CUSTOM_MARKER:21101};class We extends Ke.a{constructor(e,t){void 0===e&&(e={}),void 0===t&&(t={});const n=t.message||e.message,r=t.code||e.code;super(e,p(p({},t),{message:"AdSDK Error ["+r+"]"+(n?"["+n+"]":"")})),this.id=function(e){return Ge[e]||0}(this.code)}}class Xe{constructor(e){this.dispatch=c(e=>{this.value=e,this._isDispatched=!0,function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Object(ee.a)(e)&&Object($.a)(e,e=>{"function"===typeof e&&e(...n)})}(this.callbacks,e),this.callbacks.length=0}),this.callbacks=[],this._isDispatched=!1,Object(k.a)(e)&&this.callbacks.push(e)}subscribe(e){return this._isDispatched?(e(this.value),E):(this.callbacks.push(e),()=>{this.callbacks=Object(he.a)(this.callbacks,t=>t!==e)})}getDispatched(){return this._isDispatched}getValue(){return this.value}wait(){return new Promise(e=>{this.subscribe(e)})}}const qe=e=>{const t=new Xe;return{promise:new Promise((n,r)=>{e({resolve:n,reject:r,subscribeForTeardown:e=>{t.subscribe(e)}})}),teardown:()=>t.dispatch(void 0)}};var ze=n(33),Qe=n(129);var Je=n(66),Ze=n(150);var $e=n(36)},function(e,t,n){"use strict";function r(e,t,n){return Math.max(Math.min(t,n)-Math.max(e,0),0)}function i(e){const t=Object(o.a)(e),n=t.width,i=t.height;let a=0;if(n>0&&i>0){const e=function(){const e=window;let t=e.innerWidth,n=e.innerHeight;if(!t){const r=e.document.documentElement;t=r.clientWidth,n=r.clientHeight}return{width:t,height:n}}();a=r(t.left,t.right,e.width)*r(t.top,t.bottom,e.height)/(n*i)}return a}n.d(t,"a",(function(){return s}));const a=function(e){void 0===e&&(e=window);const t=e.navigator.userAgent;return-1!==t.indexOf("Opera Mini")||(-1!==t.indexOf("; wv)")&&-1!==t.indexOf(" OPR/")||-1!==t.indexOf(" OPiOS/"))}();var o=n(119);class s{constructor(e){this.args=e,this.isDetermined=!0,this.callback=e=>{const t=e[0].intersectionRatio>=this.observer.thresholds[0];this.args.callback(t)},this.threshold=Math.max(2**-149,this.args.portion),this.observer=new IntersectionObserver(this.callback,{threshold:this.threshold})}static factory(e){return"undefined"===typeof IntersectionObserver?null:"thresholds"in IntersectionObserver.prototype&&e.element?new s(e):null}start(){this.observer.observe(this.args.element)}stop(){this.observer.disconnect()}getIsVisible(){return e=this.args.element,t=this.threshold,a?e.offsetWidth>0&&e.offsetHeight>0:i(e)>=(t||Number.MIN_VALUE);var e,t}}},function(e,t,n){"use strict";function r(e){let{videoType:t,currentTime:n,dvrStartTime:r,dvrDuration:s}=e;if(void 0===t||t===i.a.VOD)return o.a;const d=r+s-a.a;if(s===1/0||n>d)return l;if(t!==i.a.LIVE)return o.a;return r+(0===n?0:10)>n?c:o.a}n.d(t,"a",(function(){return r}));var i=n(14),a=n(98),o=n(136),s=n(68);const c={min:s.a,max:1/0},l={min:0,max:s.a}},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){var n;const i=null==(n=e.servers)?void 0:n[o.d];if(!i||!function(e){const{hostname:t}=Object(a.g)(e);return-1!==s.indexOf(t)}(i))return e;const c=Object(a.g)(i),{pathname:l}=c,d=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(c,["pathname"]),u="/"===l[l.length-1]?l:l+"/";if("/proxy/"!==u)return e;const h=Object(a.h)(r({},d,{pathname:""+u+encodeURIComponent(t)}));return r({},e,{servers:r({},e.servers,{[o.d]:h})})}n.d(t,"a",(function(){return i}));var a=n(11),o=n(65);const s=["playready-proxy.ott.yandex.ru","playready-proxy-preproduction.ott.yandex.ru"]},function(e,t,n){"use strict";function r(e){let{url:t,adConfig:n,additionalParams:r}=e;const a=((e,t)=>{if(!e||!t)return e;const n={"partner-id":"number"===typeof t.partnerId?String(t.partnerId):t.partnerId,"video-category-id":"number"===typeof t.category?String(t.category):t.category,"imp-id":String(t.impId),gzip:"1"};return Object(i.b)(e,n,{override:!0,saveOriginalPath:!0})})(t,n);return r?Object(i.b)(Object(i.b)(a,{from:r.from},{override:!0,saveOriginalPath:!0}),r,{override:!1,saveOriginalPath:!0}):a}n.d(t,"a",(function(){return r}));var i=n(11)},function(e,t,n){"use strict";function r(e){const t=o(e);return t?()=>{o(e)!==t&&s(e,t)}:i.a}n.d(t,"a",(function(){return r}));var i=n(2),a=n(24);const o=Object(a.a)(Object.getPrototypeOf)?e=>Object.getPrototypeOf(e):e=>e.__proto__||Object.prototype,s=n(215)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(21),i=n(78);const a=function(e){void 0===e&&(e=window);const t=Object(r.a)(e).toLowerCase();return/linux/.test(t)&&!Object(i.a)(e)}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);const i=Object(r.k)(0)},function(e,t,n){(t=e.exports=n(213)(!1)).push([e.i,"._1gZJUfw{user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;position:relative;background:#000;background-position:center;background-size:contain;background-repeat:no-repeat;width:100%;height:100%;font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;overflow:hidden;text-align:left;outline:0}._2jlIyxK{width:100%;height:100%;font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;overflow:hidden;user-select:none;text-align:left;outline:0;position:absolute;top:0;left:0;pointer-events:none;background:0 0}._1gZJUfw ._17DR8Wz{display:none!important}._1gZJUfw>iframe.KNlHF8r{position:absolute;width:100%;height:100%;border:0}._1gZJUfw .xDBHr4L{position:absolute;width:100%;height:100%;pointer-events:none}._1gZJUfw video{width:100%;height:100%}._1gZJUfw video::-webkit-media-controls-start-playback-button{z-index:2147483647!important}._1gZJUfw video._33stY3F::-webkit-media-controls-start-playback-button{display:none!important}",""]),t.locals={StreamPlayer:"_1gZJUfw",StreamPlayer_ui:"_2jlIyxK",hidden:"_17DR8Wz",container:"KNlHF8r",adSkin:"xDBHr4L","hide-native-play-button":"_33stY3F"}},function(e,t,n){"use strict";function r(e){const t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||(t=>e.setTimeout(t,i.a)),n=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||e.msCancelAnimationFrame||(t=>e.clearTimeout(t));return{requestAnimationFrame:t.bind(e),cancelAnimationFrame:n.bind(e)}}n.d(t,"a",(function(){return r}));var i=n(255)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=1e3/60},function(e,t,n){"use strict";function r(e){switch(Object(d.c)(e)){case"mpd":return"application/dash+xml";case"mp4":return"video/mp4";case"m3u8":return"application/vnd.apple.mpegurl";case"ism":case"ismc":return"application/vnd.ms-sstr+xml";default:return""}}function i(e){let t,{servers:n={},requestParams:r={}}=e;const i=n[h.d];if(i)return t="playready",{drmType:"playready",customData:r,licenseServer:i}}function a(){const e=window;if(e.webOS)return e.webOS;try{const{parent:t}=e;if(t.webOS)return t.webOS}catch(t){throw new Error("Cannot access parent window in non-friendly frame")}throw new Error("webOSTV.js library was not found neither in player frame nor in parent window. webOS API is unavailable.")}function o(e){let{message:t,code:n,details:r}=e;const i="function"===typeof t?t():"WEBOS_ERROR_"+t;return new u.a({message:i,code:n,details:r})}function s(e){let{message:t,details:n}=e;return o({message:()=>"WEBOS_DRM_ERROR_"+t,code:u.b.MEDIA_ERR_ENCRYPTED,details:n})}function c(e){let{preferNative:t=!1}=void 0===e?{}:e;return l.a&&(t||E||v)}n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"f",(function(){return c}));var l=n(232),d=n(11),u=n(74),h=n(65),f=n(315);const p=Object(f.a)(),E=1===p.major,v=2===p.major},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(21);const i=function(e){void 0===e&&(e=window);const t=Object(r.a)(e).toLowerCase();return t.indexOf("playstation")>-1&&t.indexOf("webmaf")>-1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(257);const i=Object(r.a)()},function(e,t,n){"use strict";function r(e){return e.__yaMuffleVideoPlayPromiseOriginalPlay||e}function i(){function e(){const e=t.apply(this);return Object(a.a)(e),e}if(!o.a)return;const t=HTMLMediaElement.prototype.play;e.__yaMuffleVideoPlayPromiseOriginalPlay=t,HTMLMediaElement.prototype.play=e}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var a=n(51),o=n(128)},function(e,t,n){"use strict";function r(e,t){const n=Object(i.a)(e,t);if(!n)return null;let r=e.document[n.element];return t&&t[n.element]&&(r=t),r||null}n.d(t,"a",(function(){return r}));var i=n(267)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=["strm.yandex.net","strm.yandex.ru","strm-ott.akamaized.net","media.strm.yandex.net","cdn.ngenix.net"]},function(e,t,n){"use strict";function r(e,t){Object(i.a)(e)!==Object(i.a)(t)&&t.appendChild(e)}n.d(t,"a",(function(){return r}));var i=n(140)},function(e,t,n){"use strict";function r(e){if(void 0===e&&(e=window),!e.navigator)return a;const{connection:t={}}=e.navigator;return Object(i.a)(t.rtt)?t.rtt:a}n.d(t,"a",(function(){return r}));var i=n(12);const a=NaN},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){for(var r=e.length+t.length,i=new Array(r),a=0,o=0,s=0;s<r;){var c=a>=e.length,l=o>=t.length;!c&&(l||n(e[a],t[o])<0)?(i[s]=e[a],a++):(i[s]=t[o],o++),s++}return i}},function(e,t,n){"use strict";(function(t){function r(e,t,n){var r,i,s,u,E={tag:null,value:null},v=o(e,4,0),A=o(e,1,0);n||a(e.slice(4));if(0!==[e[8],e[9]][1])return!1;if(!(v in l))return!1;if(E.tag=l[v],"T"===A){if(0===(i=e[10]))E.value=p(e.slice(11));else if(3===i)E.value=f(e.slice(11));else{if(1!==i&&2!==i)return!1;E.value=h(e.slice(11))}"TCON"===v&&parseInt(E.value)&&(E.value=c[parseInt(E.value)])}else if("W"===A)E.value=f(e.slice(10));else if("COMM"===v||"USLT"===v){for(i=e[10],u=0,r=s=14;;r++)if(1===i||2===i){if(0===e[r]&&0===e[r+1]){s=r+2;break}r++}else if(0===e[r]){s=r+1;break}if(0===i||3===i)E.value=f(e.slice(s));else{if(1!==i&&2!==i)return!1;E.value=h(e.slice(s))}}else if("APIC"===v){i=e[10];var m={type:null,mime:null,imageType:null,description:null,data:null};for(u=0,r=s=11;;r++)if(0===e[r]){u=r-s;break}for(m.mime=f(e.slice(s),u),m.type=d[e[s+u+1]]||"other",s+=u+2,u=0,r=s;;r++)if(0===e[r]){u=r-s;break}for(m.description=0===u?null:h(e.slice(s),u),r=s+=u+1;0===e[r];r++)s++;m.data=e.slice(s),E.value=m}return!!E.tag&&E}function i(e){return 2097152*(127&e[0])+16384*(127&e[1])+128*(127&e[2])+(127&e[3])}function a(e){return e.length<4?0:16777216*e[0]+65536*e[1]+256*e[2]+e[3]}function o(e,n,r,i){r=r||0,n<0&&(n+=e.length);var a="";if(v)return(e=e.slice(r,r+n))instanceof t?e.toString():new t(e).toString();for(var o=r;o<r+n;o++)a+=String.fromCharCode(e[o]);return i?a:decodeURIComponent(encodeURIComponent(a))}var s=n(346),c=n(347),l=n(348),d=n(349),u=n(350),h=u.readUTF16String,f=u.readUTF8String,p=u.readISO8859String,E=void 0!==s.File&&void 0!==s.FileReader,v=void 0!==s.Buffer;e.exports={parse:function(e){return new Promise((function(n,r){var i;E&&e instanceof File?((i=new FileReader).onload=function(t){e=new Uint8Array(t.target.result),n(e)},i.readAsArrayBuffer(e)):e instanceof t||e instanceof Uint8Array?n(e):r(new TypeError("argument should be instance of Buffer|Uint8Array|File"))})).then((function(e){var t,n=function(e){if(!e||e.length<128)return!1;e=e.slice(e.length-128);var t={version:{major:1,minor:0}},n=f(e,3),r=/(^[\s\u0000]+|[\s\u0000]+$)/;if("TAG"!==n)return!1;t.title=f(e.slice(3),30).replace(r,""),t.artist=f(e.slice(33),30).replace(r,""),t.album=f(e.slice(63),30).replace(r,""),t.year=f(e.slice(93),4).replace(r,""),0===e[125]?(t.comment=f(e.slice(97),28).replace(r,""),t.version.minor=1,t.track=e[126]):t.comment=f(e.slice(97),30).replace(r,"");return t.genre=c[e[127]]||"",t}(e),o=function(e){if(!e||e.length<20)return!1;var t,n,o,s=function(e,t){if(!e||e.length<10)return!1;var n,r,i;if(t=t||{},"ID3"!==f(e,3))return!1;return n=t.version||(t.version={major:2}),r=t.version.flags||(t.version.flags={}),n.minor=e[3],n.revision=e[4],i=e[5],r.unsync=!0&i,r.xheader=!0&i,r.experimental=!0&i,t}(e.slice(0,14));if(!s)return!1;if(t=s.version.flags,n=10,t.unsync)throw new Error("not support unsynchronisation");t.xheader&&(n+=i(e.slice(10,14)));return o=i(e.slice(6,10)),function(e,t){var n=0,i=t.version;for(;n<e.length;){var o,s,c=a(e.slice(n+4));if(0===c)break;if(!(s=e.slice(n,n+10+c)).length)break;(o=r(s,i.minor,c))&&(t[o.tag]=o.value),n+=s.length}}(e.slice(n,o+n),s),s}(e);if(o){for(t in n)t in o&&""!==o[t]||(o[t]=n[t]);return o.version={v1:n&&n.version,v2:o.version},o}return n?(n.version={v1:n.version,v2:!1},n):{version:!1}}))}}}).call(this,n(345).Buffer)},function(e,t,n){"use strict";function r(e){return void 0===e&&(e=window),Object(i.a)(e.document.querySelectorAll("style[data-ya-player-style]"))}n.d(t,"a",(function(){return r}));var i=n(29)},function(e,t,n){"use strict";function r(e,t){const n=Object(i.a)(e);if(n.length>0)return n[0];const r=function(e,t){return void 0===e&&(e=window),void 0===t&&(t=e.HTMLVideoElement&&e.HTMLVideoElement.prototype||{}),a.a.filter(e=>{let{enabled:n}=e;return n in t})}(e,t);return r.length>0?r[0]:void 0}n.d(t,"a",(function(){return r}));var i=n(199),a=n(141)},,function(e,t,n){"use strict";function r(e,t){const n=Math.pow(10,t);return Math.round((e+i.a)*n)/n}n.d(t,"a",(function(){return r}));var i=n(182)},function(e,t){!function(e,t){if(e.Ya=e.Ya||{},Ya.Rum)throw new Error("Rum: interface is already defined");var n=e.performance,r=n&&n.timing&&n.timing.navigationStart||Ya.startPageLoad||+new Date,i=e.requestAnimationFrame;Ya.Rum={enabled:!!n,vsStart:document.visibilityState,vsChanged:!1,_defTimes:[],_defRes:[],_deltaMarks:{},_markListeners:{},_settings:{},_vars:{},init:function(e,t){this._settings=e,this._vars=t},getTime:n&&n.now?function(){return n.now()}:Date.now?function(){return Date.now()-r}:function(){return new Date-r},time:function(e){this._deltaMarks[e]=[this.getTime()]},timeEnd:function(e,t){var n=this._deltaMarks[e];n&&0!==n.length&&n.push(this.getTime(),t)},sendTimeMark:function(e,t,n,r){void 0===t&&(t=this.getTime()),this._defTimes.push([e,t,r]),this.mark(e,t)},sendResTiming:function(e,t){this._defRes.push([e,t])},sendRaf:function(e){var t=this.getSetting("forcePaintTimeSending");if(i&&(t||!this.isVisibilityChanged())){var n=this,r="2616."+e;i((function(){!t&&n.isVisibilityChanged()||(n.getSetting("sendFirstRaf")&&n.sendTimeMark(r+".205"),i((function(){!t&&n.isVisibilityChanged()||n.sendTimeMark(r+".1928")})))}))}},isVisibilityChanged:function(){return this.vsStart&&("visible"!==this.vsStart||this.vsChanged)},mark:n&&n.mark?function(e,t){n.mark(e+(t?": "+t:""))}:function(){},getSetting:function(e){var t=this._settings[e];return null===t?null:t||""},on:function(e,t){"function"==typeof t&&(this._markListeners[e]=this._markListeners[e]||[]).push(t)},sendTrafficData:function(){},finalizeLayoutShiftScore:function(){},finalizeLargestContentfulPaint:function(){}},document.addEventListener&&document.addEventListener("visibilitychange",(function e(){Ya.Rum.vsChanged=!0,document.removeEventListener("visibilitychange",e)}))}(window)},function(e,t){!function(){function e(){var e=Ya.Rum.getSetting("clck"),r=n.join("\r\n");if(n=[],t=null,e&&!(navigator.sendBeacon&&Ya.Rum.getSetting("beacon")&&navigator.sendBeacon(e,r))){var i=new XMLHttpRequest;i.open("POST",e),i.send(r)}}var t,n=[];Ya.Rum.send=function(r,i,a,o,s,c,l){clearTimeout(t);var d=Ya.Rum.getSetting("slots"),u=Ya.Rum.getSetting("experiments"),h=["/reqid="+Ya.Rum.getSetting("reqid"),l?"/"+l.join("/"):"",i?"/path="+i:"",s?"/events="+s:"",d?"/slots="+d.join(";"):"",u?"/experiments="+u.join(";"):"",a?"/vars="+a:"","/cts="+(new Date).getTime(),"/*"];n.push(h.join("")),n.length<42?t=setTimeout(e,15):e()}}()},function(e,t){!function(){if(window.PerformanceLongTaskTiming){var e=function(e,t){return(e=e.concat(t)).length>300&&(e=e.slice(e.length-300)),e},t=Ya.Rum._tti={events:[],eventsAfterTTI:[],fired:!1,observer:new PerformanceObserver((function(n){var r=n.getEntries();t.events=e(t.events,r),t.fired&&(t.eventsAfterTTI=e(t.eventsAfterTTI,r))}))};t.observer.observe({entryTypes:["longtask"]})}}()},function(e,t){!function(e){if(!("undefined"!=typeof self?self:window).Ya||!Ya.Rum)throw new Error("Rum: interface is not defined");var t=Ya.Rum;t.getSetting=function(e){var n=t._settings[e];return null===n?null:n||""}}()},function(e,t){!function(e,t){function n(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function r(e){return"boolean"==typeof e&&(e=+e),"number"==typeof e?e+"":null}var i={client:["690.2354",1e3,100,0],uncaught:["690.2361",100,10,0],external:["690.2854",100,10,0],script:["690.2609",100,10,0]},a={};t.ERROR_LEVEL={INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error",FATAL:"fatal"},t._errorSettings={clck:"https://yandex.ru/clck/click",beacon:!0,project:"unknown",page:"",env:"",experiments:[],additional:{},platform:"",region:"",dc:"",host:"",service:"",level:"",version:"",yandexuid:"",coordinates_gp:"",referrer:!0,preventError:!1,unhandledRejection:!1,traceUnhandledRejection:!1,uncaughtException:!0,debug:!1,limits:{},silent:{},filters:{},pageMaxAge:864e6,initTimestamp:+new Date};var o=!1;t.initErrors=function(r){var i=n(t._errorSettings,r);o||(i.uncaughtException&&function(){var n=t._errorSettings;if(e.addEventListener)e.addEventListener("error",s),n.resourceFails&&e.addEventListener("error",c,!0),"Promise"in e&&n.unhandledRejection&&e.addEventListener("unhandledrejection",(function(e){var n,r,i=e.reason,a={};i&&(i.stack&&i.message?(n=i.message,r=i.stack):(n=String(i),r=t._parseTraceablePromiseStack(e.promise),"[object Event]"===n?n="event.type: "+i.type:"[object Object]"===n&&(a.unhandledObject=i)),i.target&&i.target.src&&(a.src=i.target.src),s({message:"Unhandled rejection: "+n,stack:r,additional:a}))}));else{var r=e.onerror;e.onerror=function(e,t,n,i,a){s({error:a||new Error(e||"Empty error"),message:e,lineno:n,colno:i,filename:t}),r&&r.apply(this,arguments)}}}(),i.unhandledRejection&&i.traceUnhandledRejection&&t._traceUnhandledRejection(),o=!0)},t.updateErrors=function(e){n(t._errorSettings,e)},t.updateAdditional=function(e){t._errorSettings.additional=n(t._errorSettings.additional||{},e)},t._handleError=function(e,n){var r,o,s=t._errorSettings;if(s.preventError&&e.preventDefault&&e.preventDefault(),n)r=e,o="client";else{r=t._normalizeError(e),o=r.type;var c=s.onError;"function"==typeof c&&c(r);var l=s.transform;"function"==typeof l&&(r=l(r))}var d=+new Date,u=s.initTimestamp,h=s.pageMaxAge;if(!(-1!==h&&u&&u+h<d)){var f=i[o][1];"number"==typeof s.limits[o]&&(f=s.limits[o]);var p=i[o][2];"number"==typeof s.silent[o]&&(p=s.silent[o]);var E=i[o][3];if(E<f||-1===f){r.path=i[o][0];var v=t._getErrorData(r,{silent:E<p||-1===p?"no":"yes",isCustom:Boolean(n)},s),A=function(e){a[r.message]=!1,t._sendError(e.path,e.vars),i[o][3]++}.bind(this,v);if(void 0===s.throttleSend)A();else{if(a[r.message])return;a[r.message]=!0,setTimeout(A,s.throttleSend)}}}},t._getReferrer=function(t){var n=t.referrer,r=typeof n;return"function"===r?n():"string"===r&&n?n:!1!==n&&e.location?e.location.href:void 0},t._buildExperiments=function(e){return e instanceof Array?e.join(";"):""},t._buildAdditional=function(e,t){var r="";try{var i=n(n({},e),t);0!==Object.keys(i).length&&(r=JSON.stringify(i))}catch(e){}return r},t._getErrorData=function(n,i,a){i=i||{};var o=t._buildExperiments(a.experiments),s=t._buildAdditional(a.additional,n.additional),c={"-stack":n.stack,"-url":n.file,"-line":n.line,"-col":n.col,"-block":n.block,"-method":n.method,"-msg":n.message,"-env":a.env,"-external":n.external,"-externalCustom":n.externalCustom,"-project":a.project,"-service":n.service||a.service,"-page":n.page||a.page,"-platform":a.platform,"-level":n.level,"-experiments":o,"-version":a.version,"-region":a.region,"-dc":a.dc,"-host":a.host,"-yandexuid":a.yandexuid,"-coordinates_gp":n.coordinates_gp||a.coordinates_gp,"-referrer":t._getReferrer(a),"-source":n.source,"-sourceMethod":n.sourceMethod,"-type":i.isCustom?n.type:"","-additional":s,"-adb":r(Ya.blocker)||r(a.blocker),"-cdn":e.YaStaticRegion,"-ua":navigator.userAgent,"-silent":i.silent,"-ts":+new Date,"-init-ts":a.initTimestamp};return a.debug&&e.console&&console[console[n.level]?n.level:"error"]("[error-counter] "+n.message,c,n.stack),{path:n.path,vars:c}},t._baseNormalizeError=function(e){var t=(e=e||{}).error,n=e.filename||e.fileName||"",r=t&&t.stack||e.stack||"",i=e.message||"",a=t&&t.additional||e.additional;return{file:n,line:e.lineno||e.lineNumber,col:e.colno||e.colNumber,stack:r,message:i,additional:a}},t._normalizeError=function(e){var n=t._baseNormalizeError(e),r="uncaught",i=t._isExternalError(n.file,n.message,n.stack),a="",o="";return i.hasExternal?(r="external",a=i.common,o=i.custom):/^Script error\.?$/.test(n.message)&&(r="script"),n.external=a,n.externalCustom=o,n.type=r,n},t._createVarsString=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&(e[n]||0===e[n])&&t.push(n+"="+encodeURIComponent(e[n]).replace(/\*/g,"%2A"));return t.join(",")},t._sendError=function(e,n){t.send(null,e,t._createVarsString(n),null,null,null,null)};var s=function(e){t._handleError(e,!1)},c=function(e){var n=e.target;if(n){var r=n.srcset||n.src;if(r||(r=n.href),r){var i=n.tagName||"UNKNOWN";t.logError({message:i+" load error",additional:{src:r}})}}};t._parseTraceablePromiseStack=function(){}}("undefined"!=typeof self?self:window,Ya.Rum)},function(e,t){!function(e){function t(e,t){if(e&&t){var n=[];for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];"string"==typeof i&&(i=new RegExp(i)),i instanceof RegExp&&i.test(e)&&n.push(r)}return n.join("_")}}function n(e,n){var i,a=[];for(var o in r)r.hasOwnProperty(o)&&(i=t(e[o],n[o]))&&a.push(o+"~"+i);return a.join(";")}var r={url:{0:/(miscellaneous|extension)_bindings/,1:/^chrome:/,2:/kaspersky-labs\.com\//,3:/^(?:moz|chrome)-extension:\/\//,4:/^file:/,5:/^resource:\/\//,6:/webnetc\.top/,7:/local\.adguard\.com/},message:{0:/__adgRemoveDirect/,1:/Content Security Policy/,2:/vid_mate_check/,3:/ucapi/,4:/Access is denied/i,5:/^Uncaught SecurityError/i,6:/__ybro/,7:/__show__deepen/,8:/ntp is not defined/,9:/Cannot set property 'install' of undefined/,10:/NS_ERROR/,11:/Error loading script/,12:/^TypeError: undefined is not a function$/,13:/__firefox__\.(?:favicons|metadata|reader|searchQueryForField|searchLoginField)/},stack:{0:/(?:moz|chrome)-extension:\/\//,1:/adguard.*\.user\.js/i}};e._isExternalError=function(t,i,a){var o=e._errorSettings.filters||{},s={url:(t||"")+"",message:(i||"")+"",stack:(a||"")+""},c=n(s,r),l=n(s,o);return{common:c,custom:l,hasExternal:!(!c&&!l)}}}(Ya.Rum)},function(e,t){!function(){"use strict";var e;(e=Ya.Rum).logError=function(t,n){t=t||{},"string"!=typeof n&&void 0!==n||((n=new Error(n)).justCreated=!0);var r=t.message||"",i=e._baseNormalizeError(n);i.message&&(r&&(r+="; "),r+=i.message),i.message=r||"Empty error";for(var a=["service","source","type","block","additional","level","page","method","sourceMethod","coordinates_gp"],o=0;o<a.length;o++){var s=a[o];t[s]?i[s]=t[s]:n&&n[s]&&(i[s]=n[s])}e._handleError(i,!0)}}()},function(e,t){!function(){"use strict";var e,t;e=Ya.Rum,t="__RumTraceablePromise",e._parseTraceablePromiseStack=function(e){if(e&&e.__stack){for(var n=e.__stack.split("\n"),r=[],i=0;i<n.length;i++)-1===n[i].indexOf(t)&&r.push(n[i].trim());return r.join("\n")}},e._traceUnhandledRejection=function(){function e(e){var r,i,a=new n((function(e,t){r=e,i=t}));a.__stack=new Error(t).stack;try{e(r,i)}catch(n){i(n)}return a}if("Promise"in window&&window.Promise.name!==t){var n=window.Promise;try{e.prototype=n.prototype,e.prototype.constructor=e,Object.setPrototypeOf(e,n),Object.defineProperty(e,"name",{value:t}),window.Promise=e}catch(n){}}}}()},function(e,t){e.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n]);return e})},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(76));t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e?t.some:t.none||""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e%10,r=e%100;return e?1===n&&11!==r?t.one:n>1&&n<5&&(r<10||r>20)?t.some:t.many||"":t.none||""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e%10,r=e%100;return e?1===n&&11!==r?t.one:n>1&&n<5&&(r<10||r>20)?t.some:t.many||"":t.none||""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e%10,r=e%100;return e?1===n&&11!==r?t.one:n>1&&n<5&&(r<10||r>20)?t.some:t.many||"":t.none||""}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(76));t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e%10,r=e%100;return e?1===n&&11!==r?t.one:n>1&&n<5&&(r<10||r>20)?t.some:t.many||"":t.none||""}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(77));t.default=i.default},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(77));t.default=i.default},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(77));t.default=i.default},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(77));t.default=i.default},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(76));t.default=i.default},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(76));t.default=i.default},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(76));t.default=i.default},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(76));t.default=i.default},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(76));t.default=i.default},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(76));t.default=i.default},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(77));t.default=i.default},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(77));t.default=i.default},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(77));t.default=i.default},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(77));t.default=i.default},function(e,t,n){"use strict";n.r(t),n.d(t,"MODERN_BUNDLE_FORCED_MODE",(function(){return r})),n.d(t,"NATIVE_UI_MODE",(function(){return i}));const r="videoplayer-modern-bundle-forced-mode",i="videoplayer-native-ui-mode"},function(e,t,n){"use strict";function r(e){try{var t=window[e];return t.setItem("__test","1"),t.removeItem("__test"),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"localStorage",t=String(e).replace(/storage$/i,"").toLowerCase();if("local"===t)return r("localStorage");if("session"===t)return r("sessionStorage");if("cookie"===t)return(0,i.hasCookies)();if("memory"===t)return!0;throw new Error("Storage method `"+e+"` is not available.\n    Please use one of the following: localStorage, sessionStorage, cookieStorage, memoryStorage.")};var i=n(229)},function(e,t,n){"use strict";function r(e,t){try{return t(e)}catch(n){return e}}t.parse=function(e,t){if("string"!==typeof e)throw new TypeError("argument str must be a string");for(var n={},a=t||{},s=e.split(o),c=a.decode||i,l=0;l<s.length;l++){var d=s[l],u=d.indexOf("=");if(!(u<0)){var h=d.substr(0,u).trim(),f=d.substr(++u,d.length).trim();'"'==f[0]&&(f=f.slice(1,-1)),void 0==n[h]&&(n[h]=r(f,c))}}return n},t.serialize=function(e,t,n){var r=n||{},i=r.encode||a;if("function"!==typeof i)throw new TypeError("option encode is invalid");if(!s.test(e))throw new TypeError("argument name is invalid");var o=i(t);if(o&&!s.test(o))throw new TypeError("argument val is invalid");var c=e+"="+o;if(null!=r.maxAge){var l=r.maxAge-0;if(isNaN(l))throw new Error("maxAge should be a Number");c+="; Max-Age="+Math.floor(l)}if(r.domain){if(!s.test(r.domain))throw new TypeError("option domain is invalid");c+="; Domain="+r.domain}if(r.path){if(!s.test(r.path))throw new TypeError("option path is invalid");c+="; Path="+r.path}if(r.expires){if("function"!==typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");c+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(c+="; HttpOnly"),r.secure&&(c+="; Secure"),r.sameSite)switch("string"===typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}return c};var i=decodeURIComponent,a=encodeURIComponent,o=/; */,s=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._data={}}return r(e,[{key:"getItem",value:function(e){return this._data.hasOwnProperty(e)?this._data[e]:void 0}},{key:"setItem",value:function(e,t){return this._data[e]=String(t)}},{key:"removeItem",value:function(e){return delete this._data[e]}},{key:"clear",value:function(){return this._data={}}}]),e}();t.default=i},function(e,t,n){"use strict";n.r(t);var r=n(126),i=n(94),a=n(28),o=n(120);const s=Math.random()<=.05;!function(){const e=window;if(!e.Ya||!e.Ya.Rum){n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277);try{const e={project:"video-player-iframe-api",env:"production",platform:r.a?"touch":"desktop",version:"1.0-7360".replace("1.0-",""),from:"unknown"},t=location.hash.indexOf("#",1),n=location.hash.substr(1,-1===t?location.hash.length:t).split("&");for(let r=0;r<n.length;r++){const t=n[r].split("=");e[decodeURIComponent(t[0])]=decodeURIComponent(t[1])}(e=>{const{project:t,env:n,platform:s,version:c,from:l,from_block:d,reqid:u,vsid:h,use_friendly_frame:f}=e;Object(a.d)({useFriendlyFrame:f,vsid:h,from_block:d}),window.Ya.Rum.init({sendClientUa:!0,sendUrlInResTiming:!0,sendFirstRaf:!0,beacon:!0,clck:"https://yandex.ru/clck/click",slots:Object(o.a)(e.slots),crossOrigin:"",reqid:u||h,longTaskMetric:!0,maxLongTaskCounters:1/0},{"-project":t,"-version":c,"-env":n,"-platform":s,"-service":l,"-page":"stream-player/main",143:r.a?"28.3413.584.64":"28.3413.2048.64","-blocker":i.a?1:void 0,"-additional":decodeURIComponent(Object(a.b)())})})(e),(e=>{const{project:t,env:n,platform:r,version:c,from:l,slots:d,reqid:u,vsid:h}=e;window.Ya.Rum.initErrors({project:t,env:n,platform:r,version:c,slots:Object(o.a)(d),unhandledRejection:!0,traceUnhandledRejection:s,debug:!1,reqid:u||h,service:l,page:"stream-player/main",blocker:i.a?1:void 0,additional:Object(a.a)(),filters:{message:{0:/window\.webkit\.messageHandlers/}}})})(e)}catch(t){}}}()},,,function(e,t,n){"use strict";(function(e,r){var i,a=n(329);i="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:r;var o=Object(a.a)(i);t.a=o}).call(this,n(310),n(343)(e))},function(e,t,n){"use strict";function r(e,t){if(void 0===t)return e;return void 0!==i(e)?Object(s.i)(e,"t",t):Object(s.b)(e,"t",String(t))}function i(e){const t=Object(s.d)(e,"t");return void 0===t?t:Object(o.k)(Number(t))}function a(e){return Object(s.g)(e,"t")}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a}));var o=n(0),s=n(62)},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e[e.HAVE_NOTHING=0]="HAVE_NOTHING",e[e.HAVE_METADATA=1]="HAVE_METADATA",e[e.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA",e[e.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA",e[e.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA"}(r||(r={}))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e,t,n){let r,i=0;const a=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];e.call(n,...r)};return function(){const e=Date.now(),n=e-i;clearTimeout(r);for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];n<t?r=window.setTimeout(a,t-n,...s):(i=e,a(...s))}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return btoa(JSON.stringify(e))}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t,n,r){function i(){null!==a&&clearTimeout(a),a=null}3===arguments.length&&"boolean"!==typeof n&&(r=n,n=!1);let a=null;const o=function(){const o=arguments;r=r||this,n&&null===a&&e.apply(r,o),i(),a=window.setTimeout((function(){n||e.apply(r,o),a=null}),t)};return o.cancel=i,o}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return p}));var i=n(16),a=n(119),o=n(24),s=n(254);const c=Object(s.a)(window),l=c.requestAnimationFrame,d=c.cancelAnimationFrame;var u=n(44),h=n(227),f=n(174);class p extends u.a{constructor(e,t){let{lazy:n=!1}=void 0===t?{}:t;super(),this.resizeObserverCallback=e=>{let[{contentRect:{width:t,height:n}}]=e;this.onResize.dispatch({width:t,height:n})};const r=n?{width:NaN,height:NaN}:Object(a.a)(e);if(this.onResize=new h.a({width:r.width,height:r.height},(e,t)=>{let{width:n,height:r}=t;return e.width===n&&e.height===r}),n){const t=l(()=>{const{width:t,height:n}=Object(a.a)(e);this.onResize.dispatch({width:t,height:n})});this.addDestroyHandler(()=>{d(t)})}if(this.addDestroyHandler(()=>{this.onResize.removeAll()}),"undefined"!==typeof ResizeObserver&&Object(o.a)(ResizeObserver))try{const t=new ResizeObserver(this.resizeObserverCallback);t.observe(e),this.addDestroyHandler(()=>{t.disconnect()})}catch(i){this.fallbackToCustomDetectionMethods(e)}else this.fallbackToCustomDetectionMethods(e)}getSize(){return r({},this.onResize.getValue())}fallbackToCustomDetectionMethods(e){const{ownerDocument:t}=e;if(!t)return;const{defaultView:n}=t;if(!n)return;const r=()=>{const t=Object(a.a)(e);this.onResize.dispatch({width:t.width,height:t.height})};this.addDestroyHandler(Object(i.a)(n,"resize",r,{passive:!0})),this.addDestroyHandler(Object(f.a)(r))}}},function(e,t,n){"use strict";function r(e){void 0===e&&(e=window);const t=Object(i.a)(e);let n=-1,r=-1,o=-1;return Object(a.a)(e)&&(-1!==t.indexOf("537.41")?(n=1,r=0,o=2014):-1!==t.indexOf("538.2")?(o=2015,n=2,r=0):-1!==t.indexOf("QtWebEngine/5.2.1")?(o=2016,n=3,r=0):-1!==t.indexOf("Chrome/53.0.2785.34")?(o=2018,n=4,r=0):-1!==t.indexOf("Chrome/68.0.3440.106")&&(o=2020,n=5,r=0)),{major:n,minor:r,year:o}}n.d(t,"a",(function(){return r}));var i=n(21),a=n(148)},function(e,t,n){"use strict";function r(e){return E.a?u.b.playstationVideoElement.createElement(e):null}function i(e){void 0===e&&(e=d.b);try{return Object(c.patchPlaystation4API)(window.parent)}catch(t){e.error("Cannot access parent window in non-friendly frame")}return null}function a(e){return Object(h.a)(e)?l.SourceType.Dash:Object(h.b)(e)?l.SourceType.HLS:Object(h.d)(e)?l.SourceType.MSS:Object(h.c)(e)?l.SourceType.MP4:void 0}function o(e,t){if(!Object(s.a)(t)||!Object(s.a)(t.servers))return;const n=t.servers[f.d];if(!n)return;e.licenseUri=n;const{requestParams:r}=t;Object(s.a)(r)&&(e.customData=Object(p.a)(r))}n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return o}));var s=n(3),c=n(320),l=n(226),d=n(13),u=n(31),h=n(61),f=n(65),p=n(312),E=n(258)},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r={};n.r(r),n.d(r,"ru",(function(){return a}));var i=n(230);const a={ACCESS_ERROR_CATEGORY_MESSAGE:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443. \u0415\u0441\u043b\u0438 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0432\u0442\u043e\u0440\u044f\u0435\u0442\u0441\u044f, \u043d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0432 \u0441\u043b\u0443\u0436\u0431\u0443 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438.",ACCESS_ERROR_CATEGORY_TITLE:"\u0412\u0438\u0434\u0435\u043e \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e",ADBLOCK_DETECTED_MESSAGE:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0449\u0438\u043a \u0440\u0435\u043a\u043b\u0430\u043c\u044b (AdBlock), \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438",ADBLOCK_DETECTED_TITLE:"\u041e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0449\u0438\u043a \u0440\u0435\u043a\u043b\u0430\u043c\u044b \u0438\u043b\u0438 \u0432\u0438\u0434\u0435\u043e \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e",AD_STARTS:"\u0420\u0435\u043a\u043b\u0430\u043c\u0430 \u043d\u0430\u0447\u043d\u0435\u0442\u0441\u044f",AVPLAY_AUDIO_TRACK_LABEL:"\u0414\u043e\u0440\u043e\u0436\u043a\u0430",BRAND_LOGO_BUTTON_TOOLTIP_TEXT:"\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043d\u0430 \u042f\u043d\u0434\u0435\u043a\u0441 \u042d\u0444\u0438\u0440",CANCEL_DEBUG_INFO:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",CANNOT_PLAY_ERROR_CATEGORY_MESSAGE:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443. \u0415\u0441\u043b\u0438 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0432\u0442\u043e\u0440\u044f\u0435\u0442\u0441\u044f, \u043d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0432 \u0441\u043b\u0443\u0436\u0431\u0443 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438.",CANNOT_PLAY_ERROR_CATEGORY_TITLE:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0441\u0442\u0438 \u0432\u0438\u0434\u0435\u043e",CONFIG_ERROR_CATEGORY_MESSAGE:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u0432 \u0441\u043b\u0443\u0436\u0431\u0443 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438.",CONFIG_ERROR_CATEGORY_TITLE:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u043f\u043b\u0435\u0435\u0440\u0430",CONTEXT_MENU_COPY_HTML:"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c HTML-\u043a\u043e\u0434 \u0432\u0441\u0442\u0430\u0432\u043a\u0438",CONTEXT_MENU_COPY_LINK:"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0432\u0438\u0434\u0435\u043e",CONTEXT_MENU_COPY_LINK_WITH_TIME:"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443 \u0441 \u043f\u0440\u0438\u0432\u044f\u0437\u043a\u043e\u0439 \u043f\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438",CONTEXT_MENU_COPY_REPORT:"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0439 \u043e\u0442\u0447\u0435\u0442",CONTEXT_MENU_COPY_VSID:"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c ID \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430",CONTEXT_MENU_DOWNLOAD_REPORT:"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0439 \u043e\u0442\u0447\u0435\u0442",COPY_BUTTON_TEXT:"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443",COPY_DEBUG_INFO:"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0439 \u043e\u0442\u0447\u0451\u0442",DEEPHD_HINT:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u044f, \u0443\u043b\u0443\u0447\u0448\u0430\u044e\u0449\u0430\u044f \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0438 \u0432\u0438\u0434\u0435\u043e",DEFAULT_ERROR_CATEGORY_MESSAGE:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443. \u0415\u0441\u043b\u0438 \u043d\u0435 \u043f\u043e\u043c\u043e\u0433\u043b\u043e, \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u0432 \u0441\u043b\u0443\u0436\u0431\u0443 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438.",DEFAULT_ERROR_CATEGORY_TITLE:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a",DEFAULT_ERROR_TITLE:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0440\u0430\u0431\u043e\u0442\u0435 \u043f\u043b\u0435\u0435\u0440\u0430",DOWNLOAD_DEBUG_INFO:"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0439 \u043e\u0442\u0447\u0451\u0442",DRM_ERROR_CATEGORY_MESSAGE:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0441 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u043e\u043c. \u0415\u0441\u043b\u0438 \u043e\u043d\u043e \u0441\u0442\u0430\u0431\u0438\u043b\u044c\u043d\u043e, \u0442\u043e \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435\u0441\u044c \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u044f\u043c\u0438",DRM_ERROR_CATEGORY_TITLE:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0438 \u0437\u0430\u0449\u0438\u0449\u0435\u043d\u043d\u043e\u0433\u043e \u0432\u0438\u0434\u0435\u043e",ERROR_SCREEN_DEFAULT_HELP_LINK:"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438",EXCEPTION_ERROR_CATEGORY_MESSAGE:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0438\u043b\u0438 \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435\u0441\u044c \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u044f\u043c\u0438",EXCEPTION_ERROR_CATEGORY_TITLE:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0440\u0430\u0431\u043e\u0442\u0435 \u043f\u043b\u0435\u0435\u0440\u0430",EXTERNAL_PLAYBACK_ACTIVATED_DEVICE_CONTROL_NOTICE:"\u0412\u044b \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 \u0442\u043e\u043c \u0436\u0435 \u0441\u0430\u043c\u043e\u043c \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0435",EXTERNAL_PLAYBACK_ACTIVATED_PLAY_BUTTON:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440",EXTERNAL_PLAYBACK_ACTIVATED_TO_THE_DEVICE_MESSAGE:"\u043d\u0430 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e",EXTERNAL_PLAYBACK_ACTIVATED_YOU_SEND_MESSAGE:"\u0412\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b\u0438 \u0432\u0438\u0434\u0435\u043e",EXTERNAL_PLAYBACK_BUTTON:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043d\u0430 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e",EXTERNAL_PLAYER_LIST_ACCESS_ERROR_MESSAGE:"\u041f\u043e\u043a\u0430 \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0441\u0442\u0438 \u044d\u0442\u043e \u0432\u0438\u0434\u0435\u043e \u043d\u0430 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430\u0445 \u042f\u043d\u0434\u0435\u043a\u0441\u0430 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e",EXTERNAL_PLAYER_LIST_EMPTY_MESSAGE:"\u041d\u0435\u0442 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432, \u043f\u0440\u0438\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0445 \u043a \u0432\u0430\u0448\u0435\u043c\u0443 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0443 \u043d\u0430 \u042f\u043d\u0434\u0435\u043a\u0441\u0435",EXTERNAL_PLAYER_LIST_ERROR_MESSAGE:"\u0421\u0435\u0440\u0432\u0438\u0441 \u043d\u0435 \u0441\u043c\u043e\u0433 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0442\u0440\u0430\u043d\u0441\u043b\u044f\u0446\u0438\u044e \u043f\u043e\u0437\u0436\u0435",EXTERNAL_PLAYER_LIST_HEADER:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043d\u0430 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e",EXTERNAL_PLAYER_LIST_ITEM_ATTEMPT_STATUS_TEXT:"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u044e...",EXTERNAL_PLAYER_LIST_ITEM_ERROR_STATUS_TEXT:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0432\u0438\u0434\u0435\u043e \u043d\u0430 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435 \u0438\u043b\u0438 \u043d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0432 \u0441\u043b\u0443\u0436\u0431\u0443 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438",EXTERNAL_PLAYER_LIST_ITEM_IDLE_STATUS_TEXT:"\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043e",EXTERNAL_PLAYER_LIST_ITEM_OFFLINE_STATUS_TEXT:"\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e \u0432\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u043e",EXTERNAL_PLAYER_LIST_ITEM_PLAYING_STATUS_TEXT:"\u0412\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442 \u0432\u0438\u0434\u0435\u043e",EXTERNAL_PLAYER_LIST_ITEM_SEND:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",EXTERNAL_PLAYER_LIST_LOADING_MESSAGE:"\u041f\u043e\u0438\u0441\u043a \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432",EXTERNAL_PLAYER_LIST_LOGIN_LABEL:"\u0412\u043e\u0439\u0442\u0438",EXTERNAL_PLAYER_LIST_REFRESH_MESSAGE:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u043f\u043e\u0438\u0441\u043a \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432",EXTERNAL_PLAYER_LIST_TRY_AGAIN_BUTTON:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0441\u043d\u043e\u0432\u0430",EXTERNAL_PLAYER_LIST_UNKNOWN_USER_MESSAGE:"\u0412\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u043d\u0430 \u042f\u043d\u0434\u0435\u043a\u0441\u0435, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0432\u0438\u0434\u0435\u043e",EXTERNAL_PLAYER_LIST_YANDEX_DEVICES_INFO_LABEL:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043e\u0431 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430\u0445 \u042f\u043d\u0434\u0435\u043a\u0441\u0430",FULLSCREEN:"\u041f\u043e\u043b\u043d\u043e\u044d\u043a\u0440\u0430\u043d\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c",FULLSCREEN_TURN_OFF:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u043f\u043e\u043b\u043d\u043e\u044d\u043a\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0440\u0435\u0436\u0438\u043c\u0430",FULLSCREEN_TURN_ON:"\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0432\u043e \u0432\u0435\u0441\u044c \u044d\u043a\u0440\u0430\u043d",INVALID_STREAM_URL_ERROR_CATEGORY_MESSAGE:"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u0432\u0438\u0434\u0435\u043e \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f",IN_FIVE_SECONDS:"\u0441\u0435\u043a\u0443\u043d\u0434",IN_ONE_SECOND:"\u0441\u0435\u043a\u0443\u043d\u0434\u0443",IN_PREPOSITION:"\u0447\u0435\u0440\u0435\u0437",IN_TIME:"\u0447\u0435\u0440\u0435\u0437",IN_TWO_SECONDS:"\u0441\u0435\u043a\u0443\u043d\u0434\u044b",MEDIA_ERROR_CATEGORY_MESSAGE:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0438\u043b\u0438 \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435\u0441\u044c \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u044f\u043c\u0438",MEDIA_ERROR_CATEGORY_TITLE:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0432\u0438\u0434\u0435\u043e",NETWORK_MEDIA_ERROR_CATEGORY_MESSAGE:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0438\u043b\u0438 \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435\u0441\u044c \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u044f\u043c\u0438",NETWORK_MEDIA_ERROR_CATEGORY_TITLE:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0432\u0438\u0434\u0435\u043e",NETWORK_PLAYER_ERROR_CATEGORY_MESSAGE:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0441 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u043e\u043c \u0438\u043b\u0438 \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435\u0441\u044c \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u044f\u043c\u0438",NETWORK_PLAYER_ERROR_CATEGORY_TITLE:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043f\u043b\u0435\u0435\u0440\u0430",NETWORK_TIMEOUT_ERROR_CATEGORY_MESSAGE:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0441 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u043e\u043c. \u0415\u0441\u043b\u0438 \u043e\u043d\u043e \u0441\u0442\u0430\u0431\u0438\u043b\u044c\u043d\u043e, \u0442\u043e \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435\u0441\u044c \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u044f\u043c\u0438",NETWORK_TIMEOUT_ERROR_CATEGORY_TITLE:"\u0412\u0438\u0434\u0435\u043e \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043e \u0438\u0437-\u0437\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c \u0441 \u0441\u0435\u0442\u044c\u044e",NEXT_EPISODE:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0441\u0435\u0440\u0438\u044f",NEXT_RECOMMENDATIONS_BUTTON_TITLE:"\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435",NEXT_VIDEO:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435 \u0432\u0438\u0434\u0435\u043e",NONSTOP_CANCEL_BUTTON_TITLE:"\u041e\u0442\u043c\u0435\u043d\u0430",NORMAL_PLAYBACK_RATE:"\u041e\u0431\u044b\u0447\u043d\u0430\u044f",NO_CODECS_ERROR_CATEGORY_HELP_LINK:"\u041d\u0430\u0439\u0442\u0438 \u0432\u0438\u0434\u0435\u043e\u043a\u043e\u0434\u0435\u043a\u0438",NO_CODECS_ERROR_CATEGORY_MESSAGE:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u0438\u043b\u0438 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u0435 \u043a\u043e\u0434\u0435\u043a\u0438 \u0434\u043b\u044f \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0432\u0438\u0434\u0435\u043e.",NO_CODECS_ERROR_CATEGORY_TITLE:"\u041d\u0435 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u044b \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0432\u0438\u0434\u0435\u043e\u043a\u043e\u0434\u0435\u043a\u0438",NO_CODECS_HELP_LINK_TITLE:"\u041d\u0430\u0439\u0442\u0438 \u0432\u0438\u0434\u0435\u043e\u043a\u043e\u0434\u0435\u043a\u0438",NO_CODECS_MESSAGE:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u0438\u043b\u0438 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u0435 \u043a\u043e\u0434\u0435\u043a\u0438 \u0434\u043b\u044f \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0432\u0438\u0434\u0435\u043e.",NO_CODECS_TITLE:"\u041d\u0435 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u044b \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0432\u0438\u0434\u0435\u043e\u043a\u043e\u0434\u0435\u043a\u0438",NO_MSE_HELP_LINK_TITLE:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0431\u0440\u0430\u0443\u0437\u0435\u0440",NO_PLAYABLE_STREAMS_DRM_MESSAGE:"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0432 \u0432\u0430\u0448\u0435\u043c \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0435 \u0432\u044b\u043a\u043b\u044e\u0447\u0435\u043d \u043c\u043e\u0434\u0443\u043b\u044c, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0439 \u0434\u043b\u044f \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0437\u0430\u0449\u0438\u0449\u0435\u043d\u043d\u043e\u0433\u043e \u0432\u0438\u0434\u0435\u043e. \u041e\u0431\u043d\u043e\u0432\u0438\u0442\u0435 \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u0438 \u0432 \u0435\u0433\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435, \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u043e \u043b\u0438 \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0437\u0430\u0449\u0438\u0449\u0435\u043d\u043d\u043e\u0433\u043e \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430. \u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435: \u0432\xa0\u0440\u0435\u0436\u0438\u043c\u0435 \u0418\u043d\u043a\u043e\u0433\u043d\u0438\u0442\u043e \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d.",ON_AIR_TITLE:"\u041f\u0440\u044f\u043c\u043e\u0439 \u044d\u0444\u0438\u0440",ON_AIR_TITLE_SHORT:"\u042d\u0444\u0438\u0440",PLAYER_ARIA_LABEL:"\u041f\u0440\u043e\u0438\u0433\u0440\u044b\u0432\u0430\u0442\u0435\u043b\u044c",PLAY_BUTTON_PAUSE:"\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c",PLAY_BUTTON_PLAY:"\u0412\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0441\u0442\u0438",PLAY_BUTTON_REPEAT:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c",PREVIOUS_RECOMMENDATIONS_BUTTON_TITLE:"\u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0435",RECOMMENDATIONS_SUBSCRIPTION_BUTTON_CAPTION:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f",RECOMMENDATIONS_SUBSCRIPTION_BUTTON_COMPLETED_CAPTION:"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430",RECOMMENDATIONS_SUBSCRIPTION_BUTTON_PROGRESS_CAPTION:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f",RECOMMENDATIONS_TITLE_WIDGET_CAPTION:"\u0414\u0440\u0443\u0433\u0438\u0435 \u0432\u0438\u0434\u0435\u043e",RECOMMENDATION_TITLE_PREFIX:"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c\u043e\u0435 \u0432\u0438\u0434\u0435\u043e",REGIONAL_ERROR_CATEGORY_TITLE:"\u0412\u0438\u0434\u0435\u043e \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e \u0432 \u0432\u0430\u0448\u0435\u043c \u0440\u0435\u0433\u0438\u043e\u043d\u0435",REGIONAL_LIMITATION_ERROR_MESSAGE:"\u041f\u0440\u0430\u0432\u043e\u043e\u0431\u043b\u0430\u0434\u0430\u0442\u0435\u043b\u044c \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0438\u043b \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u044d\u0442\u043e\u0433\u043e \u0432\u0438\u0434\u0435\u043e \u0432 \u0432\u0430\u0448\u0435\u043c \u0440\u0435\u0433\u0438\u043e\u043d\u0435.\n\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0432\u0430\u0448 \u0440\u0435\u0433\u0438\u043e\u043d \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u043b\u0441\u044f \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e. \u0415\u0441\u043b\u0438 \u0432\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0435 \u0430\u043d\u043e\u043d\u0438\u043c\u0430\u0439\u0437\u0435\u0440 \u0438\u043b\u0438 \u043f\u0440\u043e\u043a\u0441\u0438-\u0441\u0435\u0440\u0432\u0435\u0440\u044b, \u043e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u0435 \u0438\u0445.",REPORT:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0432 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0443",REPORT_BUTTON_TOOLTIP:"\u0421\u043e\u043e\u0431\u0449\u0438\u0442\u044c \u043e \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0435",RETURN_TO_ON_AIR_TITLE:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u0432 \u044d\u0444\u0438\u0440",SECONDS:"\u0441\u0435\u043a\u0443\u043d\u0434",SEEK_BACKWARD:"\u041f\u0435\u0440\u0435\u043c\u043e\u0442\u0430\u0442\u044c \u043d\u0430\u0437\u0430\u0434 \u043d\u0430",SEEK_FORWARD:"\u041f\u0435\u0440\u0435\u043c\u043e\u0442\u0430\u0442\u044c \u0432\u043f\u0435\u0440\u0435\u0434 \u043d\u0430",SELECT_AUDIO_TRACK_TITLE:"\u0410\u0443\u0434\u0438\u043e",SELECT_PLAYBACK_RATE_TITLE:"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c",SELECT_SUBTITLES_LANGUAGE_TITLE:"\u042f\u0437\u044b\u043a",SELECT_SUBTITLES_OPTION:"\u0421\u0443\u0431\u0442\u0438\u0442\u0440\u044b",SELECT_VIDEO_TRACK_TITLE:"\u041a\u0430\u0447\u0435\u0441\u0442\u0432\u043e",SETTINGS:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",SETTINGS_NETWORK_NOTIFICATION_CONNECTION_MIN:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0435 \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u0432\u0438\u0434\u0435\u043e",SETTINGS_NETWORK_NOTIFICATION_CONNECTION_SLOW:"\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u0432\u0438\u0434\u0435\u043e",SETTINGS_NETWORK_NOTIFICATION_RECOMMENDATION:"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u043e\u0432\u0430\u043d\u043e {height}p",SHARE_BUTTON_TEXT:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f",SKIP_AD_POD:"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c",SKIP_INTRO:"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0437\u0430\u0441\u0442\u0430\u0432\u043a\u0443",SKIP_RECAP:"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043f\u043e\u0432\u0442\u043e\u0440",START_POSITION_CONFIRMATION_CANCEL_LABEL:"\u041d\u0430\u0447\u0430\u0442\u044c \u0441 \u043d\u0430\u0447\u0430\u043b\u0430",START_POSITION_CONFIRMATION_CONFIRM_LABEL:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c",START_POSITION_CONFIRMATION_MESSAGE:"\u0412\u044b \u0443\u0436\u0435 \u043d\u0430\u0447\u0438\u043d\u0430\u043b\u0438 \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u044d\u0442\u043e \u0432\u0438\u0434\u0435\u043e. \u041d\u0430\u0447\u0430\u0442\u044c \u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u0438\u043b\u0438 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u0441 \u0442\u043e\u0433\u043e \u0436\u0435 \u043c\u0435\u0441\u0442\u0430?",START_POSITION_CONFIRMATION_MESSAGE_SMALL:"\u0412\u044b \u0443\u0436\u0435 \u043d\u0430\u0447\u0438\u043d\u0430\u043b\u0438 \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u044d\u0442\u043e \u0432\u0438\u0434\u0435\u043e. \u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440?",TIMELINE_CONTROL_NAME:"\u041f\u043e\u043b\u0437\u0443\u043d\u043e\u043a \u043f\u043e\u0438\u0441\u043a\u0430",TIME_PASSED:"\u043f\u0440\u043e\u0448\u043b\u043e",TIME_PASSED_OF:"\u0438\u0437",TIME_WORD_ARIA:"\u0432\u0440\u0435\u043c\u044f",TRACK_AUTO:"\u0410\u0432\u0442\u043e",UNSUPPORTED_ENV_ERROR_CATEGORY_HELP_LINK:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0431\u0440\u0430\u0443\u0437\u0435\u0440",UNSUPPORTED_ENV_ERROR_CATEGORY_MESSAGE:"\u0412\u0430\u0448 \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u0434\u043b\u044f \u0431\u044b\u0441\u0442\u0440\u043e\u0439 \u0438 \u0443\u0434\u043e\u0431\u043d\u043e\u0439 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0432\u0438\u0434\u0435\u043e. \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u044e\u044e \u0432\u0435\u0440\u0441\u0438\u044e \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0430.",UNSUPPORTED_ENV_ERROR_CATEGORY_TITLE:"\u0423 \u0432\u0430\u0441 \u0443\u0441\u0442\u0430\u0440\u0435\u0432\u0448\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0430",VIDEO_QUALITY:"\u041a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u0438\u0434\u0435\u043e",VOLUME_SLIDER_CONTROL_NAME:"\u041f\u043e\u043b\u0437\u0443\u043d\u043e\u043a \u0433\u0440\u043e\u043c\u043a\u043e\u0441\u0442\u0438",VOLUME_TURN_OFF:"\u0412\u044b\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0437\u0432\u0443\u043a",VOLUME_TURN_ON:"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0437\u0432\u0443\u043a",VOLUME_VALUE_TITLE:"\u0413\u0440\u043e\u043c\u043a\u043e\u0441\u0442\u044c",WATCH_CREDITS:"\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0442\u0438\u0442\u0440\u044b",WATCH_WITHOUT_AD:"\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0431\u0435\u0437 \u0440\u0435\u043a\u043b\u0430\u043c\u044b",WITH_PLUS_SUBSCRIPTION:"\u043f\u043e \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0435 \u041f\u043b\u044e\u0441",YOUR_ID:"\u0412\u0430\u0448 ID"},o=n.n(i)()(r),s=e=>o(e)},function(e,t,n){"use strict";function r(){var e;return null==(e=window.webapis)?void 0:e.avplay}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){return void 0!==Object(i.a)()}n.d(t,"a",(function(){return r}));var i=n(318)},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.patchPlaystation4API=function(e){if(e.playstationAPIEventTarget)return e.playstationAPIEventTarget;var t=e.accessfunction,n=!1,a=function(){};Object.defineProperty(e,"accessfunction",{get:function(){return a},set:function(e){n?console.warn("The window.accessfunction is set already. Use PlaystationAPIEventTargetInterface defined at window.playstationAPIEventTarget"):(n=!0,a=e)}});var o=function(){function n(){this.subscribers=[],e.accessfunction=this.handle.bind(this)}return n.prototype.subscribe=function(e){var t=this;return this.subscribers.push(e),function(){return t.unsubscribe(e)}},n.prototype.unsubscribe=function(e){var t=this.subscribers.indexOf(e);t<0||this.subscribers.splice(t,1)},n.prototype.execute=function(t,n){void 0===n&&(n={});var i=JSON.stringify(r({command:t},n));e.external.user(i)},n.prototype.handle=function(e){"function"===typeof t&&t(e);try{var n=JSON.parse(e),r={command:n.command,status:n.status,data:i(n,["command","status"])};this.subscribers.forEach((function(e){return e(r)}))}catch(a){console.error("Failed parse playstation 4 response. Receive message:",e,". Error:",a)}},n}();return e.playstationAPIEventTarget=new o,e.playstationAPIEventTarget}},function(e,t,n){"use strict";function r(e){return e>=i.a.M?i.a.L:e>=i.a.S?i.a.M:e>=i.a.XS?i.a.S:i.a.XS}n.d(t,"a",(function(){return r}));var i=n(139)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=n(139).a.XS},,,function(e,t,n){"use strict";function r(e){for(var t=-1,n=0;n<f.length;n++)if(f[n].identifier===e){t=n;break}return t}function i(e,t){for(var n={},i=[],a=0;a<e.length;a++){var o=e[a],s=t.base?o[0]+t.base:o[0],l=n[s]||0,d="".concat(s," ").concat(l);n[s]=l+1;var u=r(d),h={css:o[1],media:o[2],sourceMap:o[3]};-1!==u?(f[u].references++,f[u].updater(h)):f.push({identifier:d,updater:c(h,t),references:1}),i.push(d)}return i}function a(e){var t=document.createElement("style"),r=e.attributes||{};if("undefined"===typeof r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"===typeof e.insert)e.insert(t);else{var a=h(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}function o(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=p(t,i);else{var a=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function s(e,t,n){var r=n.css,i=n.media,a=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),a&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function c(e,t){var n,r,i;if(t.singleton){var c=v++;n=E||(E=a(t)),r=o.bind(null,n,c,!1),i=o.bind(null,n,c,!0)}else n=a(t),r=s.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}var l,d,u=function(){return"undefined"===typeof l&&(l=Boolean(window&&document&&document.all&&!window.atob)),l},h=function(){var e={};return function(t){if("undefined"===typeof e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(r){n=null}e[t]=n}return e[t]}}(),f=[],p=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")}),E=null,v=0;e.exports=function(e,t){(t=t||{}).singleton||"boolean"===typeof t.singleton||(t.singleton=u());var n=i(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var a=0;a<n.length;a++){var o=r(n[a]);f[o].references--}for(var s=i(e,t),c=0;c<n.length;c++){var l=r(n[c]);0===f[l].references&&(f[l].updater(),f.splice(l,1))}n=s}}}},,,function(e,t,n){var r,i,a;i=[],void 0===(a="function"===typeof(r=function(){return function e(t,n,r){function i(e){for(var t=e.split(/[:;,]/),n=t[1],r=("base64"==t[2]?atob:decodeURIComponent)(t.pop()),i=r.length,a=0,o=new Uint8Array(i);a<i;++a)o[a]=r.charCodeAt(a);return new E([o],{type:n})}function a(e,t){if("download"in f)return f.href=e,f.setAttribute("download",v),f.className="download-js-link",f.innerHTML="downloading...",f.style.display="none",document.body.appendChild(f),setTimeout((function(){f.click(),document.body.removeChild(f),!0===t&&setTimeout((function(){c.URL.revokeObjectURL(f.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,l)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var n=document.createElement("iframe");document.body.appendChild(n),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,l)),n.src=e,setTimeout((function(){document.body.removeChild(n)}),333)}var o,s,c=window,l="application/octet-stream",d=r||l,u=t,h=!n&&!r&&u,f=document.createElement("a"),p=function(e){return String(e)},E=c.Blob||c.MozBlob||c.WebKitBlob||p,v=n||"download";if(E=E.call?E.bind(c):Blob,"true"===String(this)&&(d=(u=[u,d])[0],u=u[1]),h&&h.length<2048&&(v=h.split("/").pop().split("?")[0],f.href=h,-1!==f.href.indexOf(h))){var A=new XMLHttpRequest;return A.open("GET",h,!0),A.responseType="blob",A.onload=function(t){e(t.target.response,v,l)},setTimeout((function(){A.send()}),0),A}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(u)){if(!(u.length>2096103.424&&E!==p))return navigator.msSaveBlob?navigator.msSaveBlob(i(u),v):a(u);d=(u=i(u)).type||l}else if(/([\x80-\xff])/.test(u)){for(var m=0,g=new Uint8Array(u.length),O=g.length;m<O;++m)g[m]=u.charCodeAt(m);u=new E([g],{type:d})}if(o=u instanceof E?u:new E([u],{type:d}),navigator.msSaveBlob)return navigator.msSaveBlob(o,v);if(c.URL)a(c.URL.createObjectURL(o),!0);else{if("string"===typeof o||o.constructor===p)try{return a("data:"+d+";base64,"+c.btoa(o))}catch(T){return a("data:"+d+","+encodeURIComponent(o))}(s=new FileReader).onload=function(e){a(this.result)},s.readAsDataURL(o)}return!0}})?r.apply(t,i):r)||(e.exports=a)},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"===typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},function(e,t){function n(){var e,t,n,r,i=document.createElement("canvas");try{e=i.getContext("webgl")||i.getContext("experimental-webgl")}catch(a){}return e&&(t=e.getExtension("WEBGL_debug_renderer_info"),n=e.getParameter(t.UNMASKED_VENDOR_WEBGL),r=e.getParameter(t.UNMASKED_RENDERER_WEBGL)),{debugInfo:t,vendor:n,renderer:r}}e.exports=n,e.exports.getGpu=n},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.batchedSubscribe=function(e){function t(){s===o&&(s=o.slice())}function n(e){if("function"!==typeof e)throw new Error("Expected listener to be a function.");var n=!0;return t(),s.push(e),function(){if(n){n=!1,t();var r=s.indexOf(e);s.splice(r,1)}}}function i(){for(var e=o=s,t=0;t<e.length;t++)e[t]()}function a(){e(i)}if("function"!==typeof e)throw new Error("Expected batch to be a function.");var o=[],s=o;return function(e){return function(){function t(){var e=i.dispatch.apply(i,arguments);return a(),e}var i=e.apply(void 0,arguments),o=i.subscribe;return r({},i,{dispatch:t,subscribe:n,subscribeImmediate:o})}}}},function(e,t,n){var r=n(325),i=n(344);"string"===typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={injectType:"singletonStyleTag",attributes:{"data-ya-player-style":"data-ya-player-style"},insert:"head",singleton:!0};r(i,a);e.exports=i.locals||{}},,,,,,,,function(e,t){!function(e,t){function n(){b=e.getVarsList(),e.getSetting("sendClientUa")&&b.push("1042="+encodeURIComponent(navigator.userAgent))}function r(){P=b.concat(["143.2129="+G])}function i(e){function t(){removeEventListener("DOMContentLoaded",t),removeEventListener("load",t),e()}"loading"===document.readyState?(addEventListener("DOMContentLoaded",t),addEventListener("load",t)):e()}function a(){var t;e.getSetting("disableOnLoadTasks")||(removeEventListener("load",a),(t=e.getSetting("periodicStatsIntervalMs"))||null===t||(t=15e3),t&&(W=setInterval(h,t)),addEventListener("beforeunload",h),function(){if(D){f(j.getEntriesByType("navigation")),f(j.getEntriesByType("resource"));try{new D((function(e){f(e.getEntries())})).observe({entryTypes:["resource","navigation"]})}catch(e){}e._periodicTasks.push(E)}}(),function(){if(D)try{new D((function(e,t){var n=e.getEntries()[0];n&&(d("first-input",n.processingStart-n.startTime),t.disconnect())})).observe({type:"first-input",buffered:!0})}catch(e){}}(),function(){if(D){var e=new D((function(e){var t=e.getEntries();null==z&&(z=0);for(var n=0;n<t.length;n++){var r=t[n];r.hadRecentInput||(z+=r.value)}}));try{e.observe({type:"layout-shift",buffered:!0})}catch(e){}addEventListener("visibilitychange",(function t(){if("hidden"===document.visibilityState){removeEventListener("visibilitychange",t);try{"function"==typeof e.takeRecords&&e.takeRecords(),e.disconnect()}catch(e){}v()}})),addEventListener("beforeunload",v)}}(),function(){if(D&&(e.getSetting("forcePaintTimeSending")||!e.isVisibilityChanged())){var t=new D((function(e){for(var t=e.getEntries(),n=0;n<t.length;n++){var r=t[n];J=r.renderTime||r.loadTime}Z||(s("largest-loading-elem-paint",J),Z=!0)}));try{t.observe({type:"largest-contentful-paint",buffered:!0})}catch(e){}addEventListener("visibilitychange",(function e(){if("hidden"===document.visibilityState){removeEventListener("visibilitychange",e);try{"function"==typeof t.takeRecords&&t.takeRecords(),t.disconnect()}catch(e){}A()}})),addEventListener("beforeunload",A)}}())}function o(){var t=M.domContentLoadedEventStart,n=M.domContentLoadedEventEnd;if(0!==t||0!==n){var r=0===M.responseStart?G:M.responseStart,i=0===M.domainLookupStart?G:M.domainLookupStart,a=b.concat(["2129="+G,"1036="+(i-G),"1037="+(M.domainLookupEnd-M.domainLookupStart),"1038="+(M.connectEnd-M.connectStart),M.secureConnectionStart&&"1383="+(M.connectEnd-M.secureConnectionStart),"1039="+(M.responseStart-M.connectEnd),"1040="+(M.responseEnd-r),"1040.906="+(M.responseEnd-i),"1310.2084="+(M.domLoading-r),"1310.2085="+(M.domInteractive-r),"1310.1309="+(n-t),"1310.1007="+(t-r),navigator.deviceMemory&&"3140="+navigator.deviceMemory,navigator.hardwareConcurrency&&"3141="+navigator.hardwareConcurrency]);Object.keys(I).forEach((function(e){e in M&&M[e]&&a.push(I[e]+"="+R(M[e],G))})),e.vsStart?(a.push("1484="+(C[e.vsStart]||2771)),e.vsChanged&&a.push("1484.719=1")):a.push("1484="+C.visible),V&&(V.redirectCount&&a.push("1384.1385="+V.redirectCount),1!==V.type&&2!==V.type||a.push("770.76="+V.type)),g(a),_("690.1033",a)}else setTimeout(o,50)}function s(n,r,i,a){r===t&&(r=L()),i!==t&&!0!==i||e.mark(n,r);var o=y(n);if(o.push("207="+R(r)),c(o,a)){_("690.2096.207",o),F[n]=F[n]||[],F[n].push(r);var s=e._markListeners[n];s&&s.length&&s.forEach((function(e){e(r)}))}}function c(e,n){if(n){if(n.isCanceled&&n.isCanceled())return!1;var r=e.reduce((function(e,t,n){return"string"==typeof t&&(e[t.split("=")[0]]=n),e}),{});Object.keys(n).forEach((function(i){if("function"!=typeof n[i]){var a=r[i],o=i+"="+n[i];a===t?e.push(o):e[a]=o}}))}return!0}function l(e,t){var n=B[e];n&&0!==n.length&&(n.push(L(),t),d(e))}function d(n,r,i){var a,o,s,l=B[n];if(void 0!==r?a=(o=e.getTime())-r:l&&(a=l[0],o=l[1],s=l[2]),a!==t&&o!==t){var d=y(n);d.push("207.2154="+R(a),"207.1428="+R(o),"2877="+R(o-a)),c(d,i)&&c(d,s)&&(_("690.2096.2877",d),delete B[n])}}function u(t,n){O(n,(function(r){if(r){var i=y(t);e.getSetting("sendUrlInResTiming")&&i.push("13="+encodeURIComponent(n)),S(i,r[0]),_("690.2096.2044",i)}}))}function h(){var t=!1;e._periodicTasks.forEach((function(e){e()&&(t=!0)})),t||clearInterval(W)}function f(e){if(e&&e.length)for(var t=x,n=0;n<e.length;n++){var r=p(e[n]);if(r){var i=r.domain+"-"+r.extension,a=t[i]=t[i]||{count:0,size:0};a.count++,a.size+=r.size}}}function p(e){var t=e.transferSize;if(null!=t){Y.href=e.name;var n=Y.pathname;if(0!==n.indexOf("/clck")){var r=n.lastIndexOf("."),i="";return-1!=r&&n.lastIndexOf("/")<r&&n.length-r<=5&&(i=n.slice(r+1)),{size:t,domain:Y.hostname,extension:i}}}}function E(){var t=e.getSetting("maxTrafficCounters")||250;if(Q>=t)return!1;for(var n=Object.keys(x),r="",i=0;i<n.length;i++){var a=n[i],o=x[a];r+=encodeURIComponent(a)+"!"+o.count+"!"+o.size+";"}r.length&&(Q++,_("690.2096.361",b.concat(["d="+r,"t="+R(L())])));return x={},Q<t}function v(){if(null!=z){var e=Math.round(1e6*z)/1e6;_("690.2096.4004",b.concat("s="+e)),z=null}}function A(){null!=J&&(s("largest-contentful-paint",J),J=null)}function m(t,n,r){if(e._tti){var i=L(),a=function(t,a,o){var c={2796.2797:T(o,n),689.2322:R(i)};r&&Object.keys(r).forEach((function(e){c[e]=r[e]})),s(t||"2795",a,!0,c),e._tti.fired=!0};!function r(){var o,s=n||i,c=L(),l=e._tti.events||[],d=l.length;0!==d&&(o=l[d-1],s=Math.max(s,Math.floor(o.startTime+o.duration))),c-s>=3e3?a(t,s,l):c-s>=2e4?a(t,(n||i)+2e4,l):setTimeout(r,1e3)}()}}function g(e){U&&e.push("2437="+(N[U.type]||2771),U.downlinkMax!==t&&"2439="+U.downlinkMax,U.effectiveType&&"2870="+U.effectiveType,U.rtt!==t&&"rtt="+U.rtt,U.downlink!==t&&"dwl="+U.downlink)}function O(e,t){if(!K)return t(null);H.href=e;var n=H.href,r=0,i=100;setTimeout((function e(){var a=j.getEntriesByName(n);if(a.length)return t(a);r++<10?(setTimeout(e,i),i+=i):t(null)}),0)}function T(e,t){return t=t||0,(e=e||[]).filter((function(e){return e.startTime-t>=-50})).map((function(e){var t=e.name?e.name.split("-").map((function(e){return e[0]})).join(""):"u",n=Math.floor(e.startTime);return t+"-"+n+"-"+Math.floor(n+e.duration)})).join(".")}function y(t){return P.concat(["1701="+t,e.ajaxStart&&"1201.2154="+R(e.ajaxStart),e.ajaxComplete&&"1201.2052="+R(e.ajaxComplete)])}function S(e,t){Object.keys(I).forEach((function(n){if(n in t){var r=t[n];(r||0===r)&&e.push(I[n]+"="+R(r))}}))}function R(e,t){return"string"==typeof e?encodeURIComponent(e):Math.round(1e3*(e-(t||0)))/1e3}function _(t,n){var r=encodeURIComponent(window.YaStaticRegion||"unknown");n.push("-cdn="+r);var i=n.filter(Boolean).join(",");e.send(null,t,i)}if(!e)throw new Error("Rum: interface is not included");if(!e.enabled)return e.getSetting=function(){return""},e.getVarsList=function(){return[]},void(e.getResourceTimings=e.pushConnectionTypeTo=e.pushTimingTo=e.normalize=e.sendCounter=e.sendDelta=e.sendTimeMark=e.sendResTiming=e.sendTTI=e.makeSubPage=e.sendHeroElement=e.onReady=function(){});e.getVarsList=function(){var t=e._vars;return Object.keys(t).map((function(e){return e+"="+encodeURIComponent(t[e]).replace(/\*/g,"%2A")}))},e.setVars=function(t){Object.keys(t).forEach((function(n){e._vars[n]=t[n]})),n(),r()};var b,P,I={connectEnd:2116,connectStart:2114,decodedBodySize:2886,domComplete:2124,domContentLoadedEventEnd:2131,domContentLoadedEventStart:2123,domInteractive:2770,domLoading:2769,domainLookupEnd:2113,domainLookupStart:2112,duration:2136,encodedBodySize:2887,entryType:2888,fetchStart:2111,initiatorType:2889,loadEventEnd:2126,loadEventStart:2125,nextHopProtocol:2890,redirectCount:1385,redirectEnd:2110,redirectStart:2109,requestStart:2117,responseEnd:2120,responseStart:2119,secureConnectionStart:2115,startTime:2322,transferSize:2323,type:76,unloadEventEnd:2128,unloadEventStart:2127,workerStart:2137},C={visible:1,hidden:2,prerender:3},N={bluetooth:2064,cellular:2065,ethernet:2066,none:1229,wifi:2067,wimax:2068,other:861,unknown:836,0:836,1:2066,2:2067,3:2070,4:2071,5:2768},w={"first-paint":2793,"first-contentful-paint":2794},k=Object.keys(w).length,L=e.getTime,D=window.PerformanceObserver,j=window.performance||{},M=j.timing||{},V=j.navigation||{},U=navigator.connection,F={},x={},B=e._deltaMarks,H=document.createElement("link"),Y=document.createElement("a"),K="function"==typeof j.getEntriesByType,G=M.navigationStart;if(n(),r(),e.ajaxStart=0,e.ajaxComplete=0,D)try{new D((function(e,t){var n=e.getEntriesByType("navigation")[0];if(n){t&&t.disconnect();var r=[];S(r,n),g(r),_("690.2096.2892",b.concat(r))}})).observe({entryTypes:["navigation"]})}catch(e){}i((function(){G&&setTimeout((function(){e.sendTimeMark=s,e.sendResTiming=u,e.timeEnd=l;for(var t=e._defRes;t.length;){var n=t.shift();u(n[0],n[1])}for(var r=e._defTimes;r.length;){var i=r.shift();s(i[0],i[1],!1,i[2])}Object.keys(B).forEach((function(e){d(e)})),o(),function t(){if(K&&(e.getSetting("forcePaintTimeSending")||!e.isVisibilityChanged())){for(var n=j.getEntriesByType("paint"),r=0;r<n.length;r++){var i=n[r],a=w[i.name];a&&!X[i.name]&&(X[i.name]=!0,q++,s("1926."+a,i.startTime))}if(q<k)try{new D((function(e,n){t(),n&&n.disconnect()})).observe({entryTypes:["paint"]})}catch(e){}}}(),e.getSetting("sendAutoElementTiming")&&$(),m(),"complete"===document.readyState?a():addEventListener("load",a)}),0)})),e._getCommonVars=function(){return b};var W,X={},q=0;e.getTimeMarks=function(){return F},e._periodicTasks=[];var z,Q=0,J=null,Z=!1,$=D?function(){if(e.getSetting("forcePaintTimeSending")||!e.isVisibilityChanged())try{new D((function(e){for(var t=e.getEntries(),n=0;n<t.length;n++){var r=t[n];s("element-timing."+r.identifier,r.startTime)}})).observe({type:"element",buffered:!0})}catch(e){}}:function(){};e.sendTTI=m,e.sendHeroElement=function(e){s("2876",e)},e._subpages={},e.makeSubPage=function(t,n){var r=e._subpages[t];e._subpages[t]=void 0===r?r=0:++r;var i=!1;return{689.2322:R(void 0!==n?n:L()),2924:t,2925:r,isCanceled:function(){return i},cancel:function(){i=!0}}},e._getLongtasksStringValue=T,e.getResourceTimings=O,e.pushConnectionTypeTo=g,e.pushTimingTo=S,e.normalize=R,e.sendCounter=_,e.sendDelta=d,e.sendTrafficData=E,e.finalizeLayoutShiftScore=v,e.finalizeLargestContentfulPaint=A,e.onReady=i}(Ya.Rum)},function(e,t){Ya.Rum.enabled&&addEventListener("load",(function e(){removeEventListener("load",e);var t=Ya.Rum;if(t.sendTimeMark("1724"),t.getSetting("sendAutoResTiming"))for(var n=document.querySelectorAll("script[data-rCid], div[data-rCid]"),r=0,i=n.length;r<i;r++){var a=n[r],o=a.src;if(!o){var s=getComputedStyle(a).backgroundImage;if(s){var c=s.match(/^url\(["']?(.*?)["']?\)$/);c&&(o=c[1])}}o&&t.sendResTiming(a.getAttribute("data-rCid"),o)}}))},function(e,t){!function(e){function t(e){for(var t=0,n=0;n<e.length;++n)t+=e[n]*e[n];return Math.sqrt(t/e.length)}var n,r,i,a=0,o=[],s=[];e.enabled&&(e.getSetting("longTaskMetric")&&e._tti&&e._periodicTasks.push((function(){if(!e._tti.fired)return!0;var t=e.getSetting("maxLongTaskCounters")||10;if(++a>t)return!1;if(e._tti.eventsAfterTTI.length){var n=e._getCommonVars().slice();n.push("2796.2797="+e._getLongtasksStringValue(e._tti.eventsAfterTTI)),n.push("689.2322="+e.normalize(e.getTime())),e.sendCounter("690.2096.2796",n),e._tti.eventsAfterTTI=[]}return!0})),e.getSetting("scrollMetric")&&(i=!1,e.getTime(),500,addEventListener("scroll",(function(){var t=e.getTime();i?o.push(t-n):(i=!0,e.getTime()),n=t,clearTimeout(r),r=setTimeout((function(){i=!1}),500)})),e._periodicTasks.push((function(){if(o.length){var n=e._getCommonVars().concat(["d="+t(o)]);e.sendCounter("690.2096.768",n),o=[]}return!0}))),e.getSetting("scrollLatencyMetric")&&function(){try{if(!window.PerformanceScrollUpdateLatency)return!1;new PerformanceObserver((function(e){e.getEntries().forEach((function(e){s.push(e.duration)}))})).observe({entryTypes:["scrollUpdateLatency"]})}catch(e){return!1}return!0}()&&e._periodicTasks.push((function(){if(s.length){var n=e._getCommonVars().concat(["d="+t(s)]);e.sendCounter("690.2096.768.2373",n),s=[]}return!0})))}(Ya.Rum)},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){(t=e.exports=n(213)(!1)).push([e.i,"#ZXrWmGG{opacity:1;pointer-events:none}",""]),t.locals={overlapAdContainer:"ZXrWmGG"}},function(e,t){function n(){throw new Error("Buffer is not included.")}n.isBuffer=function(){return!1},t.INSPECT_MAX_BYTES=50,t.SlowBuffer=n,t.Buffer=n},function(e,t,n){(function(t){var n;"object"===typeof window&&window.window===window?(n=window).ID3={}:n="object"===typeof t&&t.global===t?t:this,"slice"in Uint8Array.prototype||(Uint8Array.prototype.slice=Uint8Array.prototype.subarray),e.exports=n}).call(this,n(310))},function(e,t,n){"use strict";e.exports=["Blues","Classic Rock","Country","Dance","Disco","Funk","Grunge","Hip-Hop","Jazz","Metal","New Age","Oldies","Other","Pop","R&B","Rap","Reggae","Rock","Techno","Industrial","Alternative","Ska","Death Metal","Pranks","Soundtrack","Euro-Techno","Ambient","Trip-Hop","Vocal","Jazz+Funk","Fusion","Trance","Classical","Instrumental","Acid","House","Game","Sound Clip","Gospel","Noise","AlternRock","Bass","Soul","Punk","Space","Meditative","Instrumental Pop","Instrumental Rock","Ethnic","Gothic","Darkwave","Techno-Industrial","Electronic","Pop-Folk","Eurodance","Dream","Southern Rock","Comedy","Cult","Gangsta Rap","Top 40","Christian Rap","Pop / Funk","Jungle","Native American","Cabaret","New Wave","Psychedelic","Rave","Showtunes","Trailer","Lo-Fi","Tribal","Acid Punk","Acid Jazz","Polka","Retro","Musical","Rock & Roll","Hard Rock","Folk","Folk-Rock","National Folk","Swing","Fast  Fusion","Bebob","Latin","Revival","Celtic","Bluegrass","Avantgarde","Gothic Rock","Progressive Rock","Psychedelic Rock","Symphonic Rock","Slow Rock","Big Band","Chorus","Easy Listening","Acoustic","Humour","Speech","Chanson","Opera","Chamber Music","Sonata","Symphony","Booty Bass","Primus","Porn Groove","Satire","Slow Jam","Club","Tango","Samba","Folklore","Ballad","Power Ballad","Rhythmic Soul","Freestyle","Duet","Punk Rock","Drum Solo","A Cappella","Euro-House","Dance Hall","Goa","Drum & Bass","Club-House","Hardcore","Terror","Indie","BritPop","Negerpunk","Polsk Punk","Beat","Christian Gangsta Rap","Heavy Metal","Black Metal","Crossover","Contemporary Christian","Christian Rock","Merengue","Salsa","Thrash Metal","Anime","JPop","Synthpop","Rock/Pop"]},function(e,t,n){"use strict";e.exports={TALB:"album",TBPM:"bpm",TCOM:"composer",TCON:"genre",TCOP:"copyright",TDEN:"encoding-time",TDLY:"playlist-delay",TDOR:"original-release-time",TDRC:"recording-time",TDRL:"release-time",TDTG:"tagging-time",TENC:"encoder",TEXT:"writer",TFLT:"file-type",TIPL:"involved-people",TIT1:"content-group",TIT2:"title",TIT3:"subtitle",TKEY:"initial-key",TLAN:"language",TLEN:"length",TMCL:"credits",TMED:"media-type",TMOO:"mood",TOAL:"original-album",TOFN:"original-filename",TOLY:"original-writer",TOPE:"original-artist",TOWN:"owner",TPE1:"artist",TPE2:"band",TPE3:"conductor",TPE4:"remixer",TPOS:"set-part",TPRO:"produced-notice",TPUB:"publisher",TRCK:"track",TRSN:"radio-name",TRSO:"radio-owner",TSOA:"album-sort",TSOP:"performer-sort",TSOT:"title-sort",TSRC:"isrc",TSSE:"encoder-settings",TSST:"set-subtitle",TXXX:"user-defined-text-information",TYER:"year",WCOM:"url-commercial",WCOP:"url-legal",WOAF:"url-file",WOAR:"url-artist",WOAS:"url-source",WORS:"url-radio",WPAY:"url-payment",WPUB:"url-publisher",WAF:"url-file",WAR:"url-artist",WAS:"url-source",WCM:"url-commercial",WCP:"url-copyright",WPB:"url-publisher",COMM:"comments",USLT:"lyrics",APIC:"image",PIC:"image"}},function(e,t,n){"use strict";e.exports=["other","file-icon","icon","cover-front","cover-back","leaflet","media","artist-lead","artist","conductor","band","composer","writer","location","during-recording","during-performance","screen","fish","illustration","logo-band","logo-publisher"]},function(e,t,n){"use strict";var r={readUTF16String:function(e,t,n){var r=0,i=1,a=0;n=Math.min(n||e.length,e.length),254===e[0]&&255===e[1]?(t=!0,r=2):255===e[0]&&254===e[1]&&(t=!1,r=2),t&&(i=0,a=1);var o,s,c,l,d,u=[];for(d=0;r<n&&(o=e[r+i],s=e[r+a],r+=2,0!==(c=(o<<8)+s));d++)o<216||o>=224?u[d]=String.fromCharCode(c):(l=(e[r+i]<<8)+e[r+a],r+=2,u[d]=String.fromCharCode(c,l));return u.join("")},readUTF8String:function(e,t){var n=0;t=Math.min(t||e.length,e.length),239===e[0]&&187===e[1]&&191===e[2]&&(n=3);for(var r=[],i=0;n<t;i++){var a,o,s,c=e[n++];if(0===c)break;c<128?r[i]=String.fromCharCode(c):c>=194&&c<224?(a=e[n++],r[i]=String.fromCharCode(((31&c)<<6)+(63&a))):c>=224&&c<240?(a=e[n++],o=e[n++],r[i]=String.fromCharCode(((15&c)<<12)+((63&a)<<6)+(63&o))):c>=240&&c<245&&(s=((7&c)<<18)+((63&(a=e[n++]))<<12)+((63&(o=e[n++]))<<6)+(63&e[n++])-65536,r[i]=String.fromCharCode(55296+(s>>10),56320+(1023&s)))}return r.join("")},readNullTerminatedString:function(e,t){var n,r,i=[];for(t=t||e.length,n=0;n<t&&0!==(r=e[n++]);)i[n-1]=String.fromCharCode(r);return i.join("")},readISO8859String:function(e,t){var n,r,i=[];for(t=t||e.length,n=0;n<t;)r=e[n++],i[n-1]=String.fromCharCode(r);return i.join("")}};e.exports=r},function(e,t,n){"use strict";n.r(t),n.d(t,"ErrorTypes",(function(){return r})),n.d(t,"ErrorDetails",(function(){return i}));const r={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",KEY_SYSTEM_ERROR:"keySystemError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},i={KEY_SYSTEM_NO_KEYS:"keySystemNoKeys",KEY_SYSTEM_NO_ACCESS:"keySystemNoAccess",KEY_SYSTEM_NO_SESSION:"keySystemNoSession",KEY_SYSTEM_LICENSE_REQUEST_FAILED:"keySystemLicenseRequestFailed",MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},function(e,t,n){(t=e.exports=n(213)(!1)).push([e.i,"video._20Eh5WL::-webkit-media-controls{display:none!important}video._1ll4Zna::-webkit-media-controls-current-time-display,video._1ll4Zna::-webkit-media-controls-time-remaining-display{visibility:hidden!important}video._3D52tih::-webkit-media-controls-timeline{visibility:hidden!important}video._2yNfXKt::-webkit-media-controls-toggle-closed-captions-button{display:none}",""]),t.locals={video_hiddenControls:"_20Eh5WL",videoHiddenControls:"_20Eh5WL",video_hiddenTime:"_1ll4Zna",videoHiddenTime:"_1ll4Zna",video_hiddenTimeline:"_3D52tih",videoHiddenTimeline:"_3D52tih",video_hiddenSubtitlesBtn:"_2yNfXKt",videoHiddenSubtitlesBtn:"_2yNfXKt"}},function(e,t,n){"use strict";function r(e){void 0===e&&(e=window);const t=Object(Po.a)(e).match(/Tizen ([\d]+)\.([\d]+)/);if(!t)return{major:-1,minor:-1};const[,n,r]=t;return{major:parseInt(n,10),minor:parseInt(r,10)}}function i(e){let{preferNative:t=!1}=void 0===e?{}:e;return Object(Lo.a)()&&(t||wo||ko)}function a(e,t,n){return e>n?n:e<t?t:e}function o(e){return Object(zo.a)(e).map(e=>{let{screenX:t,screenY:n}=e;return{screenX:t,screenY:n}})}function s(e,t,n){function r(e){let{touches:t}=e;return Object(Jo.a)(t)&&t.length===h}function i(){return p>0}function a(){i()&&(window.clearTimeout(p),p=0,c=[])}function s(e){a(),f=!1}let c,{threshold:l=Zo,delay:d=$o,handleContextmenu:u=!1,touchesCount:h=1}=void 0===n?{}:n,f=!1,p=0;const E=Object(Go.a)(e,"touchstart",(function(e){r(e)&&(c=o(e.touches),a(),p=window.setTimeout(()=>{i()&&t()},d),f=!0)}),{passive:!0}),v=Object(Go.a)(e,"touchend",s,{passive:!0}),A=Object(Go.a)(e,"touchcancel",s,{passive:!0}),m=Object(Go.a)(e,"touchmove",(function(e){i()&&(r(e)?function(e){if(e.length!==c.length)return!0;for(let t=0;t<e.length;t++){if(Math.abs(c[t].screenX-e[t].screenX)>l)return!0;if(Math.abs(c[t].screenY-e[t].screenY)>l)return!0}return!1}(o(e.touches))&&a():a())}),{passive:!0}),g=u?Object(Go.a)(e,"contextmenu",(function(e){!i()&&f||(a(),t(e))}),{passive:!1}):Qo.a;return()=>{a(),E(),v(),A(),m(),g()}}function c(e,t){Object(ls.a)(t).forEach(n=>{const r=t[n];null===r?e.removeAttribute(n):e.setAttribute(n,r)})}function l(e){const t=e.navigator;if(!t)return;const{userActivation:n}=t;if(!Object(Jo.a)(n))return;const{isActive:r,hasBeenActive:i}=n;return{isActive:r,hasBeenActive:i}}function d(e,t){if(void 0===t&&(t=window),!t||!t[e]||!t[e].prototype)return;const{play:n}=t[e].prototype;return n&&Object(Rs.a)(n)?n:void 0}function u(e){if(!_s.a)return Promise.reject();const t=Object(bs.a)(e.play);if(Object(Rs.a)(t))return t.call(e);const n=d("HTMLVideoElement")||d("HTMLMediaElement");if(n)return n.call(e);const r=document.createElement("div");r.style.display="none",document.body.appendChild(r);const i=d("HTMLMediaElement",Object(Ss.a)(r).contentWindow);if(i){const t=i.call(e);return Object(Os.a)(r),t}return e.play()}function h(e){const{error:t}=e;return new Cs.a(t)}function f(e,t){void 0===t&&(t={});let n=0;const r=[],i=(t,i)=>{r.push(Object(Go.a)(e,t,i,Ls)),clearTimeout(n)},a=()=>Object(rs.a)(r),o=new Promise((r,a)=>{const o=t=>{e.paused&&a(t)},s=u(e);if(o(Ns.VideoTagPaused),i("durationchange",()=>o(Ns.VideoTagPausedAfterDurationChange)),i("error",()=>o(Ns.VideoTagPausedAfterError)),i("pause",()=>a(Ns.PauseEvent)),i("playing",()=>{r(Ns.PlayingEvent)}),s)t.useProgressEvent&&i("progress",()=>{r(Ns.ProgressEvent)}),s.then(()=>r(Ns.PromiseResolve)).catch(e=>a(function(e){return e?Ns.PromiseReject+"["+e.code+"]["+e.name+"]["+e.message+"]":Ns.PromiseReject}(e)));else{const{timeoutForNonPromisePlay:e}=t;"number"===typeof e&&e>0&&(n=window.setTimeout(()=>{a(Ns.Timeout)},t.timeoutForNonPromisePlay))}});return o.then(a,a),o}function p(e,t){const{paused:n}=e,r=t();return n||Object(ss.a)(u(e)),r}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e){let{canPlayUnMuted:t,canPlayMuted:n,detectionMethod:r}=e;return{canPlayUnMuted:t,canPlayMuted:n,requireMute:!t&&n,requireUserGesture:!t&&!n,detectionMethod:r}}function A(e){if("boolean"===typeof e.allowedToPlay)return Promise.resolve(function(e){const t=Ps(e);return e.muted=!1,e.volume=1,e.allowedToPlay?(t(),v({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:Is.YaBroAllowedToPlay})):(e.muted=!0,e.volume=0,e.allowedToPlay?(t(),v({canPlayUnMuted:!1,canPlayMuted:!0,detectionMethod:Is.YaBroAllowedToPlay})):(t(),v({canPlayUnMuted:!1,canPlayMuted:!1,detectionMethod:Is.YaBroAllowedToPlay})))}(e));const t=function(e){if(void 0===e&&(e=window),Object(ks.a)(e))return v({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:Is.WebOSSmartTV})}();if(void 0!==t)return Promise.resolve(t);const n=function(e){if(void 0===e&&(e=window),Do(e))return v({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:Is.OrsaySmartTV})}();if(void 0!==n)return Promise.resolve(n);const r=function(e){if(void 0===e&&(e=window),Object(ws.a)(e))return v({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:Is.PlayStationSmartTV})}();if(void 0!==r)return Promise.resolve(r);if(e.isAVPlay)return Promise.resolve(E({},Vs,{detectionMethod:Is.TizenAVPlay}));const i=function(e){if(void 0===e&&(e=window),Io(e))return Co(e)?v({canPlayUnMuted:!1,canPlayMuted:!1,detectionMethod:Is.Tizen23SmartTV}):v({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:Is.TizenSmartTVModern})}();if(void 0!==i)return Promise.resolve(i);return ms.a&&As<=9||Ds?Promise.resolve(E({},Ms,{detectionMethod:Is.IOS9OrLess})):_s.a?js?Promise.resolve(E({},Vs,{detectionMethod:Is.OldIE})):void 0:Promise.resolve(E({},Ms,{detectionMethod:Is.HTML5VideoIsNotSupported}))}function m(e){let t,n,{videoSlot:r,autoplay:i,muted:a,allowMuted:o}=e;if(!i){const e={autoplay:!1,muted:a,detectionMethod:Fs.AutoplayDisabled};return{promise:Promise.resolve(e),abort:Qo.a}}return{promise:new Promise(async e=>{t=e;const{promise:i,stop:s}=function(e,t){let{checkSoundEnabled:n=!0}=void 0===t?{}:t;const r=A(e),i=new Us(e,{checkSoundEnabled:n,promise:r});return{promise:i.promise,stop:i.stop}}(r,{checkSoundEnabled:!a});n=s;const{requireMute:c,requireUserGesture:l,detectionMethod:d}=await i.catch(()=>Vs);e(function(e){let{requireUserGesture:t,requireMute:n,muted:r,allowMuted:i,detectionMethod:a}=e;return t?{autoplay:!1,muted:r,autoplayImpossible:!0,detectionMethod:a}:n?r?{autoplay:!0,muted:!0,detectionMethod:a}:i?{autoplay:!0,muted:!0,requireUserGestureToUnmute:!0,detectionMethod:a}:{autoplay:!1,muted:r,autoplayImpossible:!0,requireAllowMutedToAutoplay:!0,detectionMethod:a}:{autoplay:!0,muted:r,detectionMethod:a}}({requireUserGesture:l,requireMute:c,muted:a,allowMuted:o,detectionMethod:d}))}),abort:()=>{n(),t({autoplay:!0,muted:a,detectionMethod:Fs.RASAborted})}}}function g(e,t){if(!Object(Jo.a)(e))return!1;let n=e.isProxyElement;return void 0!==t&&n&&(n=e.proxyElementType===t),n}function O(e){return Boolean(e)}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e){let{event:t}=e;const n=t.touches[0]||t.changedTouches[0];return{clientX:n?n.clientX:-1,clientY:n?n.clientY:-1}}function S(e,t){return e.map(e=>({adViewer:e,additionalData:{},adType:t}))}function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e){Lc[e]=!0}function b(e){Lc[e]=!1}function P(e){return!!Lc[e]}function I(e){if(Dc.checkExisting&&P(e))throw new TypeError("Duplicate action type: ".concat(e))}function C(){return Object.keys(Lc).filter(P)}function N(){C().forEach(b)}function w(){Dc.checkExisting=!0}function k(){Dc.checkExisting=!1}function L(e,t,n){function r(){var e=t.apply(void 0,arguments);return n?{type:o,payload:e,error:e instanceof Error,meta:n.apply(void 0,arguments)}:{type:o,payload:e,error:e instanceof Error}}function i(){return c(s,!1).apply(void 0,arguments)}"function"===typeof e&&(n=t,t=e,e=void 0),"function"!==typeof t&&(t=Mc),"function"!==typeof n&&(n=void 0);var a="string"===typeof e&&/^[0-9A-Z_]+$/.test(e);a?(I(e),_(e)):++jc;var o=a?e:"[".concat(jc,"]").concat(e?" "+e:""),s=void 0,c=function(e,t){return function(){var n=r.apply(void 0,arguments);return n.error||(n.error=t),Array.isArray(e)?e.map((function(e){return e(n)})):e?e(n):n}};return i.asError=function(){return c(s,!0).apply(void 0,arguments)},i.getType=function(){return o},i.toString=function(){return o},i.raw=r,i.assignTo=function(e){return s=Uc(e),i},i.assigned=function(){return!!s},i.bound=function(){return!1},i.dispatched=i.assigned,i.bindTo=function(e){var t=c(Uc(e));return t.asError=c(Uc(e)),t.raw=r,t.getType=i.getType,t.toString=i.toString,t.assignTo=function(){return t},t.bindTo=function(){return t},t.assigned=function(){return!1},t.bound=function(){return!0},t.dispatched=t.bound,t},i}function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function j(e){return e&&e.getType?e.toString():e}function M(){function e(e){return!!a[j(e)]}function t(e,n){return Array.isArray(e)?e.forEach((function(e){t(e,n)})):a[j(e)]=n,c}function n(e){return Array.isArray(e)?e.forEach(n):delete a[j(e)],c}function r(e){return Object.keys(e).forEach((function(t){return s[t]=e[t]})),c}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;if(!t||"string"!==typeof t.type)return e;if(t.type.startsWith("@@redux/"))return e;var n=a[t.type]||s.fallback;return n?s.payload?n(e,t.payload,t.meta):n(e,t):e}var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0,s={payload:!0,fallback:null},c=D(i,{has:e,on:t,off:n,options:r});if("function"===typeof a){var l=a;a={},l(t,n)}return e(Fc)||t(Fc,(function(e,t){return s.payload?t.reduce(i,e):t.payload.reduce(i,e)})),c}function V(e){return e&&e.type===xc?(e.payload.type=xc,e.payload):e}function U(e,t){const n=e.height||0;return(t.height||0)-n}function F(e){return Boolean(e&&e.adType===Pc.a.inroll)}function x(e,t){const{ad:{originalBroadcastAdCues:n}}=e,r=n[t];if(r){const{start:e}=r;if(void 0===e)return;const{end:t=e+jd}=r;return{start:Object(Ks.k)(e),end:Object(Ks.k)(t)}}}function B(e){const{ad:{originalBroadcastAdCues:t,adInfo:n}}=e;return F(n)?n.params.cueId:Object(ls.a)(t).find(t=>function(e,t){const{controller:{currentTime:n,programDateTime:r}}=e;if(void 0===r)return!1;const i=r/1e3+n,a=x(e,t);if(!a)return!1;const{start:o,end:s}=a;return o<=i&&i<=s}(e,t))}function H(e){const{adInfo:t}=e.ad;return t&&t.adType}function Y(e){const t=H(e);return Object(Md.a)(t)}function K(e){const{controller:{currentTime:t,programDateTime:n}}=e;return void 0===n?n:Object(Ks.a)(n,Object(Ks.c)(t,1e3))}function G(e,t){return Object(Ks.i)(Math.max(e+Kd,t+Yd))}function W(e){let{cue_id:t,pts:n,offset:r,cutoff:i}=e;const a=Object(Ks.a)(n,r);return{start:a,isEndReceived:void 0!==i,cueId:t,end:void 0!==i?Object(Ks.a)(n,i):G(n,a),isValid:!0,invalidateReason:void 0}}function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function q(e){return e.reduce((e,t)=>Object(Ks.a)(e,Object(Ks.k)(t.getAdDuration())),Object(Ks.k)(0))}function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Q(e){void 0===e&&(e=window);try{return e.ya.videoAd.getBundleVersion()}catch(t){return"none"}}function J(e){void 0===e&&(e=window);try{return e.ya.videoAd.getModuleVersion()}catch(t){return"none"}}function Z(e){return void 0!==e&&!Object(Md.a)(e)}function $(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function ee(e,t,n){function r(){f===h&&(f=h.slice())}function i(){if(p)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return u}function a(e){if("function"!==typeof e)throw new Error("Expected the listener to be a function.");if(p)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return r(),f.push(e),function(){if(t){if(p)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,r();var n=f.indexOf(e);f.splice(n,1),h=null}}}function o(e){if(!$(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(p)throw new Error("Reducers may not dispatch actions.");try{p=!0,u=d(u,e)}finally{p=!1}for(var t=h=f,n=0;n<t.length;n++){(0,t[n])()}return e}function s(e){if("function"!==typeof e)throw new Error("Expected the nextReducer to be a function.");d=e,o({type:su.REPLACE})}function c(){var e,t=a;return(e={subscribe:function(e){function n(){e.next&&e.next(i())}if("object"!==typeof e||null===e)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:t(n)}}})[au.a]=function(){return this},e}var l;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error("Expected the enhancer to be a function.");return n(ee)(e,t)}if("function"!==typeof e)throw new Error("Expected the reducer to be a function.");var d=e,u=t,h=[],f=h,p=!1;return o({type:su.INIT}),(l={dispatch:o,subscribe:a,getState:i,replaceReducer:s})[au.a]=c,l}function te(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function ne(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:su.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof n(void 0,{type:su.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+su.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(s){a=s}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var c=o[s],l=n[c],d=e[c],u=l(d,t);if("undefined"===typeof u){var h=te(c,t);throw new Error(h)}i[c]=u,r=r||u!==d}return(r=r||o.length!==Object.keys(e).length)?i:e}}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ie(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(n,!0).forEach((function(t){re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ce(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function le(e){var t=!1;return function(){t||(t=!0,e())}}function de(e,t,n){void 0===t&&(t=Vu),void 0===n&&(n="iterator");var r={meta:{name:n},next:e,throw:t,return:Uu,isSagaIterator:!0};return"undefined"!==typeof Symbol&&(r[Symbol.iterator]=function(){return r}),r}function ue(e,t){var n=t.sagaStack;console.error(e),console.error(n)}function he(e,t){var n=Object.keys(e),r=n.length;var i,a=0,o=Ru(e)?Fu(r):{},s={};return n.forEach((function(e){var n=function(n,s){i||(s||Yu(n)?(t.cancel(),t(n,s)):(o[e]=n,++a===r&&(i=!0,t(o))))};n.cancel=Lu,s[e]=n})),t.cancel=function(){i||(i=!0,n.forEach((function(e){return s[e].cancel()})))},s}function fe(e){return{name:e.name||"anonymous",location:pe(e)}}function pe(e){return e[gu]}function Ee(e,t){void 0===e&&(e=10);var n=new Array(e),r=0,i=0,a=0,o=function(t){n[i]=t,i=(i+1)%e,r++},s=function(){if(0!=r){var t=n[a];return n[a]=null,r--,a=(a+1)%e,t}},c=function(){for(var e=[];r;)e.push(s());return e};return{isEmpty:function(){return 0==r},put:function(s){var l;if(r<e)o(s);else switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[i]=s,a=i=(i+1)%e;break;case 4:l=2*e,n=c(),r=n.length,i=n.length,a=0,n.length=l,e=l,o(s)}},take:s,flush:c}}function ve(e,t){return void 0===e&&(e="*"),Pu(e)?Gu("TAKE",{pattern:e}):Iu(n=e)&&n[fu]&&Tu(t)&&Pu(t)?Gu("TAKE",{channel:e,pattern:t}):Iu(e)?Gu("TAKE",{channel:e}):void 0;var n}function Ae(e,t){return Ou(t)&&(t=e,e=void 0),Gu("PUT",{channel:e,action:t})}function me(e){var t=Gu("ALL",e);return t.combinator=!0,t}function ge(e){var t=Gu("RACE",e);return t.combinator=!0,t}function Oe(e,t){var n,r=null;return yu(e)?n=e:(Ru(e)?(r=e[0],n=e[1]):(r=e.context,n=e.fn),r&&Su(n)&&yu(r[n])&&(n=r[n])),{context:r,fn:n,args:t}}function Te(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Gu("CALL",Oe(e,n))}function ye(e,t,n){void 0===n&&(n=[]);return Gu("CALL",Oe([e,t],n))}function Se(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Gu("FORK",Oe(e,n))}function Re(e){return void 0===e&&(e=Eu),Gu("CANCEL",e)}function _e(e){void 0===e&&(e=ju);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Gu("SELECT",{selector:e,args:n})}function be(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}function Pe(e){try{Ne(),e()}finally{we()}}function Ie(e){qu.push(e),zu||(Ne(),ke())}function Ce(e){try{return Ne(),e()}finally{ke()}}function Ne(){zu++}function we(){zu--}function ke(){var e;for(we();!zu&&void 0!==(e=qu.shift());)Pe(e)}function Le(e){var t="*"===e?eh:Su(e)?Zu:Ru(e)?Qu:Cu(e)?Zu:yu(e)?Ju:Nu(e)?$u:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}function De(e){void 0===e&&(e=Ku());var t=!1,n=[];return{take:function(r){t&&e.isEmpty()?r(th):e.isEmpty()?(n.push(r),r.cancel=function(){ce(n,r)}):r(e.take())},put:function(r){if(!t){if(0===n.length)return e.put(r);n.shift()(r)}},flush:function(n){t&&e.isEmpty()?n(th):n(e.flush())},close:function(){if(!t){t=!0;var e=n;n=[];for(var r=0,i=e.length;r<i;r++){(0,e[r])(th)}}}}}function je(){var e,t,n,r,i,a,o=(t=!1,r=n=[],i=function(){r===n&&(r=n.slice())},a=function(){t=!0;var e=n=r;r=[],e.forEach((function(e){e(th)}))},(e={})[fu]=!0,e.put=function(e){if(!t)if(nh(e))a();else for(var i=n=r,o=0,s=i.length;o<s;o++){var c=i[o];c[hu](e)&&(c.cancel(),c(e))}},e.take=function(e,n){void 0===n&&(n=eh),t?e(th):(e[hu]=n,i(),r.push(e),e.cancel=le((function(){i(),ce(r,e)})))},e.close=a,e),s=o.put;return o.put=function(e){e[pu]?s(e):Ie((function(){s(e)}))},o}function Me(e,t){var n=e[lu];yu(n)&&(t.cancel=n),e.then(t,(function(e){t(e,!0)}))}function Ve(e){e.isRunning()&&e.cancel()}function Ue(e,t){return e+"?"+t}function Fe(e){var t=e.name,n=e.location;return n?t+"  "+Ue(n.fileName,n.lineNumber):t}function xe(e){var t,n,r,i=(t=function(e){return e.cancelledTasks},n=e,(r=[]).concat.apply(r,n.map(t)));return i.length?["Tasks cancelled due to error:"].concat(i).join("\n"):""}function Be(e,t,n,r,i,a,o){function s(t,n){if(n){if(u=2,(c={meta:i,cancelledTasks:f}).crashedEffect=oh,sh.push(c),v.isRoot){var r=(a=sh[0],o=sh.slice(1),s=a.crashedEffect?function(e){var t=pe(e);return t?t.code+"  "+Ue(t.fileName,t.lineNumber):""}(a.crashedEffect):null,["The above error occurred in task "+Fe(a.meta)+(s?" \n when executing effect "+s:"")].concat(o.map((function(e){return"    created by "+Fe(e.meta)})),[xe(sh)]).join("\n"));ch(),e.onError(t,{sagaStack:r})}d=t,h&&h.reject(t)}else t===Au?u=1:1!==u&&(u=3),l=t,h&&h.resolve(t);var a,o,s,c;v.cont(t,n),v.joiners.forEach((function(e){e.cb(t,n)})),v.joiners=null}var c;void 0===o&&(o=Lu);var l,d,u=0,h=null,f=[],p=Object.create(n),E=function(e,t,n){function r(e){t(),a(),n(e,!0)}function i(t){s.push(t),t.cont=function(i,a){c||(ce(s,t),t.cont=Lu,a?r(i):(t===e&&(o=i),s.length||(c=!0,n(o))))}}function a(){c||(c=!0,s.forEach((function(e){e.cont=Lu,e.cancel()})),s=[])}var o,s=[],c=!1;return i(e),{addTask:i,cancelAll:a,abort:r,getTasks:function(){return s}}}(t,(function(){f.push.apply(f,E.getTasks().map((function(e){return e.meta.name})))}),s),v=((c={})[vu]=!0,c.id=r,c.meta=i,c.isRoot=a,c.context=p,c.joiners=[],c.queue=E,c.cancel=function(){0===u&&(u=1,E.cancelAll(),s(Au,!1))},c.cont=o,c.end=s,c.setContext=function(e){Mu(p,e)},c.toPromise=function(){return h||(h=Xu(),2===u?h.reject(d):0!==u&&h.resolve(l)),h.promise},c.isRunning=function(){return 0===u},c.isCancelled=function(){return 1===u||0===u&&1===t.status},c.isAborted=function(){return 2===u},c.result=function(){return l},c.error=function(){return d},c);return v}function He(e,t,n,r,i,a,o){function s(e,n){try{var i;n?(i=t.throw(e),ch()):Hu(e)?(d.status=1,s.cancel(),i=yu(t.return)?t.return(Au):{done:!0,value:Au}):i=Bu(e)?yu(t.return)?t.return():{done:!0}:t.next(e),i.done?(1!==d.status&&(d.status=3),d.cont(i.value)):c(i.value,r,s)}catch(a){if(1===d.status)throw a;d.status=2,d.cont(a,!0)}}function c(t,n,r,i){function a(n,i){o||(o=!0,r.cancel=Lu,e.sagaMonitor&&(i?e.sagaMonitor.effectRejected(s,n):e.sagaMonitor.effectResolved(s,n)),i&&function(e){oh=e}(t),r(n,i))}void 0===i&&(i="");var o,s=ih();e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:s,parentEffectId:n,label:i,effect:t}),a.cancel=Lu,r.cancel=function(){o||(o=!0,a.cancel(),a.cancel=Lu,e.sagaMonitor&&e.sagaMonitor.effectCancelled(s))},l(t,s,a)}var l=e.finalizeRunEffect((function(t,n,r){if(_u(t))Me(t,r);else if(bu(t))He(e,t,u.context,n,i,!1,r);else if(t&&t[uu]){(0,ah[t.type])(e,t.payload,r,h)}else r(t)}));s.cancel=Lu;var d={meta:i,cancel:function(){0===d.status&&(d.status=1,s(Au))},status:0},u=Be(e,d,n,r,i,a,o),h={task:u,digestEffect:c};return o&&(o.cancel=u.cancel),s(),u}function Ye(e,t){var n=e.channel,r=void 0===n?je():n,i=e.dispatch,a=e.getState,o=e.context,s=void 0===o?{}:o,c=e.sagaMonitor,l=e.effectMiddlewares,d=e.onError,u=void 0===d?ue:d;for(var h=arguments.length,f=new Array(h>2?h-2:0),p=2;p<h;p++)f[p-2]=arguments[p];var E=t.apply(void 0,f);var v,A=ih();if(c&&(c.rootSagaStarted=c.rootSagaStarted||Lu,c.effectTriggered=c.effectTriggered||Lu,c.effectResolved=c.effectResolved||Lu,c.effectRejected=c.effectRejected||Lu,c.effectCancelled=c.effectCancelled||Lu,c.actionDispatched=c.actionDispatched||Lu,c.rootSagaStarted({effectId:A,saga:t,args:f})),l){var m=oe.apply(void 0,l);v=function(e){return function(t,n,r){return m((function(t){return e(t,n,r)}))(t)}}}else v=ju;var g={channel:r,dispatch:xu(i),getState:a,sagaMonitor:c,onError:u,finalizeRunEffect:v};return Ce((function(){var e=He(g,E,s,A,fe(t),!0,void 0);return c&&c.effectResolved(A,e),e}))}function Ke(e){return Iu(e)?"channel":Cu(e)?String(e):yu(e)?e.name:String(e)}function Ge(e,t,n){function r(t,n){if(s===uh)return dh(t);if(n&&!a)throw s=uh,n;i&&i(t);var r=n?e[a](n):e[s]();return s=r.nextState,o=r.effect,i=r.stateUpdater,a=r.errorState,s===uh?dh(t):o}var i,a,o,s=t;return de(r,(function(e){return r(null,e)}),n)}function We(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a,o={done:!1,value:ve(e)},s=function(e){return{done:!1,value:Se.apply(void 0,[t].concat(r,[e]))}},c=function(e){return a=e};return Ge({q1:function(){return{nextState:"q2",effect:o,stateUpdater:c}},q2:function(){return{nextState:"q1",effect:s(a)}}},"q1","takeEvery("+Ke(e)+", "+t.name+")")}function Xe(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a,o,s={done:!1,value:ve(e)},c=function(e){return{done:!1,value:Se.apply(void 0,[t].concat(r,[e]))}},l=function(e){return{done:!1,value:Re(e)}},d=function(e){return a=e},u=function(e){return o=e};return Ge({q1:function(){return{nextState:"q2",effect:s,stateUpdater:u}},q2:function(){return a?{nextState:"q3",effect:l(a)}:{nextState:"q1",effect:c(o),stateUpdater:d}},q3:function(){return{nextState:"q1",effect:c(o),stateUpdater:d}}},"q1","takeLatest("+Ke(e)+", "+t.name+")")}function qe(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a,o={done:!1,value:ve(e)},s=function(e){return{done:!1,value:Te.apply(void 0,[t].concat(r,[e]))}},c=function(e){return a=e};return Ge({q1:function(){return{nextState:"q2",effect:o,stateUpdater:c}},q2:function(){return{nextState:"q1",effect:s(a)}}},"q1","takeLeading("+Ke(e)+", "+t.name+")")}function ze(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return Se.apply(void 0,[We,e,t].concat(r))}function Qe(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return Se.apply(void 0,[Xe,e,t].concat(r))}function Je(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return Se.apply(void 0,[qe,e,t].concat(r))}function Ze(e,t){return e.volume===t.volume&&e.muted===t.muted}function*$e(e){const{ad:{adInfo:t}}=yield _e();t||(yield Te([e,e.updateVideoControllerNativeControlsVisibility]))}function*et(e){const t=function(e){const{ad:{nextAdInfo:t},controller:{videoType:n}}=e;if(void 0!==t&&("postroll"!==t.adBreakType||n===Ys.a.VOD))return Object(Ks.k)(t.remainingTime)}(yield _e());yield Te(e.callbacks.onNextAdRemainingTimeChange,t)}function*tt(e){let{payload:{cueId:t,start:n,end:r}}=e;const{ad:{originalBroadcastAdCues:i}}=yield _e(),a=Object(Of.a)(i),o=a[t]||{start:n,end:r};void 0!==n&&(o.start=n),void 0!==r&&(o.end=r),a[t]=o,yield Ae(zc(a))}function nt(e){const t=function(e){return Object(Rf.a)(e)&&Object(fs.g)(e).pathname.slice(1).split("/")[1]||""}(e);return{channel:t,metaInfoUrl:"https://strm.yandex.net/kal/"+t+"/break/last?start_ts={{video-timestamp}}"}}function*rt(e,t,n){yield Wu(Sf);const r=yield _e(),{ad:{adInfo:i},controller:{stream:a}}=r,o=function(e){const{controller:{stream:t}}=e;if(t)return void 0!==t.metaInfoUrl?t.metaInfoUrl:Object(Rf.a)(t.url)?nt(t.url).metaInfoUrl:void 0}(r);if(!i||!F(i)||i.params.startTimestamp!==e.params.startTimestamp||!a||!o)return;const{startProgramDateTime:s,startVideoTime:c,startTimestamp:l}=i.params,d=Object(Ks.a)(s,c),u=Object(Ks.a)(d,_f),h=Object(Ks.i)(Math.round(1e3*(d+(Date.now()/1e3-l)))),f=Object(yf.a)(o,"video-timestamp",String(h));let p;try{p=yield t({method:"GET",url:f})}catch(g){return n.callbacks.onError(new Rc.a({code:_c.a.META_INFO_REQUEST_FAILED,details:{url:f},fatal:!1})),void(yield Ae(Qc({end:u,cueId:i.params.cueId})))}const E=function(e){try{return Object(eu.a)(e)?JSON.parse(e):void 0}catch(t){return}}(p.responseText);if(!Object(Jo.a)(E))return;const{cutoff:v,cue_id:A}=E;if(A!==i.params.cueId)return;const m=Object(cs.a)(v)?Object(Ks.b)(Object(Ks.a)(h,v),1e3):u;yield Ae(Qc({end:m,cueId:A})),yield rt(e,t,n)}function*it(e,t){let{payload:n}=t;const{ad:{adInfo:r}}=yield _e();yield Ae(Wc(n)),r&&n&&r.adType!==n.adType?(yield Te(e.callbacks.onAdStateChange,{state:Tf.a.NOT_PLAYING,type:r.adType,adParams:{}}),yield Te(e.callbacks.onAdStateChange,{state:Tf.a.PLAYING,type:n.adType,adParams:{}})):r&&!n?yield Te(e.callbacks.onAdStateChange,{state:Tf.a.NOT_PLAYING,type:r.adType,adParams:{}}):!r&&n&&(yield Te(e.callbacks.onAdStateChange,{state:Tf.a.PLAYING,type:n.adType,adParams:{}})),void 0!==n&&F(n)&&(yield rt(n,tu.a,e))}function*at(e){const t=yield _e(),{ad:{adInfo:n,originalBroadcastAdCueId:r},controller:{watchedTime:i}}=t,a=B(t);if(a&&F(n)){const r=x(t,a);if(r){const{startProgramDateTime:t,startVideoTime:i,startTimestamp:a}=n.params,o=r.end+qd,s=Object(Ks.d)(Object(Ks.b)(Object(Ks.i)(Date.now()),1e3),a),c=Object(Ks.a)(t,i);if(o<Object(Ks.a)(s,c)){const t={utc:Object(Ks.a)(c,s),videoTime:Object(cs.a)(i)?Object(Ks.a)(i,s):void 0};return void e.stopAd({stopAdReason:Cc.a.CutOff,data:{loadPositionAfterAd:t}})}}}if(a===r)return;yield Ae(Xc(a));let o;void 0!==a?bf=i:o=Object(Ks.d)(i,bf),yield Te(e.callbacks.onOriginalBroadcastAdStateChange,{cueId:a,originalBroadcastAdDuration:o})}function*ot(e){const{externalPlayback:{playerListStatus:t}}=yield _e();if(t!==Xs.CLOSED)return e.callbacks.logEvent({event:bc.a.ExternalPlaybackCloseButtonClick,params:{}}),void(yield Ae(Oh(Xs.CLOSED)));e.callbacks.logEvent({event:bc.a.ExternalPlaybackOpenButtonClick,params:{}}),yield Te([e,e.pause]),yield Ae(Th())}function*st(e){let{payload:t}=e;yield Ae(bh(t))}function*ct(){yield Ae(Oh(Xs.CLOSED))}function*lt(){yield Ae(Th())}function*dt(e){let{payload:t}=e;t!==Hs.a.PAUSE&&(yield Ae(Oh(Xs.CLOSED)),yield Ae(Ch(!1)))}function*ut(){const{activity:e}=yield ge({timeout:Wu(Pf),activity:ve(Oh)});if(e)return;const{timeout:t}=yield ge({timeout:Wu(If-Pf),activity:ve(vh)});t&&(yield Ae(Oh(Xs.CLOSED)))}function*ht(e,t){let{payload:n}=t;n&&(yield Wu(Cf),e.callbacks.logEvent({event:bc.a.ExternalPlaybackCsrfTokenExpired,params:{}}),yield Ae(mh(void 0)))}function*ft(){let e=!1;do{const{payload:t}=yield ve(sd);e=t}while(!e);const{externalPlayback:{playerListStatus:t}}=yield _e();t!==Xs.CLOSED&&(yield Ae(Th()))}function*pt(e){const{externalPlayback:{playerCsrfToken:t}}=yield _e();if(t)return;const n=e.getExternalRequestController();try{const{promise:t,abort:r}=wf.a.loadCsrfToken(n);e.callbacks.logEvent({event:bc.a.ExternalPlaybackPlayerCsrfFetching,params:{}}),t[lu]=r;const{token:i}=yield t;yield Ae(mh(i)),e.callbacks.logEvent({event:bc.a.ExternalPlaybackPlayerCsrfFetchSuccess,params:{}}),yield Ae(gh())}catch(r){e.callbacks.logEvent({event:bc.a.ExternalPlaybackPlayerCsrfFetchError,params:{}})}}function*Et(e,t){let{payload:n}=t;const{controller:{currentTime:r},externalPlayback:{externalPlayerConfig:i}}=yield _e();yield Ae(Ih({id:n,status:Nf.a.ATTEMPT})),e.callbacks.logEvent({event:bc.a.ExternalPlaybackPlayerActivate,params:{}});const a=e.getExternalRequestController(),o=yield function*(e){yield pt(e);const{externalPlayback:{playerCsrfToken:t}}=yield _e();return t}(e);try{const{promise:t,abort:s}=wf.a.requestPlay(a,{externalPlayerId:n,startPosition:r,config:i},o);t[lu]=s,yield t,yield Ae(Ih({id:n,status:Nf.a.PLAYING})),yield Ae(Ch(!0)),yield Ae(Oh(Xs.CLOSED)),e.callbacks.logEvent({event:bc.a.ExternalPlaybackPlayerActivateSucceed,params:{}})}catch(s){yield Ae(Ih({id:n,status:Nf.a.ERROR})),yield Ae(mh(void 0)),e.callbacks.logEvent({event:bc.a.ExternalPlaybackPlayerActivateFailed,params:{}})}}function vt(e){return e.externalPlayback.playerListStatus}function At(e,t){return function(e,t){return e.status===t.status?0:e.status===Nf.a.OFFLINE?1:-1}(e,t)||function(e,t){return String.prototype.localeCompare.call(e.name,t.name)}(e,t)}function*mt(e){const t=yield _e();yield Ae(Oh(Xs.LOADING));let n=!1;yield Ae(Ah());const r=e.getExternalRequestController();try{if(0===t.externalPlayback.playerList.length){n=!0,e.callbacks.logEvent({event:bc.a.ExternalPlaybackPlayerListFetching,params:{cachedList:n}});const t=yield function*(e){const{promise:t,abort:n}=wf.a.loadCachedPlayers(e);return t[lu]=n,yield t}(r);if(e.callbacks.logEvent({event:bc.a.ExternalPlaybackPlayerListFetchSuccess,params:{cachedList:n}}),!t.length)return yield Ae(Rh([])),void(yield Ae(Oh(Xs.IDLE)));e.callbacks.logEvent({event:bc.a.ExternalPlaybackPlayerListHasAnyDevice,params:{}})}n=!1,e.callbacks.logEvent({event:bc.a.ExternalPlaybackPlayerListFetching,params:{cachedList:n}});const i=yield function*(e){const{promise:t,abort:n}=wf.a.loadPlayers(e);return t[lu]=n,yield t}(r);yield Ae(Rh(i.filter(e=>e.screen_capable).map(e=>({id:e.id,name:e.name,status:e.online?Nf.a.IDLE:Nf.a.OFFLINE})).sort(At)));(yield _e(vt))!==Xs.CLOSED&&(yield Ae(Oh(Xs.IDLE))),e.callbacks.logEvent({event:bc.a.ExternalPlaybackPlayerListFetchSuccess,params:{cachedList:n}})}catch(i){const t=yield _e(vt),r=function(e){return e.status&&403!==e.status?401===e.status?Xs.UNKNOWN_USER:Xs.ERROR:Xs.ACCESS_ERROR}(i);t!==Xs.CLOSED&&(yield Ae(Oh(r)),r===Xs.UNKNOWN_USER&&(yield Ae(Nh()))),e.callbacks.logEvent({event:bc.a.ExternalPlaybackPlayerListFetchError,params:{cachedList:n,status:i.status||0}})}}function*gt(e){let{payload:t}=e;if(1!==t.length)return;const[n]=t;n.status===Nf.a.IDLE&&(yield Ae(bh(n.id)))}function*Ot(e){yield Ae(ph(O(e.payload)))}function*Tt(e){const t=yield _e(),{controller:{currentTimeLowGranularity:n,duration:r,videoType:i,watchedTime:a},skin:{nativeControlsVisibility:o}}=t;if(isNaN(r))return;const s=H(t),c=e.getMultiroll(),l={watchedTime:a,sourceWatchedTime:a,currentTime:n,duration:r,videoType:i||Ys.a.VOD},d=yield c.midroll.loadViewers(l),u=c.getNextAdInfo(l);if(yield Ae(il(u)),d.length>0)return Object(Md.a)(s)&&e.stopAd({stopAdReason:Cc.a.AdTypeChange,data:{loadPositionAfterAd:{},adType:Pc.a.midroll}}),void(yield e.playAdViewers(Pc.a.midroll,S(d,Pc.a.midroll),{}));if(o)return;const h=yield c.overlay.loadViewers(l);0!==h.length&&(void 0!==s&&Z(s)?h.forEach(e=>{e.preventPlaying("PriorityAdIsAlreadyPlaying",{adTypeBefore:s,adTypeAfter:"overlay"})}):(e.stopAd({stopAdReason:Cc.a.AdTypeChange,data:{loadPositionAfterAd:{},adType:Pc.a.overlay}}),e.playAdViewers(Pc.a.overlay,S(h,Pc.a.overlay),{})))}function yt(e){let{ad:t}=e;const{adInfo:n}=t;return void 0!==n}function*St(e){const t=yield _e(),{controller:{playingState:n},skin:{nativeControlsVisibility:r,handleVideoTagClickWhenHidingNativeControls:i}}=t;if(!i||r||yt(t))return;let a;n===Hs.a.PLAY?(a=kf.PAUSE,yield Te([e,e.pause])):(a=kf.PLAY,yield Te([e,e.play])),yield Te(e.callbacks.onUserAction,{name:"PLAY_BUTTON_CLICK",data:{state:a}})}async function Rt(e){await Object(tu.a)({method:"GET",url:e,withCredentials:!1,timeout:Lf})}function _t(e){if(!Object(Rf.a)(e))return;const{protocol:t,host:n}=Object(Df.e)(e);return t+"//"+n+"/ping"}function bt(e,t){const n=e.getRecoverHelper();n&&n.planTask(()=>e.recoverStream(),t)}function*Pt(e,t){void 0===t&&(t=jf);const n=yield _e(),{controller:{stream:r}}=n;if(!r)return;const i=function(e){const t=_t(e);if(!t)return;const n=""+Date.now()+Math.round(1e3*Math.random());return Object(fs.a)(t,"r",n)}(r.url);if(!i)return;let a=!1;for(;!1===a;){yield Te(()=>Object(us.a)(t).promise);try{yield Te(Rt,i),a=!0}catch(o){}}yield Ae(Cl(!0)),yield bt(e,Mf)}function*It(e){yield Ae(uf()),yield Te([e,e.seek],{utc:Object(Ks.k)(0),videoTime:Object(Ks.k)(0)}),yield Te([e,e.play])}function*Ct(e,t){let{payload:n}=t;const r=Vf.a.internalToPublic(n);yield Te([e,e.setVolume],n),n>0&&(yield Te([e,e.setMuted],!1)),yield ye(e,e.callbacks.onUserAction,[{name:"VOLUME_CHANGE",data:{volume:r}}])}function Nt(e){return e.sharing.html}function wt(e){const{link:t}=e.sharing;return function(e,t){if(void 0!==e)return Object(yf.a)(e,"from_block",t)}(t,Bf.CONTEXT_MENU)}function kt(e){const t=wt(e),n=function(e){const t=Boolean(wt(e)),n=function(e){return e.controller.videoType}(e),r=n===Ys.a.VOD||n===Ys.a.EVENT;return t&&r}(e);if(!t||!n)return;const r=Math.floor(e.controller.currentTimeLowGranularity);return Object(fs.a)(t,"t",String(r))}function Lt(e){return e.controller.vsid}function*Dt(e,t){let{payload:n}=t;switch(yield Ae(Rd(!1)),n){case Uf.COPY_LINK:yield function*(){const e=yield _e(wt);e&&(yield Te(xf.a,e))}();break;case Uf.COPY_LINK_WITH_TIME:yield function*(){const e=yield _e(kt);e&&(yield Te(xf.a,e))}();break;case Uf.COPY_HTML:yield function*(){const e=yield _e(Nt);e&&(yield Te(xf.a,e))}();break;case Uf.COPY_VSID:yield function*(){const e=yield _e(Lt);yield Te(xf.a,e)}()}yield Te(e.callbacks.onUserAction,{name:n,data:void 0})}function*jt(e){yield Ae(uf()),yield Te([e,e.play])}function*Mt(){const e=yield _e(),{settingsVisible:t}=e.skin;yield Ae(gd(t))}function*Vt(e,t){let{payload:n}=t;yield ye(e,e.callbacks.onUserAction,[{name:"FINISH_CHANGE_VOLUME",data:{volume:Vf.a.internalToPublic(n)}}]),0!==n&&(yield Ae(pl(n)))}function Ut(e){const{controller:{dvrDuration:t}}=e,n=function(e){const{controller:{startStage:t}}=e;return t!==Yf.a.started&&t!==Yf.a.starting}(e);return t>0&&isFinite(t)&&!n}function*Ft(){yield Ae(Gh(!0)),yield Ae(ff())}function*xt(e){let{payload:{reason:t,step:n}}=e;const r=yield _e(),{controller:{currentTime:i},skin:{skinDVRStartTime:a,skinDVRDuration:o,seeking:s}}=r,c=n>0?Object(Ks.k)(Math.min(i+n,a+o)):Object(Ks.k)(Math.max(i+n,a));(n>0?c>i:c<i)&&(s||(yield Ae(Uh())),yield Ae(Vh({videoPosition:c,step:n,reason:t})))}function*Bt(e){let{payload:t}=e;const n=yield _e(),{controller:{volume:r,muted:i},skin:{hiddenControls:a}}=n;switch(t){case dc.ArrowLeft:Ut(n)&&!a.includes(Ws.b.TIMELINE)&&(yield Te(xt,{payload:{reason:zs.KEYBOARD,step:Object(Ks.k)(-Hf),videoPosition:Object(Ks.k)(0)}}),yield Ft());break;case dc.ArrowRight:Ut(n)&&!a.includes(Ws.b.TIMELINE)&&(yield Te(xt,{payload:{reason:zs.KEYBOARD,step:Hf,videoPosition:Object(Ks.k)(0)}}),yield Ft());break;case dc.ArrowDown:a.includes(Ws.b.VOLUME)||(!i&&r>0&&(yield Ae(Lh(Number(Math.max(r-.2,0).toFixed(1))))),yield Ft());break;case dc.ArrowUp:a.includes(Ws.b.VOLUME)||((i||r<1)&&(yield Ae(Lh(i?.2:Number(Math.min(r+.2,1).toFixed(1))))),yield Ft())}}function*Ht(e){let{payload:t}=e;const n=yield _e(),{controller:{volume:r,muted:i},skin:{hiddenControls:a,contextMenuVisibility:o,settingsVisible:s}}=n;switch(t){case dc.ArrowLeft:case dc.ArrowRight:Ut(n)&&!a.includes(Ws.b.TIMELINE)&&(yield Ae(Fh()));break;case dc.Space:yield Ae($h());break;case dc.ArrowDown:case dc.ArrowUp:a.includes(Ws.b.VOLUME)||(yield Ae(jh(i?0:r)));break;case dc.KeyF:a.includes(Ws.b.FULLSCREEN)||(yield Ae(Hh()));break;case dc.Escape:s&&(yield Ae(md(!1))),o&&(yield Ae(Rd(!1)))}}function Yt(e,t){let{payload:n}=t;e.callbacks.logEvent(n)}function*Kt(e){let{payload:t}=e;t||(yield Ae(Od(Kf.INDEX)))}function*Gt(){yield Ae(Xh(!0)),yield Wu(Gf),yield Ae(Xh(!1))}function*Wt(){const{skin:{mouseMotionlessTimeoutId:e},controller:{isFullscreen:t}}=yield _e();e>0&&window.clearTimeout(e);const{timeoutId:n,promise:r}=Object(us.a)(t?Wf:Gf);yield Ae(zh(n)),yield Ae(qh(!1)),yield r,yield Ae(Kh())}function*Xt(e){const{controller:{volume:t,muted:n}}=yield _e(),r=!n;yield Te([e,e.setMuted],r),yield ye(e,e.callbacks.onUserAction,[{name:"VOLUME_CHANGE",data:{volume:Vf.a.internalToPublic(r?0:t)}}])}function*qt(e){const t=yield _e(),{skin:{hiddenControls:n}}=t;yield Te([e,e.setHiddenControls],n)}function*zt(e){const{controller:{autoplay:t}}=yield _e();t&&(yield me([Ae(ol(!1)),Te(()=>Object(ss.a)(e.play()))]))}function Qt(e,t){let{name:n,lang:r}=t;const i=e.find(e=>e.name===n);return i||(r?e.find(e=>e.lang===r):void 0)}function*Jt(e){const{controller:{textTrackValue:t,textTracks:n,userTextTrackName:r,userTextTrackLang:i}}=yield _e();if(t)return void(yield Te([e,e.setTextTrack],t));const a=Qt(n,{name:r,lang:i})||function(e){if(0===e.length)return;const t=function(e,t){if("string"!==typeof t)return;const n=t.split("-")[0].toLowerCase();for(let r=0;r<e.length;r++){const t=e[r];if(t.name.toLowerCase()===n)return t}}(e,navigator.language);return void 0!==t?t:e[0]}(n);void 0===a?Nc.a.error("No text tracks to enable"):yield Te([e,e.setTextTrack],a.value)}function Zt(e){return Z(H(e))}function*$t(e,t){let{payload:n}=t;const{controller:{playingState:r,watchedTime:i}}=yield _e();if(r===n||r===Hs.a.END&&n===Hs.a.PAUSE)return;if(n===Hs.a.BUFFERING)return void(yield function*(){yield Ae(ml(Hs.a.BUFFERING)),yield Wu(Gs);const{controller:{playingState:e}}=yield _e();yield Ae(vd(e===Hs.a.BUFFERING))}());if(r===Hs.a.BUFFERING&&(yield function*(e){yield Ae(vd(!1)),e===Hs.a.PLAY&&(yield Ae(ld(Object(Xf.a)(Ic.a.Other,void 0))))}(n)),r===Hs.a.BUFFERING&&n===Hs.a.PAUSE&&0===i||(yield Ae(sl(Yf.a.started))),n===Hs.a.PLAY&&(yield Ae(vd(!1))),n!==Hs.a.END)return void(yield Ae(ml(n)));const a=yield _e(),{ad:{adInfo:o}}=a;Zt(a)?Nc.a.log("putPlayingState("+Hs.a.END+") has not been dispatched because ad("+(o&&o.adType)+") is playing"):yield function*(e){const t=e.getMultiroll(),n=yield t.postroll.loadViewers({});n.length>0&&(e.stopAd({stopAdReason:Cc.a.AdTypeChange,data:{loadPositionAfterAd:{},adType:Pc.a.postroll}}),yield e.playAdViewers(Pc.a.postroll,S(n,Pc.a.postroll),{})),yield Ae(ml(Hs.a.END)),e.stop()}(e)}function*en(e,t){let{payload:n}=t;yield Te(e.callbacks.onAdblockDetected,n)}function*tn(e,t){let{payload:n}=t;yield ye(e,e.callbacks.onAudioTracksChange,[n])}function nn(e){const{audioTrackValue:t,audioTracks:n}=e.controller;return n.find(e=>{let{value:n}=e;return n===t})}function*rn(e,t){let{payload:n}=t;const r=yield _e();yield Te(e.callbacks.onAudioTrackChange,nn(r))}function*an(e,t){let{payload:n}=t;yield Te(e.callbacks.onBufferingRangesChange,n)}function*on(e,t){let{payload:n}=t;yield Te(e.callbacks.onErrorScreenVisibilityChange,!n)}function sn(e){return Object(Ks.k)("number"!==typeof(t=Math.floor(2*e)/2)||isNaN(t)||!isFinite(t)?0:t);var t}function cn(e){const{controller:{currentTime:t},skin:{skinDVRStartTime:n,skinDVRDuration:r}}=e,i=n+r-Qf.a;return r===1/0||t>i}function*ln(e){const t=yield _e(),{controller:{videoType:n,playbackRate:r,encoderState:i}}=t;n!==Ys.a.VOD&&i===zf.a.Attached&&(yt(t)||(r>1?cn(t)&&e.setPlaybackRate(qf.a):function(e){const{controller:{videoType:t}}=e;if(t!==Ys.a.LIVE)return!1;const{controller:{currentTime:n},skin:{skinDVRStartTime:r}}=e;return r+(0===n?0:Qf.a)>n}(t)&&e.setPlaybackRate(qf.a)))}function dn(e){let{ad:{adInfo:t}}=e;return void 0!==t&&Jf.includes(t.adType)}function*un(){const{controller:{currentTime:e,playingState:t,watchedTime:n,playbackRate:r,sourceId:i}}=yield _e();if($f!==i&&(Zf=void 0,$f=i),void 0!==Zf){const t=function(e,t){const n=e>=0&&e<=t+.5?e:t;return Object(Ks.k)(Math.max(0,n))}(Object(Ks.b)(Object(Ks.d)(e,Zf.videoTime),r),Object(Ks.b)(Object(Ks.i)(Zf.getElapsedTime()),1e3));yield Ae(ud(Object(Ks.a)(n,t)))}const a=yield _e(dn);Zf=t!==Hs.a.PLAY||a?void 0:{getElapsedTime:Object(ds.a)(),videoTime:e}}function*hn(e,t){let{payload:n}=t;yield un(),yield ln(e),yield ye(e,e.callbacks.onCurrentTimeChange,[n]),yield Ae(Ol(sn(n)))}function*fn(e,t){let{payload:n}=t;yield Te(e.callbacks.onDurationChange,n)}function pn(e){switch(e.controller.engine){case ep.a.NATIVE:case ep.a.YANDEX:case ep.a.MP4:return!0;case ep.a.HLS:case ep.a.MPD:case void 0:default:return!1}}function*En(e){let{payload:t}=e;const{controller:{engine:n,videoType:r,fragmentDuration:i,liveOffset:a}}=yield _e(),o=yield _e(pn),s=n===ep.a.HLS?a:Object(Ks.k)(0),c=r===Ys.a.LIVE?Object(Ks.a)(o?Object(Ks.k)(0):Object(Ks.c)(Qf.b,i),s):s,l=void 0===r||r===Ys.a.VOD?t:Object(Ks.d)(t,c);yield Ae(Ml(l))}function*vn(e){let{payload:t}=e;const{controller:{videoType:n,fragmentDuration:r}}=yield _e(),i=yield _e(pn),a=n===Ys.a.LIVE?Object(Ks.a)(i?Object(Ks.k)(0):Object(Ks.c)(r,Qf.b),t):Object(Ks.k)(0);yield Ae(jl(a))}function*An(){const{controller:{encoderState:e}}=yield _e();e===zf.a.Attached&&(yield Ae(dl()))}function*mn(e,t){const{error:n}=t.payload;if(void 0===n)return;const{code:r,isFatal:i,details:a}=n;i?(Nc.a.error(r,a),yield Ae(Rd(!1)),yield Te(e.setFullscreen,!1)):Nc.a.warn(r,a),yield Te(e.callbacks.onError,n)}function*gn(e){let{payload:t}=e;const{controller:{videoTrackValue:n}}=yield _e();yield Ae(Yl({videoTrackValue:n,isAbrEnabled:t}))}function*On(e,t){let{payload:n}=t;yield Te(e.callbacks.onFullScreenChange,n)}function*Tn(e,t){let{payload:n}=t;yield Te(e.callbacks.onNetworkStatusChange,{isOnline:n})}function*yn(e,t){let{payload:n}=t;yield Te(e.callbacks.onPlaybackRateChange,n)}function Sn(e){return"https://"+e+"/ping?r="+Object(ap.a)(12)}function Rn(e){return Sn(Object(Df.e)(e).hostname)}function _n(e){return e.map(e=>e&&e.name||"").filter(e=>{return np.includes(Object(fs.c)(e))&&(t=Object(fs.g)(e).hostname,(n=".strm.yandex.net")===t.substring(t.length-n.length));var t,n})}function bn(e,t){return Object(sp.a)(e,e=>{let{start:n,end:r}=e;return n<=t&&t<=r})}function Pn(e,t){const n=bn(e,t);return void 0===n?void 0:Object(Ks.d)(n.end,t)}function In(e){const{currentTime:t,bufferingRanges:n}=e.controller;return Pn(n,t)}function*Cn(e){const t=yield _e();if(!function(e){return(In(e)||0)<op}(t))return;if(e.getConnectionQuality()!==tp.OK)return;if(Zt(t))return;const{bufferingRanges:n,stream:r}=t.controller;if(0===n.length)return;if(!r)return;const i=_t(r.url);if(!i)return;const{resourceTimings:a}=e.getDebugInfo(),o=function(e){const t=_n(e);if(0===t.length)return[];const[n,r]=Object(zd.a)(t,e=>Object(fs.d)(e).includes("audio")),i=r[r.length-1],a=n[n.length-1],o=[];return i&&o.push(Rn(i)),a&&o.push(Rn(a)),o}(a),{controller:{isOnline:s}}=yield _e();if(!s)return;const c=Object(fs.a)(i,"r",Date.now().toString()),l=o.map(e=>Object(fs.a)(e,"r",Date.now().toString()));if(o.length<=0)return;const d=Rt(c),u={reason:"ChunkServerIsNotAvailable",delay:new Promise(e=>{d.then(()=>{Promise.all(l.map(Rt)).catch(e)}).catch(Qo.a)}),rawData:0};yield bt(e,u)}function*Nn(e){const{controller:{playingState:t},ad:{inStreamPlayingState:n}}=yield _e();t===Hs.a.BUFFERING&&(yield Cn(e),yield function*(e){const t=yield _e(),{controller:{isOnline:n,stream:r}}=t;if(!n){const t={reason:"recoverStreamIfIsOffline",delay:0,rawData:0};yield bt(e,t)}}(e)),yield un(),void 0===n||n===Hs.a.END?yield Te(e.callbacks.onStateChange,t):yield Te(e.callbacks.onStateChange,n)}function*wn(e,t){let{payload:n}=t;if(!n)return;yield Te(e.callbacks.onResourcesIdle),e.callbacks.logEvent({event:bc.a.ResourcesIdle,params:{}}),yield Wu(5e3);const r=Object(cp.getGpu)();e.callbacks.logEvent({event:bc.a.ClientInfo,params:{gpu:{renderer:r.renderer,vendor:r.vendor}}})}function*kn(e,t){let{payload:n}=t;yield Te(e.callbacks.onStartStageChange,n)}function*Ln(e,t){let{payload:n}=t;yield Te(e.callbacks.onChangeStream,n)}function*Dn(e,t){let{payload:n}=t;yield Te(e.callbacks.onStreamsWithSupportInfoChange,n)}function*jn(e,t){let{payload:n}=t;yield ye(e,e.callbacks.onSubtitlesChange,[n])}function*Mn(e,t){let{payload:n}=t;yield ye(e,e.callbacks.onTextTracksChange,[n])}function*Vn(e,t){let{payload:n}=t;yield Te([e,e.callbacks.onThumbnailTileGeneralMetaInfoChange],n)}function*Un(e,t){let{payload:n}=t;yield Te(e.callbacks.onVideoReadyStateChange,n)}function*Fn(e,t){let{payload:n}=t;yield Te(e.callbacks.onVideoSizeChange,n)}function xn(){return(xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Bn(e){const{videoTrackValue:t,videoTracks:n,isAbrEnabled:r}=e.controller,i=n.find(e=>{let{value:n}=e;return n===t});if(i)return xn({},i,{auto:r})}function*Hn(e,t){yield Wu(0),yield Te(e.callbacks.onVideoTrackChange,yield _e(Bn))}function*Yn(e,t){let{payload:n}=t;yield ye(e,e.callbacks.onVideoTracksChange,[n])}function*Kn(e,t){let{payload:n}=t;yield Te(e.callbacks.onVideoTypeChange,n)}function*Gn(e,t){let{payload:{volume:n,muted:r,changeReason:i}}=t;yield Te(e.callbacks.onVolumeChange,{volume:Vf.a.internalToPublic(n),muted:r,changeReason:i}),i!==lp.a.RequestAutoplaySettings&&(yield Ae(Pd()))}function Wn(){return Object(up.a)()||Object(dp.a)()>-1}function Xn(e){const{controller:{isFullscreen:t},skin:{useNativeControls:n,useNativeFullscreen:r}}=e;return n||t&&r}function*qn(e){const t=yield _e(),{skin:{nativeControlsVisibility:n},controller:{textTrackEnabled:r,nativeTextTrackVisible:i,isPip:a}}=t,o=(void 0===i?yield Te(Wn):i)||a||Boolean(n&&Xn(t)&&r);yield Te([e,e.toggleNativeSubtitles],o)}function*zn(e){let{payload:t}=e;t!==Hs.a.PAUSE&&(yield Ae(cd(!1)))}function Qn(e){const{textTrackValue:t,textTracks:n}=e.controller;return n.find(e=>{let{value:n}=e;return n===t})}function*Jn(e,t){let{payload:{enabled:n,textTrackValue:r}}=t;const{controller:{textTrackEnabled:i,textTrackValue:a}}=yield _e(),o=void 0===n?i:n,s=void 0===r?a:r;yield Ae(Jl(o)),yield Ae($l(s));if((i?a:void 0)===(n?r:void 0))return;const c=n?Qn(yield _e()):void 0;yield Te(e.callbacks.onTextTrackChange,c)}function Zn(e,t,n){void 0===n&&(n=fp.a);let r=t;return function*(){var t;if(0===arguments.length)return;const{payload:i}=(t=arguments.length-1)<0||arguments.length<=t?void 0:arguments[t],a=n(i,r)||Number.isNaN(i)&&Number.isNaN(r);a||(r=i,yield*e(...arguments))}}function*$n(e){let{payload:t}=e;const{condition:n,action:r,delay:i}=t;yield Wu(i),n()&&(yield Ae(r))}function er(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return Se((function*(){const n=yield ve(e);yield Se.call(null,t,...r.concat(n))}))}function tr(e,t){const n=function(e,t){let{controller:{volume:n,muted:r,duration:i,isAbrEnabled:a,videoTrackValue:o}}=t;const s=[],c=[ze(fh,Ot),ze(Eh,ot,e),ze(_h,st),ze(yh,lt),ze(Sh,ct),Qe(Ah,pt,e),Qe(Th,mt,e),Qe(Rh,gt),Qe(bh,Et,e),Qe(Ph,ut),Qe(mh,ht,e),Qe(ml,dt),Qe(Nh,ft)];return[ze(Af,Mt),ze(ul,Zn(Gn,{volume:n,muted:r},Ze),e),ze(ul,Zn(qt,{volume:n,muted:r},Ze),e),ze(ml,Zn(qt),e),ze(id,Zn(qt),e),ze(El,Zn(fn,i),e),ze(Al,Zn(Kn),e),ze(Nd,$t,e),ze(ml,Zn(Nn,gf.a.playingState),e),ze(rl,Zn(Nn,mf.inStreamPlayingState),e),ze(ml,Zn(zn,gf.a.playingState)),ze(rl,Zn(zn,mf.inStreamPlayingState)),er(ml,Wt),ze(gl,Zn(hn),e),ze(md,Kt),ze(ll,An),er(dl,zt,e),ze(Sl,Zn(Ln),e),ze(Pl,Zn(Dn),e),er(Dl,Gt),ze(Cl,Zn(Tn),e),ze(Hl,Zn(gn,a)),ze(Yl,Zn(Hn,{videoTrackValue:o,isAbrEnabled:a}),e),ze(Kl,Zn(Yn),e),ze(Wl,Zn(rn),e),ze(Xl,Zn(tn),e),ze(td,Zn(Jn),e),ze(Ql,Zn(Mn),e),ze(nd,Jt,e),ze(rd,Zn(jn),e),ze(hd,Vn,e),ze(Rd,Zn(on),e),ze(id,Zn(On),e),ze(Fl,mn,e),ze(qc,Zn(en),e),ze(kl,Zn(vn)),ze(Ll,Zn(En)),ze(Ul,Zn(an),e),ze(sl,Zn(kn),e),ze(Vl,yn,e),ze(vl,Zn(Fn),e),ze(zl,Un,e),ze(Lh,Zn(Ct),e),ze(jh,Zn(Vt),e),ze(Mh,Xt,e),ze(Yh,Dt,e),ze(xh,Bt),ze(Bh,Ht),ze(wh,St,e),ze(hh,$n),ze(Jl,qn,e),ze(ad,qn,e),ze(Zl,qn,e),ze(id,Zn(qn),e),Je([ud,ml],Tt,e),ze(Qc,tt),ze(el,at,e),ze(zc,at,e),ze(kd,Yt,e),ze(Gc,Zn(it),e),ze(Wc,Zn($e),e),ze(il,Zn(et),e),ze(lf,jt,e),ze(df,It,e),ze(fd,Zn(wn),e),Je(kh,Pt,e),...c,...s]}(e,t),{featuresEnabled:r}=t.controller;return function*(){yield me(n)}}function nr(){return(nr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function rr(e,t,n){const r=e[t];return(i=r)===(a=n)||Number.isNaN(i)&&Number.isNaN(a)?e:nr({},e,{[t]:n});var i,a}function ir(e){return function(t,n){return rr(t,e,n)}}function ar(e,t){return function(n){return rr(n,e,t)}}function or(){return(or=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function sr(e,t){return void 0===t&&(t=["u","i","b"]),e.reduce((e,n)=>(n.split("\n").forEach(n=>{e.push(function(e,t){void 0===t&&(t=["u","i","b"]);const n=new RegExp("<(/)?("+t.join("|")+")>");return(e=e.replace(Ep,"")).replace(pp,e=>{if(e.match(n))return e;return""})}(n,t))}),e),[])}function cr(e,t){return Object(ls.a)(t).reduce((e,n)=>rr(e,n,t[n]),e)}function lr(){return(lr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function dr(){return(dr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ur(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function hr(e,t){if(!Object(gp.a)(e,t))return e;return function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,[t].map(ur))}function fr(e,t){return function(n,r){return function(e,t,n,r){return rr(e,t,r(e,n))}(n,e,r,t)}}function pr(){return(pr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Er(e,t){const n=function(e,t){const{featuresEnabled:n}=e.controller;return{}}(e),r={},i=Object(ls.a)(n).length?ne(n):()=>r;return ne({controller:(l=e.controller,M({},l).on(al,ir("engine")).on(Nl,ir("fragmentDuration")).on(kl,ir("dvrStartTime")).on(Ll,ir("dvrDuration")).on(sl,ir("startStage")).on(wl,ir("programDateTime")).on(nl,ir("lastKnownBandwidthEstimate")).on(ul,cr).on(hl,ir("requireUserGestureToUnmute")).on(fl,ir("autoplayImpossible")).on(pl,ir("userVolume")).on(Pd,ar("wasVolumeChanged",!0)).on(El,ir("duration")).on(vl,cr).on(Al,ir("videoType")).on(ol,ir("autoplay")).on(cl,ir("preload")).on(ml,ir("playingState")).on(gl,ir("currentTime")).on(Ol,ir("currentTimeLowGranularity")).on(yl,ir("from")).on(Sl,ir("stream")).on(Rl,ir("sourceParams")).on(_l,e=>lr({},e,{sourceId:e.sourceId+1})).on(bl,ir("streams")).on(Pl,ir("streamsWithSupportInfo")).on(Il,ir("startPosition")).on(Ul,ir("bufferingRanges")).on(ll,ir("encoderState")).on(Bl,(e,t)=>rr(rr(e,"isAbrEnabled",e.isAbrEnabled&&t),"isAbrSupported",t)).on(Hl,(e,t)=>rr(e,"isAbrEnabled",t&&e.isAbrSupported)).on(zl,ir("videoTagReadyState")).on(Yl,(e,t)=>{let{videoTrackValue:n,isAbrEnabled:r}=t;return cr(e,{videoTrackValue:n,isAbrEnabled:r&&e.isAbrSupported})}).on(Gl,(e,t)=>{let{name:n,height:r}=t;return cr(e,{userVideoTrackName:n,userVideoTrackHeight:r})}).on(Kl,ir("videoTracks")).on(Wl,ir("audioTrackValue")).on(Xl,ir("audioTracks")).on(ql,(e,t)=>{let{name:n,lang:r}=t;return rr(rr(e,"userAudioTrackName",n),"userAudioTrackLang",r)}).on(Jl,ir("textTrackEnabled")).on(Zl,ir("nativeTextTrackVisible")).on($l,ir("textTrackValue")).on(Ql,ir("textTracks")).on(ed,(e,t)=>{let{enabled:n,name:r,lang:i}=t;return cr(e,{userTextTrackEnabled:n,userTextTrackName:r,userTextTrackLang:i})}).on(rd,(e,t)=>rr(e,"subtitles",sr(t))).on(Tl,ir("videoInfo")).on(id,ir("isFullscreen")).on(ad,ir("isPip")).on(od,ir("isVisible")).on(sd,ir("isDocumentVisible")).on(cd,ir("pausedCauseVisibilityChange")).on(ld,ir("expectedStalled")).on(Fl,(e,t)=>{return!t||(n=t,!Object(ls.a)(n).length)||t.error&&t.error.isFatal?lr({},e,{errorInfo:t}):e;var n}).on(xl,ir("lastRecoverPosition")).on(Cl,ir("isOnline")).on(dd,ir("preview")).on(ud,ir("watchedTime")).on(Ld,ir("featuresParams")).on(Vl,ir("playbackRate")).on(hd,ir("tileMetaInfo")).on(Cd,ir("videoElementStyle")).on(wd,ir("preloadDetails"))),ad:(c=e.ad,M({},c).on(rl,ir("inStreamPlayingState")).on(Kc,ir("adConfig")).on(Wc,ir("adInfo")).on(il,ir("nextAdInfo")).on(Xc,ir("originalBroadcastAdCueId")).on(zc,ir("originalBroadcastAdCues")).on(qc,ir("adblockDetected")).on(Zc,ir("hasPreroll")).on($c,ir("adSyncInit")).on(tl,ir("nativeAdControlsVisibility")).on(Jc,(e,t)=>{const n=Object(Of.a)(e.originalBroadcastAdCues);return delete n[t],or({},e,{originalBroadcastAdCues:n})})),skin:(s=e.skin,M({},s).on(Ed,ir("hiddenControls")).on(vd,ir("showPreloader")).on(Id,ir("nativeControlsVisibility")).on(yd,ir("logoConfig")).on(_d,ir("contextMenuPosition")).on(Rd,fr("contextMenuVisibility",(e,t)=>e.contextMenuVisibilityLock?e.contextMenuVisibility:t)).on(Sd,ir("contextMenuVisibilityLock")).on(jl,ir("skinDVRStartTime")).on(Ml,ir("skinDVRDuration")).on(bd,(e,t)=>pr({},e,{seekTapEvent:t})).on(rf,ir("useNativeSubtitles")).on(md,ir("settingsVisible")).on(gd,ir("settingsVisibilityBeforeDocumentClick")).on(Od,ir("settingsPage")).on(Td,e=>pr({},e,{settingsVisible:!e.settingsVisible})).on(Zh,(e,t)=>rr(e,"title",cr(e.title,t))).on(pd,cr).on(Dh,ar("volumeChanging",!0)).on(jh,ar("volumeChanging",!1)).on(Gh,ir("skinMouseHovered")).on(Wh,ir("controlMouseHovered")).on(Qh,ir("mobileBottomControlsVisibility")).on(Jh,ir("mobileSkinTapped")).on(id,ar("controlMouseHovered",!1)).on(uf,ar("startPositionConfirmation",void 0)).on(qh,ir("mouseMotionless")).on(Uh,ar("seeking",!0)).on(Fh,ar("seeking",!1)).on(zh,ir("mouseMotionlessTimeoutId")).on(Xh,ir("skinVisibilityOnInit")).on(tf,ir("verticalTouchDistance")).on(nf,ir("horizontalTouchDistance")).on(af,ir("timelineTouchStarted")).on(of,(e,t)=>{let{url:n,state:r}=t;return rr(e,"timelinePreviewImages",rr(e.timelinePreviewImages,n,r))}).on(sf,(e,t)=>rr(e,"timelinePreviewImages",hr(e.timelinePreviewImages,t))).on(cf,ar("timelinePreviewImages",{})).on(pf,ir("logoWidget")).on(vf,(e,t)=>rr(e,"logoWidget",e.logoWidget?rr(e.logoWidget,"action",rr(e.logoWidget.action,"status",t)):void 0)).on(Ef,(e,t)=>rr(e,"logoWidget",e.logoWidget?rr(e.logoWidget,"forceExpanded",t):void 0)).on(hf,ir("focusRestorationExpected"))),externalPlayback:(o=e.externalPlayback,M({},o).on(fh,ir("externalPlayerConfig")).on(ph,ir("externalPlaybackPossible")).on(Ch,ir("externalPlaybackActivatedPopupVisible")).on(Oh,ir("playerListStatus")).on(mh,ir("playerCsrfToken")).on(Ih,(e,t)=>{let{id:n,status:r}=t;return rr(e,"playerList",e.playerList.map(e=>e.id===n?rr(e,"status",r):e))}).on(Rh,ir("playerList"))),sharing:(a=e.sharing,M({},a).on(vp,e=>cr(e,dr({},mp))).on(Ap,(e,t)=>cr(e,t))),features:i});var a,o,s,c,l}function vr(e,t){const n=lh(),r=function(e){let t=null;return oe(e,Object(Op.batchedSubscribe)(e=>{t||(t=Promise.resolve().then(()=>{t=null,e()}))}))}((window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||oe)(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return ae({},n,{dispatch:r=oe.apply(void 0,a)(n.dispatch)})}}}(n))),i=ee(Er(t),r),a=tr(e,t);return n.run((function*(){for(;;)try{yield Te(a)}catch(t){0,e.callbacks.onError(new Rc.a(t,{code:_c.a.SAGA_ERROR,isFatal:!1}))}})),i}function Ar(){return(Ar=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function mr(e,t){if(!e||!e.height||!e.width||!t)return"unknown";const n=t.getMaxCapAllowedVideoTrack();return n&&n.height&&n.width?n.width===e.width&&n.height===e.height?"same":n.width>e.width||n.height>e.height?"smaller":n.width<e.width||n.height<e.height?"larger":"unknown":"unknown"}function gr(){return(gr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Or(e){const t=Object(Bp.a)();return gr({},t,{additional:gr({},Object(Jo.a)(t)?t.additional:void 0,e)})}function Tr(e){const t=0===Jp,n=Zp[e];return Zp[e]=!0,Object(Fp.a)()&&t&&!n}function yr(){Tr("sourceStart")&&Object(xp.a)(Hp.autoplayFalse)}function Sr(e){let{reason:t="unknown"}=e,n=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["reason"]);Tr("sourceStart")&&Object(xp.a)(Hp.firstStartAdSDKFailed,void 0,void 0,gr({reason:t},n))}function Rr(e,t){if(!Object(Fp.a)()||Zp.sourceStart)return;const n=0===Jp;n&&t?Object(Mp.c)(qp[e]):n?Object(Mp.c)(Xp[e]):t?Object(Mp.c)(Qp[e]):Object(Mp.c)(zp[e])}function _r(e,t,n){const r=Zp.sourceStart;if(Zp.sourceStart=!0,!Object(Fp.a)()||r)return;if(0===Jp){const r=n?Kp[e]:Yp[e],i=n?qp[e]:Xp[e];Object(xp.a)(r,void 0,!1,{additional:t}),Object(Mp.a)(i,{additional:t})}else n?Object(Mp.a)(Qp[e],Or(t)):Object(Mp.a)(zp[e],Or(t))}function br(e,t,n){Tr("yaFirstFrameDecoded")&&(n&&"AD"!==e||Object(xp.a)(Gp[e],void 0,!1,{additional:t}))}function Pr(e,t,n){Tr("yaFirstFrameShown")&&(n&&"AD"!==e||Object(xp.a)(Wp[e],void 0,!1,{additional:t}))}function Ir(){return(Ir=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Cr(e){const t=function(e){return e.filter(sE.a).map(e=>{let{supportInfo:t}=e;return t.noSupportReason})}(e),n={details:{streams:e},isFatal:!0};if(Object(iE.a)(t,e=>e===oE.a.INVALID_STREAM_URL))return new Rc.a(Ir({},n,{code:_c.a.INVALID_STREAM_URL}));if(Object(iE.a)(t,e=>e===oE.a.NO_SUPPORTED_DRM))return new Rc.a(Ir({},n,{code:_c.a.NO_DRM}));if(Object(iE.a)(t,e=>e===oE.a.NO_CODECS))return new Rc.a(Ir({},n,{code:_c.a.NO_CODECS}));return Object(iE.a)(t,e=>e===oE.a.NO_MSE)?aE.a?new Rc.a(Ir({},n,{code:_c.a.NO_PLAYABLE_STREAMS})):new Rc.a(Ir({},n,{code:_c.a.NO_MSE})):new Rc.a(Ir({},n,{code:_c.a.NO_PLAYABLE_STREAMS}))}function Nr(e,t){void 0===t&&(t=uE);const n=function(e){const{hostname:t}=Object(fs.g)(e),n=t.split(".");return n.length<=2?t:n.slice(-2).join(".")}(e),r=t.includes(n);return r}function wr(e){if(!Object(Jo.a)(e))return!1;const{servers:t,advanced:n}=e;return Object(Jo.a)(t)&&Object(eu.a)(t["com.apple.fps.1_0"])&&Object(Jo.a)(n)&&Object(Jo.a)(n["com.apple.fps.1_0"])&&Object(eu.a)(n["com.apple.fps.1_0"].processSPCPath)}function kr(e){return e.preferNative||OE||gE.a||TE.a.isSmartTV()&&!wo||wr(e.stream.drmConfig)?ep.a.NATIVE:ep.a.HLS}function Lr(){return(Lr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Dr(e){if(!Object(pE.a)(e))return!1;const t=Object(vs.a)(e);if(t&&Object(CE.a)(e))return!1;const n=function(e){return Object(ME.a)("YaBrowser",e)}(e);if(void 0===n)return!1;const[r,i,a,o]=n;if(r<18)return!0;if(18===r){if(i>4)return!1;if(t&&a<3)return!0;if(Object(_E.a)(e)&&(a<1||!o||o<=526))return!0}return!1}async function jr(){const e=[],t=[{initDataTypes:["cenc"],audioCapabilities:[{contentType:'audio/mp4;codecs="mp4a.40.2"'}],videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"'}]}];return await Promise.all(DE.map(async n=>{try{await window.navigator.requestMediaKeySystemAccess(n,t),e.push(n)}catch(r){}})),e}function Mr(){const e=[];return DE.forEach(t=>{window.MSMediaKeys.isTypeSupported(t)&&e.push(t)}),e}function Vr(e){let{video:t}=e;const n=[];return DE.forEach(e=>{t.canPlayType("video/mp4",e)&&n.push(e)}),n}function Ur(){const e=[];return[kE.b,kE.c].forEach(t=>{window.WebKitMediaKeys.isTypeSupported(t,"video/mp4")&&e.push(t)}),e}async function Fr(e){return g(e.video)?{supportedDrmSystems:[kE.d],detectionMethod:VE.Constant}:IE.a&&!(PE||bE||EE||No)?{supportedDrmSystems:[],detectionMethod:VE.YandexBrowserLinux}:Dr()?{supportedDrmSystems:[],detectionMethod:VE.OldYandexBrowser}:window.WebKitMediaKeys?{supportedDrmSystems:Ur(),detectionMethod:VE.WebKitMediaKeys}:"function"===typeof window.navigator.requestMediaKeySystemAccess?{supportedDrmSystems:await jr(),detectionMethod:VE.requestMediaKeySystemAccess}:"function"===typeof window.MSMediaKeys?{supportedDrmSystems:Mr(),detectionMethod:VE.MSMediaKeys}:e.video.webkitGenerateKeyRequest?{supportedDrmSystems:Vr(e),detectionMethod:VE.GenerateKeyRequest}:{supportedDrmSystems:[],detectionMethod:VE.NotAvailable}}async function xr(e,t){const{servers:n={}}=e,r=Object(ls.a)(n);if(0===r.length)return!1;const i=await HE({video:t});return Object(iE.a)(r,e=>{return t=i,n=e,-1!==Object(RE.a)(t,n);var t,n})}async function Br(e){return!!function(e){try{return Boolean(e.yandexPlayerSupported)}catch(t){return!1}}(e.video)&&(!!Object(GE.c)("yandex_controller",!0)&&async function(e){try{return Object(as.a)($s.b.isYandexPlayerSupported)||await new Promise((e,t)=>{$s.b.onYandexPlayerSupportedAvailable=e,setTimeout(t,5e3)}),$s.b.isYandexPlayerSupported(e)}catch(t){return!1}}(e))}function Hr(){return(Hr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}async function Yr(e){const{stream:t,video:n,preferNative:r}=e,{drmConfig:i,url:a}=t;if(!(e=>Object(dE.a)(e)&&Nr(e))(a))return cE.a;const o=Object(lE.a)(a),s=Object(lE.b)(a),c=Object(lE.c)(a);if(g(n,"orsay"))return function(e){let{streamUrl:t}=e;return Object(lE.d)(t)||Object(lE.b)(t)?{supported:!0,engine:ep.a.NATIVE}:{supported:!1,noSupportReason:oE.a.NO_SUPPORTED_FORMAT}}({streamUrl:a});if(c)return YE.canPlayType('video/mp4;codecs="avc1.4D481F"')?{supported:!0,engine:ep.a.MP4}:cE.b;if(!g(n)&&!o&&!s)return cE.e;let l;var d;if(g(n,"webos")?l=function(e){let{streamUrl:t}=e;return Object(lE.a)(t)||Object(lE.b)(t)?{supported:!0,engine:ep.a.NATIVE}:{supported:!1,noSupportReason:oE.a.NO_SUPPORTED_FORMAT}}({streamUrl:a}):g(n,"avplay")?l=function(e){const t=Object(lE.b)(e),n=Object(lE.a)(e),r=Object(lE.d)(e);return t||r||n&&!wo?{supported:!0,engine:ep.a.NATIVE}:cE.e}(t.url):g(n)&&"playstation"===n.proxyElementType?(d=t.url,l=Object(lE.a)(d)||Object(lE.b)(d)?{supported:!0,engine:ep.a.NATIVE}:{supported:!1,noSupportReason:oE.a.NO_SUPPORTED_FORMAT}):l=o?await mE().then(()=>KE).catch(()=>cE.c):await async function(e){try{const t=await mE();return t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')?aE.a?{supported:!0,engine:kr(e)}:wr(e.stream.drmConfig)?cE.d:SE:aE.a?yE:cE.b}catch(t){return aE.a?yE:cE.c}}({stream:t,preferNative:r}),!l.supported)return l;if(await Br({video:n,stream:t,playerVersion:"1.0-7360"})&&Object(cE.g)(l))return Hr({},l,{engine:ep.a.YANDEX});if(!Object(Jo.a)(i))return l;return await xr(i,n)?l:cE.d}function Kr(e){const{mpd:t,m3u8:n,mss:r}=function(e){return{mpd:e.filter(e=>{let{stream:t}=e;return"mpd"===Object(fs.c)(t.url)}),m3u8:e.filter(e=>{let{stream:t}=e;return"m3u8"===Object(fs.c)(t.url)}),mss:e.filter(e=>{let{stream:t}=e;return!["mpd","m3u8"].includes(Object(fs.c)(t.url))})}}(e),i=[...t,...r,...n];return i.find(e=>{let{stream:t}=e;return Object(Jo.a)(t.drmConfig)})||i[0]}async function Gr(e){if(0===e.streams.length)return{status:"error",error:new Rc.a({code:_c.a.NO_STREAMS,details:{},isFatal:!0}),streamsWithSupportInfo:[]};const t=await function(e){let{streams:t,video:n,preferNative:r}=e;return Promise.all(t.map(async e=>({stream:e,supportInfo:await Yr({stream:e,video:n,preferNative:r})})))}(e),n=function(e){const t=Object(WE.a)(e);if(0===t.length)return;if(TE.a.isSmartTV())return Kr(t);const n=t.find(e=>{let{stream:t}=e;return Object(Jo.a)(t.drmConfig)});if(n)return n;const r=t.find(e=>{let{supportInfo:t}=e;return t.engine===ep.a.NATIVE}),i=t.find(e=>{let{supportInfo:t}=e;return t.engine===ep.a.MPD});if(gE.a&&r)return r;if(i)return i;const a=t.find(e=>{let{supportInfo:t}=e;return t.engine!==ep.a.MP4});return a||t[0]}(t);return n?{status:"success",supportedStream:n,streamsWithSupportInfo:t}:{status:"error",error:Cr(t),streamsWithSupportInfo:t}}function Wr(e){return Object(fs.a)(e,"t",String(Date.now()))}async function Xr(e,t){const n=_t(e);return async function(e,t){try{return await Object(tu.a)({url:e,withCredentials:t,method:"GET",checkStatus:e=>0!==e,retries:3}),!1}catch(n){return!0}}(n||Object(fs.a)(Wr(e),"abd","1"),!Object(eu.a)(n)&&t)}function qr(){return(qr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function zr(e){const{additionalParams:t=_p.a}=e;if(!Object(Jo.a)(e.adConfig))return;const{partnerId:n,adBreaks:r}=e.adConfig;return n||r?qr({},e.adConfig,{additionalParams:t}):void 0}function Qr(e){if(void 0===e||isNaN(e))return"unknown";for(let t=0;t<qE.length;t++)if(e<qE[t].end)return qE[t].name;return"unknown"}function Jr(e,t){return t&&"boolean"===typeof t.withCredentials?t.withCredentials:!!Object(Rf.a)(e.url)||Pp.withCredentials}function Zr(e){if(void 0===e||isNaN(e))return"unknown";for(let t=0;t<zE.length;t++)if(e<zE[t].end)return zE[t].name;return"unknown"}function $r(e){const{stream:t,sourceParams:n}=e,r=Object(fs.g)(t.url),i=Object(fs.f)(r.search);return JSON.stringify([r.pathname,i.start,i.end,null==n?void 0:n.startPosition])}function ei(e,t,n){let r,i;if(e/=360,n/=100,0===(t/=100))return r=255*n,[r,r,r];i=n<.5?n*(1+t):n+t-n*t;const a=2*n-i,o=[0,0,0];let s;for(let c=0;c<3;c++)s=e+1/3*-(c-1),s<0&&s++,s>1&&s--,r=6*s<1?a+6*(i-a)*s:2*s<1?i:3*s<2?a+(i-a)*(2/3-s)*6:a,o[c]=255*r;return o}function ti(e,t,n){e/=255,t/=255,n/=255;const r=Math.max(e,t,n),i=Math.min(e,t,n),a=r-i;let o=0;r===i?o=0:e===r?o=(t-n)/a:t===r?o=2+(n-e)/a:n===r&&(o=4+(e-t)/a),o=Math.min(60*o,360),o<0&&(o+=360);const s=(i+r)/2;let c=0;return c=r===i?0:s<=.5?a/(r+i):a/(2-r-i),[o,100*c,100*s]}function ni(e){return"0123456789abcdef".charAt(e/16<<0)+"0123456789abcdef".charAt(e%16)}function ri(e,t){let{r:n,g:r,b:i}=e;return void 0===t&&(t=127),function(e,t){return void 0===t&&(t=127),function(e){let[t,n,r]=e;return(299*t+587*n+114*r)/1e3}(e)>t}([n,r,i],t)}function ii(e){return"string"===typeof e&&7===e.length&&"#"===e[0]&&function(e){for(let t=0;t<e.length;t++)if("0123456789abcdef".indexOf(e[t].toLowerCase())<0)return!1;return!0}(e.substr(1))}function ai(e){const[t,n,r]=function(e){return[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16)]}(e);return{r:t,g:n,b:r}}function oi(e){let{r:t,g:n,b:r}=e;return function(e){let[t,n,r]=e;return"#"+ni(t)+ni(n)+ni(r)}([t,n,r])}function si(e,t){const[n,r,i]=function(e,t){let[n,r,i]=e;const[a,o]=ti(n,r,i);return ei(a,o,t)}([e.r,e.g,e.b],100*t);return{r:n,g:r,b:i}}function ci(e){return e[0]}function li(e){return Array.isArray(e)}function di(e){const t=tv.getItem("playerapi-numbers-session-storage-key"),n=Object(hs.a)(()=>JSON.parse(t||""));return function(e,t){const n=e.find(e=>!!li(e)&&ci(e)===t);return void 0===n?void 0:Object(Ks.k)(n[1])}(Array.isArray(n)?n:[],e)}function ui(e,t){const n=tv.getItem("playerapi-numbers-session-storage-key"),r=Object(hs.a)(()=>JSON.parse(n||"")),i=Array.isArray(r)?r:[];tv.setItem("playerapi-numbers-session-storage-key",JSON.stringify(function(e,t,n){const r=function(e,t){return[e,t]}(t,n),i=e.findIndex(e=>!!li(e)&&ci(e)===t);for(0===i?e[0]=r:(i>0&&e.splice(i,1),e.splice(0,0,r));10<e.length;)e.pop();return e}(i,e,t)))}function hi(e,t){try{e.details||(e.details={}),e.details.stage=t}catch(n){}}function fi(e,t){return Object(pE.a)(e)?function(e){void 0===e&&(e=window);const t=Object(Po.a)(e).match(/YaBrowser\/([\d.]+)/),n=t&&t[1]||"";return n?parseFloat(n):-1}(e)<18.6?"pip":"x-yandex-pip":"disablePictureInPicture"in t?"disablePictureInPicture":void 0}function pi(e,t,n){const r=fi(e,n);r&&(t?n.removeAttribute(r):n.setAttribute(r,"true"))}function Ei(e,t){return e.responseStart-t.responseStart}function vi(e){return e.responseStart-e.requestStart}function Ai(){if("undefined"===typeof window.performance)return Object(Ks.i)(NaN);const e=gv.reduce((e,t)=>Av()(e,function(e){try{return e.performance.getEntriesByType("resource").filter(e=>{let{name:t,transferSize:n,responseStart:r,requestStart:i}=e;return"string"===typeof t&&n>0&&r>0&&i>0})}catch(t){return[]}}(t),Ei),[]).filter(e=>{let{name:t}=e;return rv.test(t)});return 0===e.length?Object(Ks.i)(NaN):Object(Ks.i)(e.reduce((e,t)=>(1.3*e+.7*vi(t))/2,vi(e[0])))}function mi(e){const t=[];for(let n=0;n<e.buffered.length;n++)t.push({start:Object(Ks.k)(e.buffered.start(n)),end:Object(Ks.k)(e.buffered.end(n))});return function(e){const t=e.map(e=>{let{start:t,end:n}=e;return{start:t,end:n}}).sort((e,t)=>e.start-t.start);if(t.length<=1)return t;const n=[t[0]];return t.slice(1).forEach((e,t)=>{const r=n[n.length-1];r.end<e.start?n.push(e):r.end<e.end&&(r.end=e.end)}),n}(t)}function gi(){return(gi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Oi(e){if(isNaN(e.value))return;const t={bandwidthEstimate:Object(Ks.e)(Math.floor(e.value)),time:Object(Cv.a)(),source:e.source};fE.a.setItem("videolayer-bandwidth-estimate",JSON.stringify(t))}function Ti(e,t){return e.responseEnd-t.responseEnd}function yi(){if("undefined"===typeof window.performance)return{value:Object(Ks.e)(NaN),source:"timing-api"};const e=gv.reduce((e,t)=>Av()(e,function(e){try{return e.performance.getEntriesByType("resource").filter(e=>{let{duration:t,responseEnd:n,transferSize:r}=e;return t>0&&n>0&&r>1024})}catch(t){return[]}}(t),Ti),[]).filter(e=>{let{name:t}=e;return rv.test(t)});if(0===e.length)return{value:Object(Ks.e)(NaN),source:"timing-api"};const t=new kv;return e.forEach(e=>{let{transferSize:n,duration:r}=e;return t.sample(Object(Ks.i)(r),n)}),t.getBandwidthEstimate({value:Object(Ks.e)(NaN),source:"timing-api"})}function Si(e){const{controller:{lastKnownBandwidthEstimate:t,playerConfig:n}}=e;if(isFinite(t.value))return t;if(null!=n&&n.slowConnection)return{value:Iv,source:"default-slow"};const r=function(){try{const e=fE.a.getItem("videolayer-bandwidth-estimate");if(!e)return Object(Ks.e)(NaN);const{bandwidthEstimate:t,time:n}=JSON.parse(e);return Object(Cv.a)()-n<Nv?t:Object(Ks.e)(NaN)}catch(e){return Object(Ks.e)(NaN)}}();if(!isNaN(r)&&r>0)return{value:r,source:"cache"};const i=yi();if(!isNaN(i.value)&&i.value>0)return i;const a=Object(Ks.h)(function(e){void 0===e&&(e=window);const{navigator:t}=e,{connection:n={}}=t;if("number"===typeof n.downlink)return n.downlink;if("number"===typeof n.downlinkMax)return n.downlinkMax;if("string"===typeof n.type||"number"===typeof n.type)switch(n.type){case bv.BLUETOOTH:return 3;case _v.CELL_2G:return.384;case _v.CELL_3G:case bv.CELLULAR:return 2;case bv.WIMAX:return 37;case bv.NONE:return 0;case _v.ETHERNET:case bv.ETHERNET:case _v.WIFI:case bv.WIFI:case bv.MIXED:return 10;case _v.UNKNOWN:case bv.UNKNOWN:case bv.OTHER:}return-1}(window));return-1===a?{value:Pv,source:"network-api"}:{value:Object(Ks.c)(Object(Ks.c)(a,1e3),1e3),source:"network-api"}}function Ri(e,t,n){if(e.length<1)return;let[r]=e,i=t(r);for(let a=1;a<e.length;a++){const o=e[a],s=t(o);n(s,i)<0&&(r=o,i=s)}return r}function _i(e,t){return Ri(e,t,(e,t)=>t-e)}function bi(e,t){return Ri(e,t,(e,t)=>e-t)}function Pi(e){return void 0!==e.video&&Object(cs.a)(e.video.width)&&Object(cs.a)(e.video.height)}function Ii(e,t){let{maxWidth:n=Object(Ks.j)(1/0),maxHeight:r=Object(Ks.j)(1/0)}=t;const i=e.filter(Pi);if(i.length<=1)return e;const a=function(e,t){let{width:n,height:r}=e;return t>n/r?{width:n,height:Object(Ks.j)(n/t)}:{width:Object(Ks.j)(r*t),height:r}}({width:n,height:r},i[0].video.width/i[0].video.height),o=[],s=a.width*a.height,c=bi(i.slice().reverse(),e=>{let{video:{width:t,height:n}}=e;return Math.abs(s-t*n)});for(let l=0;l<i.length&&(o.push(i[l]),i[l]!==c);l++);return o}function Ci(e){const t=[],n=Object.create(null),r=Object.create(null);return e.forEach(e=>{const{video:i,audio:a}=e;i&&i.height&&i.width&&i.originalId&&a&&a.bandwidth?(void 0===n[i.originalId]&&(n[i.originalId]=[],r[i.originalId]=i),n[i.originalId].push(e)):t.push(e)}),Object(Dv.a)(n,(e,n)=>{const i=r[n];if(function(e){let{width:t,height:n}=e;const r=Math.max(t,n),i=Math.min(t,n);if(r<=0)return 0;let a=jv[0];for(let o=0;o<jv.length;o++){const e=jv[o],t=Mv[e];if(r>=1.3*Math.floor(16*t/9)||i>=1.3*t)return a;a=e}return jv[jv.length-1]}({width:Object(Ks.j)(i.width),height:Object(Ks.j)(i.height)})<=360)t.push(...e);else{const n=_i(e,e=>{var t;return(null==(t=e.audio)?void 0:t.bandwidth)||0});t.push(n)}}),t}function Ni(e){try{return e.getVariantTracks().find(Hv)}catch(t){return}}function wi(e,t){return e.getAll().find(e=>e.pathname===t)}function ki(e){return/init-.*\.mp4/.test(e)}function Li(e){const t=e.getNetworkingEngine();t&&(t.unregisterScheme("http"),t.unregisterScheme("https"))}function Di(e){if(void 0===e)return;const t=e.getManifest();if(!t)return;const n=e.getMediaElement();if(!n)return;const{currentTime:r}=n,{periods:i=[]}=t;for(let a=0;a<i.length-1;a++)if(i[a].startTime<r&&r<i[a+1].startTime)return i[a];return i[i.length-1]}function ji(e){const t=Ni(e);if(!t)return;const n=Di(e);return n?n.variants.find(e=>t.id===e.id):void 0}function Mi(e,t){const n=ji(e);if(!n||!n.video)return null;try{const e=n.video.findSegmentPosition(t);return Object(cs.a)(e)?n.video.getSegmentReference(e):null}catch(r){return null}}function Vi(e){return void 0!==e&&null!==e.getManifest()}function Ui(e,t){let n=Object(Ks.k)(0);if(!Vi(e))return n;if(void 0===t){const r=e.getMediaElement();if(!r)return n;t=Object(Ks.k)(r.currentTime)}const r=Mi(e,t);if(r){const{startTime:e,endTime:t}=r;n=Object(Ks.d)(t,e)}return n}function Fi(e,t){PE&&qv<81&&qv>77&&Object(Ks.k)(e.duration)-t<zv&&(t=Object(Ks.d)(Object(Ks.k)(e.duration),zv)),e.currentTime=t}function xi(e){if(!Vi(e))return;if(!e.isLive())return Ys.a.VOD;const t=function(e){const t=ji(e);if(t&&t.video)return t.video.presentationTimeOffset}(e);return void 0!==t?0===t?Ys.a.LIVE:Ys.a.EVENT:void 0}function Bi(e,t){if(void 0===e)return;if(xi(e)===Ys.a.LIVE)return Object(Ks.k)(0);if(void 0===t)return;const n=t.documentElement.getAttribute("publishTime");if(!n)return;const r=Date.parse(n);return isNaN(r)?void 0:Object(Ks.k)(r/1e3)}function Hi(e){return e?function(e){let t="",n=0;const r=e.length;let i=0,a=0,o=0;for(;n<r;)switch(i=e[n++],i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=String.fromCharCode(i);break;case 12:case 13:a=e[n++],t+=String.fromCharCode((31&i)<<6|63&a);break;case 14:a=e[n++],o=e[n++],t+=String.fromCharCode((15&i)<<12|(63&a)<<6|(63&o)<<0)}return t}(new Uint8Array(Array.from(e))):""}function Yi(e,t){if(void 0!==shaka&&e===shaka.net.NetworkingEngine.RequestType.MANIFEST&&t.data)return function(e){if(!e)return null;try{const t=(new DOMParser).parseFromString(e,"application/xml");return null===t.querySelector("parsererror")?t:null}catch(t){return null}}(Hi(new Uint8Array(t.data)))||void 0}async function Ki(e){let{shakaPlayer:t,streamUrl:n,startPosition:r}=e;const i=Object(cs.a)(null==r?void 0:r.utc)||Object(cs.a)(null==r?void 0:r.videoTime),a=i&&void 0===(null==r?void 0:r.utc)?null==r?void 0:r.videoTime:void 0,o=t.load(n,a);if(!i)return void await o;const s=new Qv(t);await o;const c=s.getManifestXml()||await s.waitForManifestXml(),l=Bi(t,c),d=void 0===l?null==r?void 0:r.videoTime:0===l?null==r?void 0:r.utc:void 0!==(null==r?void 0:r.utc)?Object(Ks.k)(Math.max(r.utc-l,0)):null==r?void 0:r.videoTime;if(void 0===d)return;const u=t.getMediaElement();(function(e){if(!Vi(e))return!1;const t=e.getMediaElement();return!!t&&(Number(t.readyState)>0&&Number(t.duration)>0)})(t)||await new Promise((e,n)=>{Object(Go.a)(u,"loadeddata",e,{once:!0}),t.addEventListener("unloading",n)}),Fi(u,Object(Ks.k)(d))}function Gi(){return(Gi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Wi(e){if(e.type===Hls.ErrorTypes.NETWORK_ERROR)return e.networkDetails?e.networkDetails.status:void 0}function Xi(e){if(e.type===Hls.ErrorTypes.NETWORK_ERROR)return e.networkDetails?e.networkDetails.readyState:void 0}function qi(e){if(void 0===e)return;const{level:t,start:n,duration:r,url:i,relurl:a,sn:o,programDateTime:s,deltaPTS:c,dropped:l,endDTS:d,endPTS:u,startDTS:h,startPTS:f}=e;return{level:t,start:n,duration:r,url:i,relurl:a,sn:o,programDateTime:s,deltaPTS:c,dropped:l,endDTS:d,endPTS:u,startDTS:h,startPTS:f}}function zi(){return(zi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Qi(e){try{return JSON.parse(Object(aA.a)(zi({},e,{networkDetails:void 0,frag:qi(e.frag)})))}catch(t){return{message:Object(hs.a)(()=>t.message)||"Cannot serialize hlsJsError"}}}function Ji(){return(Ji=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Zi(e){let{details:t,networkDetails:n}=e;if(451===(n?n.status:NaN))switch(t){case Hls.ErrorDetails.MANIFEST_LOAD_ERROR:return _c.a.REGIONAL_LIMITATION_MANIFEST;case Hls.ErrorDetails.LEVEL_LOAD_ERROR:return _c.a.REGIONAL_LIMITATION_LEVEL;case Hls.ErrorDetails.FRAG_LOAD_ERROR:return _c.a.REGIONAL_LIMITATION_SEGMENT;default:return}}function $i(e){let{details:t,networkDetails:n}=e;const r=n?n.status:NaN;if(iA.includes(r))switch(t){case Hls.ErrorDetails.MANIFEST_LOAD_ERROR:return _c.a.SIGNATURE_EXPIRED_MANIFEST;case Hls.ErrorDetails.LEVEL_LOAD_ERROR:return _c.a.SIGNATURE_EXPIRED_LEVEL;case Hls.ErrorDetails.FRAG_LOAD_ERROR:return _c.a.SIGNATURE_EXPIRED_SEGMENT;default:return}}function ea(e){return void 0!==Zi(e)}function ta(e){return void 0!==$i(e)}function na(e){const{details:t,fatal:n}=e;return t?!dA.includes(t)&&(!(!ea(e)&&!ta(e))||Boolean(n)):Boolean(n)}function ra(e,t){return void 0===e.err||void 0===e.err.message?"MISSED_STACK__"+t:e.err.message}function ia(e){if(void 0===e)return;const{details:t}=e;if(t===Hls.ErrorDetails.BUFFER_STALLED_ERROR)return;const n=na(e)&&!aa(e),r=Zi(e)||$i(e)||t||_c.a.DEFAULT_ERROR,{err:{stack:i=new Error(ra(e,r)).stack}={stack:void 0}}=e;return new Rc.a({code:r,isFatal:n,details:Ji({},Qi(e),{networkErrorStatus:Wi(e),xhrReadyState:Xi(e)}),stack:i})}function aa(e){return!ea(e)&&!ta(e)&&(!!e.details&&sA.includes(e.details))}function oa(e){const{details:t}=e;return!!t&&lA.includes(t)}function sa(e){const t=e.split("x");if(t.length<2)return;const n={rows:parseInt(t[0],10),columns:parseInt(t[1],10)};return isNaN(n.rows)||isNaN(n.columns)?void 0:n}function ca(e,t){const{rows:n,columns:r}=e;if(!n||!r)return null;const{width:i,height:a}=t;return{width:Object(Ks.j)(i/r),height:Object(Ks.j)(a/n)}}function la(e,t){return 0===e.rows||0===e.columns?Object(Ks.k)(0):Object(Ks.k)(t/(e.rows*e.columns))}function da(e,t){if(0===Object.keys(e).length)return;const{uri:n,duration:r,resolution:i,tiles:a}=e;if([n,r,i,a].some(e=>!e))return void(t&&t("NonValidHLSThumbnailTileSessionData"));const o=sa(a),s=function(e){if(""===e)return;const[t,n]=e.split("x"),r={width:Object(Ks.j)(parseInt(t,10)),height:Object(Ks.j)(parseInt(n,10))};return isNaN(r.width)||isNaN(r.height)?void 0:r}(i),c=Object(Ks.k)(parseFloat(r));if(void 0===o||void 0===s||isNaN(c))return void(t&&t("MapTileSessionDataParseError"));return{tiles:o,uriTemplate:n,spriteDuration:c,resolution:s,tileSize:ca(o,s),tileDuration:la(o,c)}}function ua(e,t,n){const r=t===uA.LOWRES?hA:fA,{VALUE:i=""}=e[r.tiles]||{},{VALUE:a=""}=e[r.duration]||{},{VALUE:o=""}=e[r.resolution]||{},{VALUE:s=""}=e[r.uri]||{},c=[i,a,o,s];if(!c.every(e=>""===e)){if(!c.some(e=>""===e))return{tiles:i,duration:a,resolution:o,uri:s};n&&n("NonValidHLSSessionData")}}function ha(e){if(void 0!==e)return{name:e.name,value:String(e.id),lang:e.lang||""}}function fa(e){if(void 0!==e)return{name:e.name,value:String(e.id),lang:e.lang||""}}function pa(e){return e+"p"}function Ea(e){let{width:t,height:n}=e;if(!Object(cs.a)(t)||!Object(cs.a)(n)||t<=0||n<=0)return"";const r=Math.max(t,n),i=Math.min(t,n);let a=pA[0];for(let o=0;o<pA.length;o++){if(pA[o]===i)return pa(pA[o]);if(r>=EA*Math.floor(16*pA[o]/9)||i>=EA*pA[o])return pa(a);a=pA[o]}return pa(pA[pA.length-1])}function va(e){if(void 0===e)return;const{height:t,width:n,url:r,bitrate:i}=e;return Array.isArray(r)?{name:Ea({width:Object(Ks.j)(n),height:Object(Ks.j)(t)}),value:r[0],width:n,height:t,bitrate:i?Object(Ks.b)(Object(Ks.e)(i),1e3):kp}:void 0}function Aa(e){const t=function(e,t,n){const r={};return e.filter(e=>Boolean(n(e))).forEach(e=>{const i=t(e);(!r[i]||n(r[i])<n(e))&&(r[i]=e)}),Object(NE.a)(r)}(e,e=>{let{height:t}=e;return t},e=>{let{bitrate:t}=e;return t}),n=[];return t.forEach(e=>{const t=va(e);t&&n.push(t)}),n}function ma(e,t){let{name:n,lang:r}=t;const i=n?e.find(e=>e.name===n):void 0;return i||(r?e.find(e=>e.lang===r):void 0)}function ga(e,t){let{name:n,height:r}=t;const i=n?e.find(e=>e.name===n):void 0;if(i)return i;if(void 0===r)return;return bi(e.filter(e=>{let{height:t}=e;return void 0!==t}),e=>{let{height:t}=e;return Math.abs(t-r)})}function Oa(e){if(e&&e.cues)for(;e.cues.length>0;)e.removeCue(e.cues[0])}function Ta(e){return void 0!==e&&Object(cs.a)(e)&&e>=0}function ya(e){const{type:t}=e;return t===Ys.a.VOD||!1===e.live?Ys.a.VOD:t===Ys.a.EVENT?Ys.a.EVENT:Ys.a.LIVE}function Sa(e){const t=function(e){let t;void 0===e&&(e=window);try{t=e.devicePixelRatio}catch(n){}return t||1}();return{width:(e.width||e.clientWidth||e.offsetWidth)*t,height:(e.height||e.clientHeight||e.offsetHeight)*t}}function Ra(e,t,n){function r(){0!==o&&(clearTimeout(o),o=0)}let{threshold:i=OA,delay:a=TA}=void 0===n?{}:n,o=0,s=0,c=0;const l=Object(Go.a)(e,"click",(function(e){0!==o&&(r(),t(e))}),{passive:!0}),d=Object(Go.a)(e,"touchstart",(function(e){1===e.touches.length&&(s=e.changedTouches[0].screenX,c=e.changedTouches[0].screenY,r(),o=window.setTimeout(r,a))}),{passive:!0}),u=Object(Go.a)(e,"touchend",(function(e){0!==o&&(r(),t(e))}),{passive:!0}),h=Object(Go.a)(e,"touchmove",(function(e){if(0===o||!Object(Jo.a)(e.touches)||1!==e.touches.length)return void r();const{screenX:t,screenY:n}=e.changedTouches[0];if(a=t,l=n,Math.abs(s-a)>i||Math.abs(c-l)>i)r();else var a,l}),{passive:!0});return()=>{l(),d(),u(),h()}}function _a(e,t,n){void 0===t&&(t=fp.a);let r=n;return function(n){if(!t(r,n))return r=n,e(n)}}function ba(e){let{skin:{hiddenControls:t}}=e;return!t.includes(Ws.b.TIMELINE)}function Pa(e){const{controller:{videoType:t}}=e;return t!==Ys.a.VOD&&cn(e)}function Ia(e,t){void 0===t&&(t={});let n=0;const r=[],i=(t,i)=>{r.push(Object(Go.a)(e,t,i,PA)),clearTimeout(n)},a=()=>Object(rs.a)(r),o=new Promise((r,a)=>{const o=t=>{e.paused&&a(t)},s=e.play();if(o(bA.VideoTagPaused),i("durationchange",()=>o(bA.VideoTagPausedAfterDurationChange)),i("error",()=>o(bA.VideoTagPausedAfterError)),i("pause",()=>a(bA.PauseEvent)),i("playing",()=>{r(bA.PlayingEvent)}),s)t.useProgressEvent&&i("progress",()=>{r(bA.ProgressEvent)}),s.then(()=>r(bA.PromiseResolve)).catch(e=>a(function(e){return e?bA.PromiseReject+"["+e.code+"]["+e.name+"]["+e.message+"]":bA.PromiseReject}(e)));else{const{timeoutForNonPromisePlay:e}=t;"number"===typeof e&&e>0&&(n=window.setTimeout(()=>{a(bA.Timeout)},t.timeoutForNonPromisePlay))}});return o.then(a,a),o}function Ca(e){let{kind:t}=e;return"subtitles"===t}function Na(e){const t=[];for(let n=0;n<e.length;n++)Ca(e[n])&&t.push(e[n]);return t}function wa(e){return e?"showing":"hidden"}function ka(e,t){let{paused:n}=e;return n?Hs.a.PAUSE:t?Hs.a.BUFFERING:Hs.a.PLAY}function La(){return(La=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Da(e){if("function"===typeof e.getVideoPlaybackQuality){const{droppedVideoFrames:t,corruptedVideoFrames:n,totalVideoFrames:r}=e.getVideoPlaybackQuality();return{droppedVideoFrames:t,corruptedVideoFrames:n,totalVideoFrames:r}}const t=e;return"number"===typeof t.webkitDroppedFrameCount&&"number"===typeof t.webkitDecodedFrameCount?La({},jA,{droppedVideoFrames:t.webkitDroppedFrameCount,totalVideoFrames:t.webkitDecodedFrameCount}):jA}function ja(){return(ja=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ma(){return(Ma=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Va(e){if(KA(e.message))return _c.a[e.message];if(KA(e.code))return _c.a[e.code];const t=Cs.b[e.code];return KA(t)?_c.a[t]:_c.a.DEFAULT_ERROR}function Ua(e){if(void 0===e)return;const{id:t,label:n,language:r}=e;return{name:n||r,value:t,lang:r||""}}function Fa(e){const t=Object(zo.a)(e.audioTracks).find(e=>e.enabled);return t?Ua(t):void 0}function xa(e){if(void 0===e)return;const{id:t,label:n,language:r,bitrate:i=kp,height:a=0,width:o=0}=e;return{name:n||r,value:t,bitrate:i,height:a,width:o}}function Ba(e){const t=Object(zo.a)(e.videoTracks).find(e=>e.selected);return t?xa(t):void 0}function Ha(e){return"subtitles"===e.kind&&"StreamPlayerJs TextTrack"!==e.label}function Ya(e,t){if(void 0===e)return;const{id:n,label:r,language:i}=e;return{name:r||i,value:"undefined"!==typeof n&&""!==n?n:"index:"+t,lang:i||""}}function Ka(e){const t=[];return Object(zo.a)(e).forEach(e=>{const n=Ua(e);n&&t.push(n)}),t}function Ga(e){const t=[];return Object(zo.a)(e).forEach((e,n)=>{if(!Ha(e))return;const r=Ya(e,n);r&&t.push(r)}),t}function Wa(e){const t=[];return Object(zo.a)(e).forEach(e=>{const n=xa(e);n&&t.push(n)}),t.filter(e=>{let{value:t}=e;return"auto"!==t})}function Xa(e,t){return t.code!==e.util.Error.Code.BAD_HTTP_STATUS?0:t.data[1]||0}function qa(){return(qa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function za(e){return{error:String(e.error)||"",isFatal:Boolean(e.isFatal)}}function Qa(e){if("string"===typeof e)try{return za(JSON.parse(e))}catch(t){return qa({},QA,{error:e})}return"object"===typeof e?za(e):QA}function Ja(e){return new Rc.a({isFatal:e.isFatal,code:e.error===ZA.EXPIRED_SIGNATURE?_c.a.DRM_PROXY_ERROR_SIGNATURE_EXPIRED:_c.a.DRM_PROXY_ERROR,details:{drmProxyError:e.error}})}function Za(e,t){if(!t)return;const n=t,{code:r,severity:i,category:a,data:o}=n;let s="shaka."+function(e,t){let n;for(n in e.util.Error.Code)if(e.util.Error.Code.hasOwnProperty(n)&&t.code===e.util.Error.Code[n])return n;return"ERROR"}(e,n)+"_"+r,c=o,l=i===e.util.Error.Severity.CRITICAL;switch(a){case e.util.Error.Category.NETWORK:c.networkErrorStatus=Xa(e,n);const t=function(e,t){if(t.code!==e.util.Error.Code.BAD_HTTP_STATUS)return;if(451!==Xa(e,t))return;switch(t.data[t.data.length-1]){case e.net.NetworkingEngine.RequestType.MANIFEST:return _c.a.REGIONAL_LIMITATION_MANIFEST;case e.net.NetworkingEngine.RequestType.SEGMENT:return _c.a.REGIONAL_LIMITATION_SEGMENT;default:return}}(e,n)||function(e,t){if(t.code!==e.util.Error.Code.BAD_HTTP_STATUS)return;const n=Xa(e,t);if(!iA.includes(n))return;switch(t.data[t.data.length-1]){case e.net.NetworkingEngine.RequestType.MANIFEST:return _c.a.SIGNATURE_EXPIRED_MANIFEST;case e.net.NetworkingEngine.RequestType.SEGMENT:return _c.a.SIGNATURE_EXPIRED_SEGMENT;default:return}}(e,n);void 0===t?s+=function(e,t){switch(t.code){case e.util.Error.Code.BAD_HTTP_STATUS:case e.util.Error.Code.HTTP_ERROR:case e.util.Error.Code.TIMEOUT:const n=function(e,t){const{RequestType:n}=e.net.NetworkingEngine;switch(t){case n.APP:return"APP";case n.LICENSE:return"LICENSE";case n.MANIFEST:return"MANIFEST";case n.SEGMENT:return"SEGMENT";case n.TIMING:return"TIMING";default:return}}(e,t.data[t.data.length-1]);return void 0===n?"_UNKNOWN":"_"+n;default:return""}}(e,n):(l=!0,s=t);break;case e.util.Error.Category.DRM:const i=o[0];if(!i||!zA(i))break;const a=Ja(JA(i));s=a.code,c=a.details,l=l||a.isFatal;break;case e.util.Error.Category.PLAYER:if(r===e.util.Error.Code.LOAD_INTERRUPTED)return;break;case e.util.Error.Category.CAST:case e.util.Error.Category.STORAGE:}return new Rc.a({code:s,isFatal:l,details:c,message:t.message,stack:t.stack})}function $a(e,t){return function(e,t){const n=t===uA.HIGHRES?nm:rm,r=e.querySelector(n.version);if(!r||"2"!==r.getAttribute("value"))return;const i=e.querySelector(n.tiles),a=e.querySelector(n.uriTemplate),o=e.querySelector(n.spriteDuration),s=e.querySelector(n.resolution);if(!i||!a||!o||!s)return;const c=i.getAttribute("value"),l=a.getAttribute("value"),d=Object(Ks.k)(parseFloat(o.getAttribute("value")||"")),u=s.getAttribute("value");if(!c||!u||!l||isNaN(d))return;const h=function(e){const t=e.split("x");if(t.length<2)return;const n={width:Object(Ks.j)(parseInt(t[0],10)),height:Object(Ks.j)(parseInt(t[1],10))};return isNaN(n.width)||isNaN(n.height)?void 0:n}(u);if(!h)return;const f=sa(c);if(!f)return;const p=ca(f,h),E=la(f,d);return{tiles:f,uriTemplate:l,spriteDuration:d,resolution:h,tileSize:p,tileDuration:E}}(e,t)||function(e,t){const n=Object(zo.a)(e.querySelectorAll('AdaptationSet[mimeType="image/jpeg"]'));let r=n[0];if(!r)return;if(t===uA.LOWRES){let e;if(n.forEach(t=>{t.querySelector('SupplementalProperty[schemeIdUri="urn:mpeg:yandex:thumbnail:type"][value="'+uA.LOWRES+'"]')&&(e=t)}),!e)return;r=e}const i=r.querySelector("SegmentTemplate"),a=r.querySelector("Representation"),o=r.querySelector("EssentialProperty");if(!i||!a||!o)return;const s=o.getAttribute("value"),c=i.getAttribute("media"),l=Object(Ks.k)(parseFloat(i.getAttribute("duration")||"")),d=parseFloat(a.getAttribute("width")||""),u=parseFloat(a.getAttribute("height")||""),h={width:Object(Ks.j)(d),height:Object(Ks.j)(u)};if(!s||!c||!l||!d||!u)return;const f=sa(s);if(!f)return;const p=ca(f,h),E=la(f,l);return{tiles:f,uriTemplate:c,spriteDuration:l,resolution:h,tileSize:p,tileDuration:E}}(e,t)}function eo(e,t){const n=function(e,t){let{stream:n}=e,{audio:r=Object(Ks.k)(0),video:i=Object(Ks.k)(0)}=t;if(!n||!hm())return;const{type:a}=n;switch(a){case"audio":return Object(um.a)(r,3);case"video":return Object(um.a)(i,3);default:return}}(e,t);void 0!==n&&(e.uris=e.uris.map(e=>function(e,t){const{hostname:n}=Object(fs.g)(e);return n.match(fm)?Object(fs.a)(e,"bufsize",String(t)):e}(e,n)))}function to(e){return(e.getAttribute("id")||"")+"@"+(e.getAttribute("width")||"")+"x"+(e.getAttribute("height")||"")+";"}function no(e){return Object(zo.a)(e.querySelectorAll("Representation")).map(to).sort()}function ro(e,t,n){void 0===e&&(e=[]);const r=e.find(e=>{var r,i;const a=(null==(r=e.video)?void 0:r.originalId)===t,o=(null==(i=e.audio)?void 0:i.originalId)===n;return a&&o});if(void 0!==r)return r.id;const i=function(e,t,n){void 0===t&&(t=e=>Boolean(e));void 0===n&&(n=e.length-1);for(let r=n;r>=0;r--)if(t(e[r],r,e))return r;return-1}(e,e=>{var n;return(null==(n=e.video)?void 0:n.originalId)===t});return-1===i?void 0:e[i].id}function io(e,t){if(!t||!e)return;const n='AdaptationSet > Representation[id="'+t+'"]',r=e.querySelector(n);if(!r)return;const i=r.parentElement;if(!i)return;const a=i.getAttribute("lang");return a?a.toLowerCase():void 0}function ao(e){const t=function(){if(void 0!==BE)return BE.supportedDrmSystems}();return void 0!==e&&Object(Jo.a)(e.servers)&&void 0!==t&&t.filter(t=>Object(gp.a)(e.servers,t)).map(e=>{for(const t in LE)if(Object(gp.a)(LE,t)&&LE[t].includes(e))return t;return!1}).filter(Boolean).join("|")||"none"}function oo(){return(oo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function so(){return(so=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function co(e){return String.fromCharCode(...Array.from(e))}function lo(e){return e.charCodeAt(0)}function uo(e){return Array.from(e,lo)}function ho(e){return!!Object(as.a)($s.b.isYandexPlayerFeatureEnabled)&&$s.b.isYandexPlayerFeatureEnabled(e)}function fo(e){let{id:t,method:n,params:r}=e;return JSON.stringify({jsonrpc:"2.0",id:t,method:n,params:r})}function po(e){if(!("params"in e))return[];if(!Array.isArray(e.params))throw new Error("Expect #params to be and array if present in "+JSON.stringify(e));return e.params}function Eo(e){return vo(e)}function vo(e){if(Object(cs.a)(e.id)){if(Math.floor(e.id)!==e.id)throw new Error("Expect #id to be an integer if it's a number in "+JSON.stringify(e));return e.id}if(Object(eu.a)(e.id)||null===e.id)return e.id;throw new Error("Expect #id to be an integer, string or null (not recommended) in "+JSON.stringify(e))}function Ao(e){if(!("id"in e))throw new Error("Expect #id to present in rpc response "+JSON.stringify(e));return vo(e)}function mo(e){if("object"!==typeof e.error||null===e.error)throw new Error("Expect #error to be an object in "+JSON.stringify(e));const t=e.error;if(!Object(cs.a)(t.code))throw new Error("Expect #error#code to be an number in "+JSON.stringify(e));if(!Object(eu.a)(t.message))throw new Error("Expect #error#message to be an string in "+JSON.stringify(e));return"data"in t?{code:t.code,message:t.message,data:t.data}:{code:t.code,message:t.message}}function go(e){const t=function(e){const t=Object(hs.a)(()=>JSON.parse(e));if(!Object(Jo.a)(t))throw new Error("Can't parse \""+e+'" as object');return t}(e);if(!function(e){return"2.0"===e.jsonrpc}(t))throw new Error("Expect "+e+" to be and json-rpc v2 message");if(Object(eu.a)(t.method))return function(e){return"id"in e?{jsonrpc:e.jsonrpc,method:e.method,params:po(e),id:Eo(e)}:{jsonrpc:e.jsonrpc,method:e.method,params:po(e)}}(t);if("result"in t)return function(e){return{jsonrpc:e.jsonrpc,result:e.result,id:Ao(e)}}(t);if("error"in t)return function(e){return{jsonrpc:e.jsonrpc,error:mo(e),id:Ao(e)}}(t);throw new Error("Expect "+e+" to be and json-rpc v2 message")}function Oo(e){if(e in Hm)return Hm[e];const t=document.createElement("link");return t.rel="preload",t.as="script",Hm[e]=new Promise((n,r)=>{t.onload=n,t.onerror=r,t.href=e,t.crossOrigin="anonymous",Bm.appendChild(t)}).then(()=>{Hm[e]=Promise.resolve()}).catch(()=>{delete Hm[e],Bm.removeChild(t)}),Hm[e]}function To(){return(To=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function yo(e){return"videoplayer-iframe-api-raa-cache-"+e.autoplay+"-"+e.allowMuted+"-"+e.muted}function So(e){return Object(hs.a)(()=>{const t=JSON.parse(fE.a.getItem(yo(e))),{time:n}=t,r=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["time"]);return Date.now()-n<Xm?r:null})||null}function Ro(){return(Ro=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.r(t),n.d(t,"createJsPlayer",(function(){return Qm}));var _o={};n.r(_o),n.d(_o,"add",(function(){return _})),n.d(_o,"remove",(function(){return b})),n.d(_o,"has",(function(){return P})),n.d(_o,"check",(function(){return I})),n.d(_o,"all",(function(){return C})),n.d(_o,"clear",(function(){return N})),n.d(_o,"enableChecking",(function(){return w})),n.d(_o,"disableChecking",(function(){return k}));var bo={};n.r(bo),n.d(bo,"actionTransformer",(function(){return V})),n.d(bo,"logger",(function(){return Bc}));var Po=n(21);const Io=function(e){return void 0===e&&(e=window),Object(Po.a)(e).toLowerCase().indexOf("tizen")>-1},Co=function(e){void 0===e&&(e=window);const t=r(e);return 2===t.major&&3===t.minor},No=Io(),wo=Co(),ko=function(e){void 0===e&&(e=window);const t=r(e);return 2===t.major&&4===t.minor}();var Lo=n(319);const Do=function(e){void 0===e&&(e=window);const t=Object(Po.a)(e).toLowerCase();return t.indexOf("maple2012")>-1&&t.indexOf("smarttv")>-1},jo=Do();var Mo=n(258),Vo=n(256),Uo=n(266),Fo=n(262),xo=n(159),Bo=n(58),Ho=n(173);const Yo=(void 0===Ko&&(Ko=window),Object(Po.a)(Ko).indexOf("SamsungBrowser")>-1);var Ko,Go=n(16),Wo=n(217),Xo=n(42),qo=n(85),zo=n(29),Qo=n(2),Jo=n(3);const Zo=15,$o=1500;var es=n(218),ts=n(314),ns=n(260),rs=n(93),is=n(22),as=n(9),os=n(219),ss=n(51),cs=n(12),ls=n(25),ds=n(38),us=n(125),hs=n(17),fs=n(11),ps=n(311),Es=n(146),vs=n(102);const As=function(e){if(void 0===e&&(e=window),Object(vs.a)(e)&&e.navigator){const{platform:t}=e.navigator;if(t&&/iP(hone|od|ad)/.test(t)){const t=e.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);if(t)return parseInt(t[1],10)}}return-1}();var ms=n(48),gs=n(140);var Os=n(33);var Ts=n(201);const ys=Object(Ts.a)("video/webm")?"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAByhFNm3RAHU27i1OrhBVJqWZTrIHlTbuMU6uEFlSua1OsggEj7AEAAAAAAAC5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAADIq17GDD0JATYCNTGF2ZjU3Ljc2LjEwMFdBjUxhdmY1Ny43Ni4xMDBEiYhASwAAAAAAABZUrmsBAAAAAAAAYq4BAAAAAAAAWdeBAXPFgQGcgQAitZyDdW5khoZBX09QVVNWqoNjLqBWu4QExLQAg4EC4QEAAAAAAAARn4ECtYhA53AAAAAAAGJkgSBjopNPcHVzSGVhZAECOAGAuwAAAAAAH0O2dQEAAAAAAAAt54EAo4eBAACA/P/+o4eBABWA/P/+oAEAAAAAAAAPoYeBACkA/P/+daKDa3KD":"data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAAMm1kYXTeBABMYXZjNTcuMTA3LjEwMABCIAjBGDghEARgjBwhEARgjBwhEARgjBwAAAMbbW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAAAEsAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAkV0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAAEsAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAA1AAAEAAABAAAAAAG9bWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAADgZVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAABaG1pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAABLHN0YmwAAABqc3RzZAAAAAAAAAABAAAAWm1wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAANmVzZHMAAAAAA4CAgCUAAQAEgICAF0AVAAAAAAH0AAAAEYwFgICABRGQVuUABoCAgAECAAAAMHN0dHMAAAAAAAAABAAAAAEAAAQAAAAAAQAABBgAAAABAAAEAAAAAAEAAAHuAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAAEAAAAAQAAACRzdHN6AAAAAAAAAAAAAAAEAAAAGAAAAAYAAAAGAAAABgAAABRzdGNvAAAAAAAAAAEAAAAsAAAAGnNncGQBAAAAcm9sbAAAAAIAAAAB//8AAAAcc2JncAAAAAByb2xsAAAAAQAAAAQAAAABAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ny44My4xMDA=";var Ss=n(191),Rs=n(24),_s=n(128),bs=n(259);const Ps=e=>{const t=(e=>{const{muted:t}=e;return()=>{e.muted=t}})(e),n=(e=>{const{volume:t}=e;return()=>{e.volume=t}})(e),r=(e=>{const{paused:t}=e;return()=>{t&&e.pause(),!t&&e.paused&&Object(ss.a)(u(e))}})(e);return()=>{t(),n(),r()}};var Is,Cs=n(74);!function(e){e.AutomaticallyGenerated="AutomaticallyGenerated",e.HardcodedParams="HardcodedParams",e.IOS9OrLess="IOS9OrLess",e.HTML5VideoIsNotSupported="HTML5VideoIsNotSupported",e.WindowHasBeenActive="WindowHasBeenActive",e.RAAStopped="RAAStopped",e.OldIE="OldIE",e.MediaError="MediaError",e.NotRecognized="NotRecognized",e.YaBroAllowedToPlay="YaBroAllowedToPlay",e.TizenSmartTVModern="TizenSmartTVModern",e.Tizen23SmartTV="Tizen23SmartTV",e.WebOSSmartTV="WebOSSmartTV",e.TizenAVPlay="TizenAVPlay",e.OrsaySmartTV="OrsaySmartTV",e.PlayStationSmartTV="PlayStationSmartTV"}(Is||(Is={}));var Ns,ws=n(257),ks=n(148);!function(e){e.VideoTagPaused="VideoTagPaused",e.VideoTagPausedAfterDurationChange="VideoTagPausedAfterDurationChange",e.VideoTagPausedAfterError="VideoTagPausedAfterError",e.PauseEvent="PauseEvent",e.ProgressEvent="ProgressEvent",e.PromiseResolve="PromiseResolve",e.PromiseReject="PromiseReject",e.PlayingEvent="PlayingEvent",e.Timeout="Timeout"}(Ns||(Ns={}));const Ls={once:!0,passive:!0};let Ds=!1;const js=-1<Es.a&&Es.a<=16,Ms=v({canPlayUnMuted:!1,canPlayMuted:!1,detectionMethod:Is.AutomaticallyGenerated}),Vs=v({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:Is.AutomaticallyGenerated});class Us{constructor(e,t){let{checkSoundEnabled:n,promise:r}=t;if(this.video=e,this.stop=Qo.a,this.isStopped=!1,this.revertVideoState=Qo.a,this.getIsActiveWindow())return this.promise=Promise.resolve(E({},Vs,{detectionMethod:Is.WindowHasBeenActive})),this;if(r)return this.promise=r,this;const i=document.createElement("div");i.style.display="none";const a=Ps(e),o=p(e,()=>function(e,t){const n={};return Object(ls.a)(t).forEach(t=>{n[t]=e.getAttribute(t)}),c(e,t),Object(is.a)(()=>{c(e,n)})}(e,{src:ys}));let s;this.revertVideoState=Object(is.a)(()=>{o(),e.load(),a(),Object(Os.a)(i)}),this.promise=new Promise(async(e,t)=>{let r,i,a;if(s=t,n){const e=await this.requestAutoplayAbilityByMuted(!1);i=e.autoplayAbility,r=e.detectionMethod}else i=!1;if(!this.isStopped){if(i)a=!0;else{const e=await this.requestAutoplayAbilityByMuted(!0);a=e.autoplayAbility,r=r&&r!==e.detectionMethod?"DifferentDetectionMethods unmuted=["+r+"] muted=["+e.detectionMethod+"]":e.detectionMethod}this.isStopped||(this.revertVideoState(),this.isStopped=!0,e(v({canPlayUnMuted:i,canPlayMuted:a,detectionMethod:r||Is.NotRecognized})))}}),this.stop=()=>{this.isStopped||(this.isStopped=!0,s(new Error("requestAutoplayAbility has been stopped")),this.revertVideoState())}}async requestAutoplayAbilityByMuted(e){const{video:t}=this;if(p(t,()=>{t.load()}),await(async(e,t)=>{let n;try{await new Promise((r,i)=>{t&&t.then(r,i),n=window.setTimeout(r,e)})}finally{window.clearTimeout(n)}})(0),this.isStopped)return{autoplayAbility:!1,detectionMethod:Is.RAAStopped};t.muted=e,t.volume=e?0:1;const n=await new Promise(e=>{f(t,{useProgressEvent:!0,timeoutForNonPromisePlay:500}).then(t=>{e({autoplayAbility:!0,detectionMethod:t})}).catch(n=>{const r=h(t);r&&r.code===Cs.b.MEDIA_ERR_DECODE?setTimeout(()=>{e({autoplayAbility:!0,detectionMethod:Is.MediaError})},0):e({autoplayAbility:!1,detectionMethod:n})})});return this.isStopped?{autoplayAbility:!1,detectionMethod:Is.RAAStopped}:n}getIsActiveWindow(){const e=Object(gs.a)(this.video);if(!e)return!1;const t=l(e);return Boolean(t&&t.hasBeenActive)}}var Fs;!function(e){e.AutoplayDisabled="AutoplayDisabled",e.RASAborted="RASAborted"}(Fs||(Fs={}));var xs=n(174),Bs=n(214),Hs=n(7),Ys=n(14),Ks=n(0);const Gs=Object(Ks.i)(1e3);var Ws=n(30);n(109);let Xs;!function(e){e.CLOSED="closed",e.IDLE="idle",e.LOADING="loading",e.UNKNOWN_USER="unknownUser",e.ACCESS_ERROR="accessError",e.ERROR="error"}(Xs||(Xs={}));const qs={externalPlaybackPossible:!1,externalPlaybackActivatedPopupVisible:!1,externalPlayerConfig:void 0,playerList:[],playerListStatus:Xs.CLOSED,playerCsrfToken:void 0};let zs,Qs;!function(e){e.SEEK_TO_LIVE="SEEK_TO_LIVE",e.TIMELINE="TIMELINE",e.KEYBOARD="KEYBOARD",e.DOUBLE_TAP="DOUBLE_TAP",e.MOBILE_UI="MOBILE_UI"}(zs||(zs={})),function(e){e.DEFAULT="DEFAULT",e.PROGRESS="PROGRESS",e.COMPLETED="COMPLETED"}(Qs||(Qs={}));const Js=e=>Ws.a.every(t=>e.includes(t));var Zs=n(83),$s=n(31),ec=n(316),tc=n(184);class nc{constructor(){this.resolve=void 0,this.reject=void 0,this.promise=void 0;let e=Qo.a,t=Qo.a;this.promise=new Promise((n,r)=>{e=n,t=r}),this.resolve=e,this.reject=t}}var rc=n(208),ic=n(263),ac=n(321),oc=n(69),sc=n(130),cc=n(156);const lc=sc.a||oc.a||ms.a||cc.a;let dc;!function(e){e.Space="Space",e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowRight="ArrowRight",e.ArrowLeft="ArrowLeft",e.KeyF="KeyF",e.Tab="Tab",e.Escape="Escape",e.Enter="Enter"}(dc||(dc={}));const uc={9:dc.Tab,13:dc.Enter,27:dc.Escape,32:dc.Space,37:dc.ArrowLeft,38:dc.ArrowUp,39:dc.ArrowRight,40:dc.ArrowDown,70:dc.KeyF},hc=["keyup","keydown"],fc=["mousemove","click","dblclick","mouseenter","mouseleave","contextmenu"],pc=["touchstart","touchend","longtouch"];var Ec=n(34);class vc extends Ec.a{destroy(){this.emit("Destroy")}}class Ac extends vc{constructor(e){super(),this.clickElement=e,this.createKeyboardEventHandler=e=>t=>{const n="code"in(r=t)&&r.code?r.code in dc?r.code:void 0:uc[r.which||r.keyCode];var r;void 0!==n&&(n!==dc.Tab&&t.preventDefault(),this.emit("Event",{type:e,event:{keyName:n,preventDefault:Qo.a}}))},this.createMouseEventHandler=e=>"contextmenu"===e?e=>this.handleContextMenuMouseEvent(e):t=>this.handleMouseEvent(e,t),this.handleMouseEvent=(e,t)=>{if(!(n=t.target)||n.ownerDocument&&n.ownerDocument.compareDocumentPosition(n)&n.DOCUMENT_POSITION_DISCONNECTED)return;var n;const{clientX:r,clientY:i}=function(e,t){const{top:n,left:r}=e.getBoundingClientRect();return{clientX:t.clientX-r,clientY:t.clientY-n}}(this.clickElement,t);this.emit("Event",{type:e,event:{clientX:r,clientY:i,preventDefault:Qo.a}})},this.handleContextMenuMouseEvent=e=>{e.ctrlKey||e.altKey||(e.preventDefault(),this.handleMouseEvent("contextmenu",e))},this.handleLongTouch=e=>{const t=[{clientX:0,clientY:0}],n={touches:e&&"touches"in e?e.touches:t,changedTouches:e&&"changedTouches"in e?e.changedTouches:t,cancelable:!1,preventDefault:Qo.a};this.handleTouchEvent("longtouch",n)},this.createTouchEventHandler=e=>t=>this.handleTouchEvent(e,t),this.handleTouchEvent=(e,t)=>{const{touches:n,changedTouches:r}=function(e,t){const{top:n,left:r}=e.getBoundingClientRect();return{touches:Array.from(t.touches).map(e=>{let{clientX:t,clientY:i}=e;return{clientX:t-r,clientY:i-n}}),changedTouches:Array.from(t.changedTouches).map(e=>{let{clientX:t,clientY:i}=e;return{clientX:t-r,clientY:i-n}})}}(this.clickElement,t);this.emit("Event",{type:e,event:{touches:n,changedTouches:r,preventDefault:()=>{try{if(!t.cancelable)return;t.preventDefault()}catch(e){}}}})},this.setMaxListeners(11),fc.forEach(t=>{"contextmenu"===t&&lc||this.once("Destroy",Object(Go.a)(e,t,this.createMouseEventHandler(t)))}),pc.forEach(t=>{"longtouch"!==t?this.once("Destroy",Object(Go.a)(e,t,this.createTouchEventHandler(t),{capture:!0,passive:!1})):this.once("Destroy",s(e,this.handleLongTouch,{touchesCount:2,handleContextmenu:!1}))}),hc.forEach(t=>{this.once("Destroy",Object(Go.a)(e,t,this.createKeyboardEventHandler(t)))})}}var mc=n(44);let gc;!function(e){e.Click="click",e.DoubleClick="dblclick",e.MouseMove="mousemove",e.MouseEnter="mouseenter",e.MouseLeave="mouseleave",e.ContextMenu="contextmenu"}(gc||(gc={}));const Oc=Object(Ks.i)(300),Tc=Object(Ks.b)(Oc,3/4);class yc extends Ec.a{static calculateEventSlop(e,t){let{event:n}=e,{event:r}=t;const i=n.touches[0]||n.changedTouches[0],a=r.touches[0]||r.changedTouches[0],o=Math.abs(i.clientX-a.clientX),s=Math.abs(i.clientY-a.clientY);return o*o+s*s}constructor(e){super(),this.timeoutId=void 0,this.firstTouchStartEvent=void 0,this.firstTouchStopEvent=void 0,this.secondTouchStartEvent=void 0,this.skipNextClick=!1,this.handleClickerEvent=e=>{if(function(e){return fc.includes(e.type)}(e)&&this.handleMouseEvent(e),function(e){return pc.includes(e.type)}(e))switch(e.timeStamp=Object(Ks.i)(Date.now()),e.type){case"touchstart":this.handleTouchStart(e);break;case"touchend":this.handleTouchEnd(e);break;case"longtouch":this.dispatchEvent(T({},e,{type:gc.ContextMenu,event:T({},e.event,y(e))}))}},this.handleTouchEnd=e=>{this.firstTouchStartEvent&&(this.firstTouchStopEvent||(this.firstTouchStopEvent=e))},this.handleTouchStart=e=>{if(this.skipNextClick=!0,this.firstTouchStartEvent||this.timeoutId){if(this.secondTouchStartEvent)return;{this.secondTouchStartEvent=e;const t=this.isConsideredDoubleTap();this.reset(),t&&this.dispatchEvent(T({},e,{type:gc.DoubleClick,event:T({},e.event,y(e))}))}}else this.firstTouchStartEvent=e,this.timeoutId=window.setTimeout(this.handleTimeout,Oc)},this.handleTimeout=()=>{const e=Boolean(this.firstTouchStartEvent&&this.firstTouchStopEvent&&!this.secondTouchStartEvent),t=this.areFirstTapsInSameBox(),n=e&&this.firstTouchStopEvent.timeStamp-this.firstTouchStartEvent.timeStamp<=Tc,r=e&&t&&n,i=this.firstTouchStopEvent;this.reset(),r&&this.dispatchEvent(T({},i,{type:gc.Click,event:T({},i.event,y(i))}))};const{eventListener:t}=e;this.once("Destroy",()=>this.reset()),t.on("Event",this.handleClickerEvent),this.once("Destroy",()=>t.off("Event",this.handleClickerEvent))}destroy(){this.emit("Destroy")}handleMouseEvent(e){this.skipNextClick?e.type===gc.Click&&(this.skipNextClick=!1):this.dispatchEvent(e)}dispatchEvent(e){-1!==e.event.clientX&&-1!==e.event.clientY&&this.emit("Event",e)}areFirstTapsInSameBox(){if(!this.firstTouchStartEvent||!this.firstTouchStopEvent)return!1;return yc.calculateEventSlop(this.firstTouchStartEvent,this.firstTouchStopEvent)<=32}isConsideredDoubleTap(){if(!this.firstTouchStartEvent||!this.firstTouchStopEvent||!this.secondTouchStartEvent)return!1;if(!this.areFirstTapsInSameBox())return!1;if(!(yc.calculateEventSlop(this.firstTouchStartEvent,this.secondTouchStartEvent)<=300))return!1;return!(this.secondTouchStartEvent.timeStamp-this.firstTouchStartEvent.timeStamp>Oc)}reset(){window.clearTimeout(this.timeoutId),this.timeoutId=void 0,this.firstTouchStartEvent=void 0,this.firstTouchStopEvent=void 0,this.secondTouchStartEvent=void 0}}class Sc extends mc.a{constructor(e){super(),this.clickElement=e;const t=new Ac(this.clickElement);this.addDestroyHandler(()=>t.destroy());const n=new yc({eventListener:t});this.addDestroyHandler(()=>n.destroy());const r=e=>{e.type===gc.DoubleClick&&e.event.preventDefault()};n.on("Event",r),this.addDestroyHandler(()=>n.off("Event",r))}}var Rc=n(18),_c=n(1),bc=n(19),Pc=n(26),Ic=n(43),Cc=n(60),Nc=n(13);const wc={play:Hs.a.PLAY,pause:Hs.a.PAUSE,end:Hs.a.END,idle:Hs.a.PAUSE};class kc extends mc.a{constructor(e){super(),this.params=e,this.destroyPromise=new Promise(e=>{this.addDestroyHandler(()=>{e()})}),this.currentAdPlaybackController=void 0,this.playbackQueue=[],this.logAdStart=Object(is.a)(()=>{const e=this.getAdTypeForLogs(),t=this.playbackQueue.length,{logEvent:n}=this.params;n({event:bc.a.AdStart,params:{adPodsCount:t,adType:e}}),e===Pc.a.inroll&&n({event:bc.a.InrollAdStart,params:{adPodsCount:t}})}),this.logAdEnd=Object(is.a)(()=>{const e=this.getAdTypeForLogs(),t=this.playbackQueue.length,{logEvent:n}=this.params;e===Pc.a.inroll&&n({event:bc.a.InrollAdEnd,params:{adPodsCount:t}}),n({event:bc.a.AdEnd,params:{stopAdReason:this.destroyReason||Cc.a.AdCompleted,adPodsCount:t,adType:e}})}),this.adPodIndex=0,this.startPlayingAd=Object(is.a)(async()=>{for(this.logAdStart();this.adPodIndex<this.playbackQueue.length&&!this.isDestroyed;)await this.playAdPod(this.playbackQueue[this.adPodIndex]),this.adPodIndex++;this.logAdEnd(),this.destroy(Cc.a.AdCompleted)}),this.dispatchOnFirstAdPodStarted=Object(is.a)(()=>{this.params.onFirstAdPodStarted()}),this.updateAdPodCloseState=e=>{this.params.onAdPodCloseStateChange(e.getAdPodCloseState())},this.updateAdVolumeAvailabilityStateChange=e=>{this.params.onAdVolumeAvailabilityStateChange(e.getAdVolumeAvailabilityState())},this.updateAdPodTimeToSkip=e=>{const t=e.getAdPodTimeToSkip();this.params.onAdPodTimeToSkipChange(Object(cs.a)(t)?Object(Ks.k)(Math.ceil(t)):void 0)},this.playAdPod=async e=>{var t;let{adType:n,adViewer:r,additionalData:i,adDisplayConfig:a,adElementsSet:o}=e;if(0===r.getAdPodsCount())return void Nc.a.log("AdViewer is empty");const{logEvent:s}=this.params;if(s({event:bc.a.AdPodLoading,params:{adPodsCount:this.playbackQueue.length,adType:this.playbackQueue[this.adPodIndex].adPodType,additionalData:i}}),n===Pc.a.inroll){const{cueId:e}=i;s({event:bc.a.InrollAdPodStart,params:{adPodsCount:this.playbackQueue.length,cueId:e}}),r.setStatsRootFields({cueid:e})}const c=r.createPlaybackController(o.videoSlotElement,o.adSlotElement,R({videoSlotCanAutoPlay:!0,controlsSettings:this.params.getControlsSettings()},a));this.currentAdPlaybackController=c,this.updateAdPodDuration(c),this.params.onAdPodCurrentTimeChange(Object(Ks.k)(0)),this.params.onAdSkippableStateChange(c.getAdSkippableState()),this.updateAdPodCloseState(c),this.updateAdVolumeAvailabilityStateChange(c),c.subscribe("AdPlayingStateChange",()=>{this.updateAdPodPlayingStateChange()}),c.subscribe("AdMediaStateChange",()=>{this.updateAdPodPlayingStateChange()}),c.subscribe("AdRemainingTimeChange",()=>{const e=c.getAdPodRemainingTime(),t=this.updateAdPodDuration(c);this.params.onAdPodCurrentTimeChange(Object(Ks.k)(t-e)),this.updateAdPodTimeToSkip(c),this.updateAdPodPlayingStateChange()}),c.subscribe("AdInteraction",()=>{this.params.onAdInteraction()}),c.subscribe("AdSkippableStateChange",e=>{this.updateAdPodTimeToSkip(c),this.params.onAdSkippableStateChange(e.skippableState)}),c.subscribe("AdStartRejected",()=>{this.params.onAdStartRejected()}),c.subscribe("AdPodDurationChange",()=>{this.updateAdPodDuration(c)}),c.subscribe("AdPodStartRequest",()=>{this.params.onBeforeAdPodStart({adPlaybackController:c})}),c.subscribe("AdPodStarted",()=>{s({event:"AdPodStart",params:{adPodsCount:this.playbackQueue.length,adType:this.playbackQueue[this.adPodIndex].adPodType,additionalData:i}}),this.dispatchOnFirstAdPodStarted(),this.params.onAdPodStarted({adElementsSet:o}),this.updateAdPodPlayingStateChange(),this.updateAdPodDuration(c)});const l=()=>{this.params.onAdPodDurationChange(void 0),this.params.onAdPodCurrentTimeChange(void 0),this.params.onAdSkippableStateChange(!1),this.params.onAdPodTimeToSkipChange(void 0),this.params.onAdPodCloseStateChange(void 0)};c.subscribe("AdPodStopped",()=>{l(),this.params.onAdPodStopped()}),c.subscribe("AdPodSkipped",l),c.subscribe("AdContentSizeChange",()=>{const e=c.getAdContentSize();if(void 0===e)return;const{width:t,height:n}=e;this.params.onAdSizeChange({width:Object(Ks.j)(Object(cs.a)(t)?t:NaN),height:Object(Ks.j)(Object(cs.a)(n)?n:NaN)})}),c.subscribe("AdPodImpression",()=>{s({event:"AdPodImpression",params:{adPodsCount:this.playbackQueue.length,adType:this.playbackQueue[this.adPodIndex].adPodType,additionalData:i}})}),c.subscribe("AdPodError",e=>{s({event:"AdPodError",params:R({},e,{adPodsCount:this.playbackQueue.length,adType:this.playbackQueue[this.adPodIndex].adPodType,additionalData:i})})}),c.subscribe("AdClickThru",()=>{this.params.onAdClickThru(),s({event:"AdClickThru",params:{adPodsCount:this.playbackQueue.length,adType:this.playbackQueue[this.adPodIndex].adPodType,additionalData:i}})}),null!=(t=this.params.adConfig)&&t.skipAllAdPods&&c.subscribe("AdPodSkipped",()=>{this.destroy(Cc.a.AdSkipped)}),c.subscribe("AdPodCloseStateChange",()=>{this.updateAdPodCloseState(c)}),c.subscribe("AdVolumeAvailabilityStateChange",()=>{this.updateAdVolumeAvailabilityStateChange(c)}),await new Promise(e=>{c.subscribe("AdStopped",e),c.playAd(),this.params.onAdPodPlayingStateChange({adType:n,playingState:Hs.a.BUFFERING,expectedStalledReason:0===this.adPodIndex?Ic.a.AdStart:Ic.a.AdBetween})}),this.currentAdPlaybackController=void 0,s({event:bc.a.AdPodEnd,params:{adPodsCount:this.playbackQueue.length,adType:this.playbackQueue[this.adPodIndex].adPodType,additionalData:i}}),n===Pc.a.inroll&&(s({event:bc.a.InrollAdPodEnd,params:{adPodsCount:this.playbackQueue.length,cueId:i.cueId}}),r.setStatsRootFields({cueid:void 0}))},this.addDestroyHandler(()=>{this.currentAdPlaybackController&&(this.currentAdPlaybackController.stopAd(),this.currentAdPlaybackController=void 0)})}playAdViewers(e){this.isDestroyed||(this.playbackQueue.push(e),this.addDestroyHandler(()=>{e.adViewer.destroy()}),this.startPlayingAd())}resumeAd(){this.currentAdPlaybackController&&(this.currentAdPlaybackController.resumeAd(),this.updateAdPodPlayingStateChange())}pauseAd(){this.currentAdPlaybackController&&(this.currentAdPlaybackController.pauseAd(),this.updateAdPodPlayingStateChange())}skipAdPod(){this.currentAdPlaybackController&&this.currentAdPlaybackController.skipAd()}setVolume(e){this.currentAdPlaybackController&&this.currentAdPlaybackController.setAdVolume(e)}getDestroyPromise(){return this.destroyPromise}getAdTypeForLogs(){const[e]=this.playbackQueue;return e?e.adType:(this.params.onError(new Rc.a({code:_c.a.AD_TYPE_IS_NOT_RECOGNIZED,isFatal:!1})),"unrecognized")}updateAdPodPlayingStateChange(){if(!this.currentAdPlaybackController)return;const e=this.currentAdPlaybackController.getAdMediaState(),t=this.currentAdPlaybackController.getAdPlayingState(),n=this.playbackQueue[this.adPodIndex].adPodType,r=this.playbackQueue[this.adPodIndex].adElementsSet.videoSlotElement.src,i="stalled"===(null==e?void 0:e.name)&&r?{adType:n,playingState:Hs.a.BUFFERING,expectedStalledReason:Ic.a.AdOther}:{adType:n,playingState:wc[t],expectedStalledReason:void 0};this.params.onAdPodPlayingStateChange(i)}updateAdPodDuration(e){const t=Object(Ks.k)(e.getAdPodDuration());return this.params.onAdPodDurationChange(t),t}}var Lc={},Dc={checkExisting:!0},jc=0,Mc=function(e){return e},Vc=function(e){return e&&"function"===typeof e.dispatch?e.dispatch:e},Uc=function(e){return Array.isArray(e)?e.map(Vc):Vc(e)},Fc=L("Batch",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 1===t.length&&Array.isArray(t[0])?t[0]:t})),xc=Fc.getType(),Bc={},Hc=function(e){"function"===typeof console[e]&&(Bc[e]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.pop();Array.isArray(i)&&i.type===xc?i.forEach((function(t){console[e].apply(console,[].concat(n,[t]))})):(n.push(i),console[e].apply(console,n))})};for(var Yc in console)Hc(Yc);const Kc=L("STORE_AD_CONFIG"),Gc=L("STORE_UPDATE_AD_INFO"),Wc=L("STORE_PUT_AD_INFO"),Xc=L("STORE_PUT_IS_ORIGINAL_BROADCAST_AD_CUE_ID"),qc=L("STORE_PUT_ADBLOCK_DETECTED"),zc=L("STORE_PUT_ORIGINAL_BROADCAST_AD_CUES"),Qc=L("STORE_REFRESH_CUE"),Jc=L("STORE_REMOVE_CUE"),Zc=L("STORE_PUT_HAS_PREROLL"),$c=L("STORE_PUT_AD_SYNC_INIT"),el=L("STORE_UPDATE_ORIGINAL_AD_STATE"),tl=L("STORE_PUT_NATIVE_AD_CONTROLS_VISIBILITY"),nl=L("STORE_PUT_LAST_KNOWN_BANDWIDTH_ESTIMATE"),rl=L("STORE_AD_PUT_IN_STREAM_PLAYING_STATE"),il=L("STORE_PUT_NEXT_AD_INFO"),al=L("STORE_PUT_ENGINE"),ol=L("STORE_PUT_AUTOPLAY"),sl=L("STORE_PUT_START_STAGE"),cl=L("STORE_PUT_PRELOAD"),ll=L("STORE_PUT_ENCODER_STATE"),dl=L("STORE_ENCODER_ATTACHED"),ul=L("STORE_PUT_VOLUME_INFO"),hl=L("STORE_PUT_REQUIRE_USER_GESTURE_TO_UNMUTE"),fl=L("STORE_PUT_AUTOPLAY_IMPOSSIBLE"),pl=L("STORE_PUT_USER_VOLUME"),El=L("STORE_PUT_DURATION"),vl=L("STORE_PUT_VIDEO_SIZES"),Al=L("STORE_PUT_VIDEO_TYPE"),ml=L("STORE_PUT_PLAYING_STATE"),gl=L("STORE_PUT_CURRENT_TIME"),Ol=L("STORE_PUT_CURRENT_TIME_LOW_QUALITY"),Tl=L("STORE_PUT_VIDEO_INFO"),yl=L("STORE_PUT_FROM"),Sl=L("STORE_PUT_STREAM"),Rl=L("STORE_PUT_SOURCE_PARAMS"),_l=L("STORE_UPDATE_SOURCE_ID"),bl=L("STORE_PUT_STREAMS"),Pl=L("STORE_PUT_STREAMS_WITH_SUPPORT_INFO"),Il=L("STORE_PUT_START_POSITION"),Cl=L("STORE_PUT_IS_ONLINE"),Nl=L("STORE_PUT_FRAGMENT_DURATION"),wl=L("STORE_PUT_PROGRAM_DATE_TIME"),kl=L("STORE_PUT_DVR_START_TIME"),Ll=L("STORE_PUT_DVR_DURATION"),Dl=L("STORE_PUT_INIT_TIME"),jl=L("STORE_PUT_SKIN_DVR_START_TIME"),Ml=L("STORE_PUT_SKIN_DVR_DURATION"),Vl=L("STORE_PUT_PLAYBACK_RATE"),Ul=L("STORE_PUT_BUFFERING_RANGES"),Fl=L("STORE_PUT_ERROR_INFO"),xl=L("STORE_PUT_LAST_RECOVER_POSITION"),Bl=L("STORE_PUT_IS_ABR_SUPPORTED"),Hl=L("STORE_PUT_IS_ABR_ENABLED"),Yl=L("STORE_PUT_VIDEO_TRACK"),Kl=L("STORE_PUT_VIDEO_TRACKS",e=>[...e].sort(U)),Gl=L("STORE_PUT_USER_VIDEO_TRACK_PARAMS"),Wl=L("STORE_PUT_AUDIO_TRACK_VALUE"),Xl=L("STORE_PUT_AUDIO_TRACKS"),ql=L("STORE_PUT_USER_AUDIO_TRACK_PARAMS"),zl=L("STORE_PUT_VIDEO_TAG_READY_STATE"),Ql=L("STORE_PUT_TEXT_TRACKS"),Jl=L("STORE_PUT_TEXT_TRACK_ENABLED"),Zl=L("STORE_PUT_NATIVE_TEXT_TRACK_VISIBILITY"),$l=L("STORE_PUT_TEXT_TRACK_VALUE"),ed=L("STORE_PUT_USER_TEXT_TRACK_PARAMS"),td=L("STORE_CHANGE_TEXT_TRACK_PARAMETERS"),nd=L("ENABLE_TEXT_TRACK"),rd=L("STORE_PUT_SUBTITLES"),id=L("STORE_PUT_IS_FULLSCREEN"),ad=L("STORE_PUT_IS_PIP"),od=L("STORE_PUT_IS_VISIBLE"),sd=L("STORE_PUT_IS_DOCUMENT_VISIBLE"),cd=L("STORE_PUT_PAUSED_CAUSE_VISIBILITY_CHANGE"),ld=L("STORE_PUT_EXPECTED_STALLED"),dd=L("STORE_PUT_PREVIEW"),ud=L("STORE_PUT_WATCHED_TIME"),hd=L("STORE_PUT_TILE_META_INFO"),fd=L("STORE_PUT_RESOURCES_IDLE"),pd=L("STORE_PUT_SKIN_SIZE"),Ed=L("STORE_PUT_HIDDEN_CONTROLS"),vd=L("STORE_PUT_SHOW_PRELOADER"),Ad=L("STORE_PUT_SHOW_ERROR_SCREEN"),md=L("SKIN_PUT_SETTINGS_VISIBILITY"),gd=L("SKIN_PUT_SETTINGS_VISIBILITY_BEFORE_SKIN_CLICK"),Od=L("SKIN_PUT_SETTINGS_PAGE"),Td=L("SKIN_TOGGLE_SETTINGS_VISIBILITY"),yd=L("SKIN_PUT_LOGO_CONFIG"),Sd=L("STORE_PUT_CONTEXT_MENU_VISIBILITY_LOCK"),Rd=L("STORE_PUT_CONTEXT_MENU_VISIBILITY"),_d=L("STORE_PUT_CONTEXT_MENU_POSITION"),bd=L("STORE_PUT_SEEK_TAP_EVENT"),Pd=L("STORE_PUT_WAS_VOLUME_CHANGED"),Id=L("STORE_PUT_NATIVE_CONTROLS_VISIBILITY"),Cd=L("STORE_PUT_VIDEO_ELEMENT_STYLE"),Nd=L("STORE_ON_VIDEO_TAG_PLAYING_STATE_CHANGE"),wd=L("STORE_PUT_PRELOAD_DETAILS"),kd=L("STORE_LOG_EVENT"),Ld=L("STORE_PUT_FEATURES_PARAMS"),Dd=L("FEATURE_DISPATCH_ACTION"),jd=(L("FEATURE_DISPATCH_EVENT"),Object(Ks.k)(900));var Md=n(92);let Vd;!function(e){e.original="original"}(Vd||(Vd={}));class Ud{constructor(e,t){this.parent=e,this.element=document.createElement("div");const{style:n}=this.element;n.backgroundColor=function(e){switch(e){case Vd.original:return"rgba(0, 255, 0, 0.5)";default:throw new Error("Unexpected BroadcastAdType ["+e+"]")}}(t),n.width="10px",n.height="10px",n.cssFloat="left",n.marginRight="1px"}setVisibility(e){e?this.show():this.hide()}show(){this.parent.appendChild(this.element)}hide(){Object(Os.a)(this.element)}}class Fd{constructor(e){this.element=document.createElement("div"),e.appendChild(this.element);const{style:t}=this.element;t.position="absolute",t.bottom="1px",t.left="1px"}createIndicator(e){return new Ud(this.element,e)}}var xd=n(221);const Bd=Object(Ks.i)(6e5);let Hd;!function(e){e.INVALID_INROLL_FRAME="INVALID_INROLL_FRAME",e.INVALID_START="INVALID_START",e.CROSSED_BY_INVALID="CROSSED_BY_INVALID",e.MAX_DURATION="MAX_DURATION"}(Hd||(Hd={}));const Yd=Object(Ks.i)(5e3),Kd=Object(Ks.i)(1e4),Gd=Object(Ks.a)(Bd,Object(Ks.c)(Kd,3)),Wd=Object(Ks.i)(-Bd);class Xd extends Ec.a{constructor(){super(...arguments),this.adIntervals=[]}handleInrollFrame(e){if(!function(e){if(e.offset<Wd||e.offset>Gd)return!1;if(void 0===e.cutoff)return!0;if(e.cutoff<Wd||e.cutoff>Gd)return!1;const t=e.cutoff-e.offset;return t>=Yd&&t<=Bd}(e))return Nc.a.warn("invalid inroll frame:",e),void this.handleInvalidInrollFrame(e,Hd.INVALID_INROLL_FRAME);const t=this.adIntervals.find(t=>{let{cueId:n}=t;return n===e.cue_id});if(!t)return this.addAdIntervalByFastFrame(e);this.updateAdIntervalByInrollFrame(t,e)}validateAdIntervalsByTimestamp(e){for(let t=0;t<this.adIntervals.length;t++){const n=this.adIntervals[t];if(n.start>e)return;if(!n.isValid||n.isEndReceived)continue;if(e-n.start>Bd){this.invalidateAdInterval(n,Hd.MAX_DURATION);continue}const r=this.adIntervals[t+1];if(!r)return;r.start<=e&&this.invalidateAdInterval(n,Hd.CROSSED_BY_INVALID)}}handleInvalidInrollFrame(e,t){const n=this.adIntervals.find(t=>{let{cueId:n}=t;return n===e.cue_id});if(n)return this.invalidateAdInterval(n,t),void this.updateAdIntervalByInrollFrame(n,e);const r=W(e);this.invalidateAdInterval(r,t),this.pushAdInterval(r)}addAdIntervalByFastFrame(e){const t=W(e);return this.pushAdInterval(t),t.isValid?t:void 0}updateAdIntervalByInrollFrame(e,t){const n=t.pts+t.offset;if(Math.abs(e.start-n)>xd.a)return void this.invalidateAdInterval(e,Hd.INVALID_START);if(e.isEndReceived)return;const r=void 0!==t.cutoff,i=r?Object(Ks.a)(t.pts,t.cutoff):G(t.pts,e.start);e.isEndReceived=r,e.end=i,this.handleUpdatedAdInterval(e)}findCrossedAdIntervals(e){return this.adIntervals.filter(t=>e!==t&&(e.start<t.start?e.end>t.start:t.end>e.start))}pushAdInterval(e){const t=this.findCrossedAdIntervals(e);t.length&&this.invalidateAdInterval(e,Hd.CROSSED_BY_INVALID),this.adIntervals.push(e),this.adIntervals.sort((e,t)=>{let{start:n}=e,{start:r}=t;return n-r}),this.invalidate(t,Hd.CROSSED_BY_INVALID),e.isValid&&this.emit("AdIntervalUpdated",e)}handleUpdatedAdInterval(e){const t=this.findCrossedAdIntervals(e);if(t.length)return t.push(e),void this.invalidate(t,Hd.CROSSED_BY_INVALID);e.isValid&&this.emit("AdIntervalUpdated",e)}invalidate(e,t){e.forEach(e=>{this.invalidateAdInterval(e,t)})}invalidateAdInterval(e,t){e.isValid&&(e.isValid=!1,e.invalidateReason=t,this.emit("InvalidAdInterval",{reason:t,cueId:e.cueId}))}}const qd=Object(Ks.k)(15);var zd=n(192);class Qd{constructor(e){this.adType=e,this.ads=[],this.postAdsIds=[]}add(e){if(this.postAdsIds.indexOf(e.cueId)>-1)return;const t=this.findById(e.cueId);t?t.startTime=e.startTime:this.ads.push(X({},e,{adViewers:e.adViewers.reduce((e,t)=>e.concat(t.separateAdPods()),[])}))}getAdViewers(e,t){const[n,r]=Object(zd.a)(this.ads,n=>{let{startTime:r,endTime:i,cueId:a,adViewers:o}=n;if(a!==t)return!1;if(e<r)return!1;if(i-1e3*qd<e)return!1;for(const t of o){if(e+1e3*t.getAdDuration()<i)return!0}return!1});if(0===n.length)return[];this.postAdsIds.push(...n.map(e=>{let{cueId:t}=e;return t})),this.ads=r,n.sort((e,t)=>e.startTime-t.startTime);let i=Object(Ks.k)(0);const a=[];for(const{adViewers:o,endTime:s,cueId:c}of n)for(const t of o){const n=Object(Ks.a)(e,Object(Ks.c)(i,1e3));if(s-1e3*qd<n)break;s<Object(Ks.a)(n,Object(Ks.c)(t.getAdDuration(),1e3))||(a.push({adViewer:t,additionalData:{cueId:c},adType:this.adType}),i=Object(Ks.a)(i,Object(Ks.k)(t.getAdDuration())))}return a}findById(e){return this.ads.find(t=>{let{cueId:n}=t;return n===e})}}class Jd extends Ec.a{constructor(e,t,n,r,i){let a;super(),this.store=n,this.playerApi=r,this.onError=i,this.adIntervalStorage=new Xd,this.isEnabled=!0,this.adIndicators=void 0,this.inrolls=new Qd(Pc.a.inroll),this.overlays=new Qd(Pc.a.inrollOverlay),this.adIndicators=new Fd(t);const o=this.adIndicators.createIndicator(Vd.original);e.addEventListener("timeupdate",()=>{const t=this.store.getState(),n=B(t);if(a!==n){const e=void 0!==n;o.setVisibility(e),a=n}const r=K(t);r&&(this.adIntervalStorage.validateAdIntervalsByTimestamp(r),this.isEnabled&&!e.paused&&(this.store.dispatch(el()),this.handleInrolls(),this.handleOverlays()))}),this.adIntervalStorage.on("AdIntervalUpdated",e=>{this.emit("AdIntervalUpdated",{cueId:e.cueId,start:e.start,end:e.end})}),this.adIntervalStorage.on("InvalidAdInterval",e=>{let{cueId:t,reason:n}=e;Nc.a.warn("invalid ad interval: [cueId="+t+"] [reason="+n+"]"),this.onError(new Rc.a({code:_c.a.INVALID_METADATA,details:{cueId:t,reason:n},isFatal:!1})),this.emit("AdIntervalRemoved",t)})}handleInrollFrame(e){const t=this.adIntervalStorage.handleInrollFrame(e);if(!t)return Promise.resolve();const{cueId:n,start:r,end:i,isEndReceived:a}=t,o=a?i+1e3*qd:r+Bd,s="overlay"===e.ad_type;return this.addInroll(n,r,Object(Ks.i)(o),{isOverlay:s,inrollFrame:e})}setEnabled(e){this.isEnabled=e}async addInroll(e,t,n,r){let{isOverlay:i,inrollFrame:a}=r;const o=i?Pc.a.inrollOverlay:Pc.a.inroll;this.playerApi.callbacks.logEvent({event:bc.a.BroadcastAdReceived,params:{cueId:e,podStart:t,adType:o}});const s=this.playerApi.getMultiroll(),c=i?await s.inrollOverlay.loadViewers(z({},a)):await s.inroll.loadViewers(z({},a));if(0===c.length)return;const l=q(c);this.playerApi.callbacks.logEvent({event:bc.a.BroadcastAdInit,params:{cueId:e,podStart:t,duration:l,adPodsCount:c.length,adType:o}}),(i?this.overlays:this.inrolls).add({adViewers:c,cueId:e,startTime:t,endTime:n})}handleInrolls(){const e=this.store.getState(),t=K(e);if(!t)return;const n=B(e);if(!n)return;const r=this.inrolls.getAdViewers(t,n);r.length&&(Y(e)&&this.playerApi.stopAd({stopAdReason:Cc.a.AdTypeChange,data:{loadPositionAfterAd:{},adType:Pc.a.inroll}}),this.emit("InrollAdPlayRequest",r))}handleOverlays(){const e=this.store.getState(),{ad:{adInfo:t}}=e;if(Boolean(t))return;const n=K(e);if(!n)return;const r=B(e);if(!r)return;const i=this.overlays.getAdViewers(n,r);i.length&&this.emit("OverlayAdPlayRequest",i)}}class Zd{constructor(){this.stopReasonInternal=void 0}stop(e){this.stopReasonInternal=e}get stopReason(){return this.stopReasonInternal}}var $d=n(245),eu=n(15),tu=n(105),nu=n(144),ru=n(94);const iu=e=>{let{callback:t}=e;return t(),Qo.a};var au=n(307),ou=function(){return Math.random().toString(36).substring(7).split("").join(".")},su={INIT:"@@redux/INIT"+ou(),REPLACE:"@@redux/REPLACE"+ou(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ou()}};var cu=function(e){return"@@redux-saga/"+e},lu=cu("CANCEL_PROMISE"),du=cu("CHANNEL_END"),uu=cu("IO"),hu=cu("MATCH"),fu=cu("MULTICAST"),pu=cu("SAGA_ACTION"),Eu=cu("SELF_CANCELLATION"),vu=cu("TASK"),Au=cu("TASK_CANCEL"),mu=cu("TERMINATE"),gu=cu("LOCATION"),Ou=function(e){return null===e||void 0===e},Tu=function(e){return null!==e&&void 0!==e},yu=function(e){return"function"===typeof e},Su=function(e){return"string"===typeof e},Ru=Array.isArray,_u=function(e){return e&&yu(e.then)},bu=function(e){return e&&yu(e.next)&&yu(e.throw)},Pu=function e(t){return t&&(Su(t)||Nu(t)||yu(t)||Ru(t)&&t.every(e))},Iu=function(e){return e&&yu(e.take)&&yu(e.close)},Cu=function(e){return yu(e)&&e.hasOwnProperty("toString")},Nu=function(e){return Boolean(e)&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype},wu=function(e,t){var n;void 0===t&&(t=!0);var r=new Promise((function(r){n=setTimeout(r,e,t)}));return r[lu]=function(){clearTimeout(n)},r},ku=function(e){return function(){return e}}(!0),Lu=function(){};var Du,ju=function(e){return e},Mu=("function"===typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator,function(e,t){se(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(n){e[n]=t[n]}))}),Vu=function(e){throw e},Uu=function(e){return{value:e,done:!0}},Fu=function(e){return Array.apply(null,new Array(e))},xu=function(e){return function(t){return e(Object.defineProperty(t,pu,{value:!0}))}},Bu=function(e){return e===mu},Hu=function(e){return e===Au},Yu=function(e){return Bu(e)||Hu(e)},Ku=function(e){return Ee(e,4)},Gu=function(e,t){var n;return(n={})[uu]=!0,n.combinator=!1,n.type=e,n.payload=t,n},Wu=Te.bind(null,wu),Xu=be,qu=[],zu=0,Qu=function(e){return function(t){return e.some((function(e){return Le(e)(t)}))}},Ju=function(e){return function(t){return e(t)}},Zu=function(e){return function(t){return t.type===String(e)}},$u=function(e){return function(t){return t.type===e}},eh=function(){return ku},th={type:du},nh=function(e){return e&&e.type===du},rh=0,ih=function(){return++rh},ah=((Du={}).TAKE=function(e,t,n){var r=t.channel,i=void 0===r?e.channel:r,a=t.pattern,o=t.maybe,s=function(e){e instanceof Error?n(e,!0):!nh(e)||o?n(e):n(mu)};try{i.take(s,Tu(a)?Le(a):null)}catch(c){return void n(c,!0)}n.cancel=s.cancel},Du.PUT=function(e,t,n){var r=t.channel,i=t.action,a=t.resolve;Ie((function(){var t;try{t=(r?r.put:e.dispatch)(i)}catch(o){return void n(o,!0)}a&&_u(t)?Me(t,n):n(t)}))},Du.ALL=function(e,t,n,r){var i=r.digestEffect,a=rh,o=Object.keys(t);if(0!==o.length){var s=he(t,n);o.forEach((function(e){i(t[e],a,s[e],e)}))}else n(Ru(t)?[]:{})},Du.RACE=function(e,t,n,r){var i=r.digestEffect,a=rh,o=Object.keys(t),s=Ru(t)?Fu(o.length):{},c={},l=!1;o.forEach((function(e){var t=function(t,r){l||(r||Yu(t)?(n.cancel(),n(t,r)):(n.cancel(),l=!0,s[e]=t,n(s)))};t.cancel=Lu,c[e]=t})),n.cancel=function(){l||(l=!0,o.forEach((function(e){return c[e].cancel()})))},o.forEach((function(e){l||i(t[e],a,c[e],e)}))},Du.CALL=function(e,t,n,r){var i=t.context,a=t.fn,o=t.args,s=r.task;try{var c=a.apply(i,o);if(_u(c))return void Me(c,n);if(bu(c))return void He(e,c,s.context,rh,fe(a),!1,n);n(c)}catch(l){n(l,!0)}},Du.CPS=function(e,t,n){var r=t.context,i=t.fn,a=t.args;try{var o=function(e,t){Ou(e)?n(t):n(e,!0)};i.apply(r,a.concat(o)),o.cancel&&(n.cancel=o.cancel)}catch(s){n(s,!0)}},Du.FORK=function(e,t,n,r){var i=t.context,a=t.fn,o=t.args,s=t.detached,c=r.task,l=function(e){var t=e.context,n=e.fn,r=e.args;try{var i=n.apply(t,r);if(bu(i))return i;var a=!1;return de((function(e){return a?{value:e,done:!0}:(a=!0,{value:i,done:!_u(i)})}))}catch(o){return de((function(){throw o}))}}({context:i,fn:a,args:o}),d=function(e,t){return e.isSagaIterator?{name:e.meta.name}:fe(t)}(l,a);Ce((function(){var t=He(e,l,c.context,rh,d,s,void 0);s?n(t):t.isRunning()?(c.queue.addTask(t),n(t)):t.isAborted()?c.queue.abort(t.error()):n(t)}))},Du.JOIN=function(e,t,n,r){var i=r.task,a=function(e,t){if(e.isRunning()){var n={task:i,cb:t};t.cancel=function(){e.isRunning()&&ce(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if(Ru(t)){if(0===t.length)return void n([]);var o=he(t,n);t.forEach((function(e,t){a(e,o[t])}))}else a(t,n)},Du.CANCEL=function(e,t,n,r){var i=r.task;t===Eu?Ve(i):Ru(t)?t.forEach(Ve):Ve(t),n()},Du.SELECT=function(e,t,n){var r=t.selector,i=t.args;try{n(r.apply(void 0,[e.getState()].concat(i)))}catch(a){n(a,!0)}},Du.ACTION_CHANNEL=function(e,t,n){var r=t.pattern,i=De(t.buffer),a=Le(r),o=function t(n){nh(n)||e.channel.take(t,a),i.put(n)},s=i.close;i.close=function(){o.cancel(),s()},e.channel.take(o,a),n(i)},Du.CANCELLED=function(e,t,n,r){n(r.task.isCancelled())},Du.FLUSH=function(e,t,n){t.flush(n)},Du.GET_CONTEXT=function(e,t,n,r){n(r.task.context[t])},Du.SET_CONTEXT=function(e,t,n,r){var i=r.task;Mu(i.context,t),n()},Du),oh=null,sh=[],ch=function(){oh=null,sh.length=0},lh=function(e){function t(e){var t=e.getState,r=e.dispatch;return n=Ye.bind(null,se({},l,{context:a,channel:s,dispatch:r,getState:t,sagaMonitor:c})),function(e){return function(t){c&&c.actionDispatched&&c.actionDispatched(t);var n=e(t);return s.put(t),n}}}var n,r=void 0===e?{}:e,i=r.context,a=void 0===i?{}:i,o=r.channel,s=void 0===o?je():o,c=r.sagaMonitor,l=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(r,["context","channel","sagaMonitor"]);return t.run=function(){return n.apply(void 0,arguments)},t.setContext=function(e){Mu(a,e)},t},dh=function(e){return{done:!0,value:e}},uh={};const hh=L("DELAYED_ACTION"),fh=L("EXTERNAL_PLAYBACK_PUT_EXTERNAL_PLAYBACK_CONFIG"),ph=L("EXTERNAL_PLAYBACK_PUT_EXTERNAL_PLAYBACK_POSSIBLE"),Eh=L("EXTERNAL_PLAYBACK_CLICK_EXTERNAL_PLAYBACK"),vh=L("EXTERNAL_PLAYBACK_TOUCH_EXTERNAL_PLAYER_LIST"),Ah=L("EXTERNAL_PLAYBACK_REQUEST_EXTERNAL_PLAYER_CSRF_TOKEN"),mh=L("EXTERNAL_PLAYBACK_PUT_EXTERNAL_PLAYER_CSRF"),gh=L("EXTERNAL_PLAYBACK_START_EXTERNAL_PLAYER_CSRF_EXPIRATION"),Oh=L("EXTERNAL_PLAYBACK_PUT_EXTERNAL_PLAYER_LIST_STATUS"),Th=L("EXTERNAL_PLAYBACK_REQUEST_EXTERNAL_PLAYER_LIST"),yh=L("EXTERNAL_PLAYBACK_CLICK_EXTERNAL_PLAYER_LIST_REFRESH_BUTTON"),Sh=L("EXTERNAL_PLAYBACK_CLICK_EXTERNAL_PLAYER_LIST_CLOSE_BUTTON"),Rh=L("EXTERNAL_PLAYBACK_PUT_EXTERNAL_PLAYER_LIST"),_h=L("EXTERNAL_PLAYBACK_CLICK_EXTERNAL_PLAYER_BUTTON"),bh=L("EXTERNAL_PLAYBACK_PUT_EXTERNAL_PLAYER_ACTIVATION"),Ph=L("EXTERNAL_PLAYBACK_CLOSE_EXTERNAL_PLAYER_LIST_EVENTUALLY"),Ih=L("EXTERNAL_PLAYBACK_PUT_EXTERNAL_PLAYER_STATUS"),Ch=L("EXTERNAL_PLAYBACK_ACTIVATED_POPUP_VISIBILITY"),Nh=L("EXTERNAL_PLAYBACK_REFRESH_EXTERNAL_PLAYER_LIST_ON_DOCUMENT_VISIBLE"),wh=L("NATIVE_SKIN_CLICK_VIDEO"),kh=L("PING_STRM_AND_RECOVER_BY_ONLINE"),Lh=L("SKIN_CHANGE_VOLUME"),Dh=L("SKIN_START_CHANGE_VOLUME"),jh=L("SKIN_FINISH_CHANGE_VOLUME"),Mh=L("SKIN_TOGGLE_MUTED"),Vh=(L("SKIN_CLICK_PLAY_BUTTON"),L("SKIN_CLICK_REPORT_BUTTON"),L("SKIN_CLICK_BRAND_LOGO_BUTTON"),L("SKIN_CLICK_DEBUG_DOWNLOAD_BUTTON"),L("SKIN_SEEK_TO_LIVE"),L("SKIN_SEEK")),Uh=(L("SKIN_SEEK_BY_STEP"),L("SKIN_SEEK_START")),Fh=L("SKIN_SEEK_END"),xh=(L("SKIN_SEEK_MOVE"),L("SKIN_HANDLE_KEY_DOWN")),Bh=L("SKIN_HANDLE_KEY_UP"),Hh=(L("SKIN_CHANGE_VIDEO_TRACK_VALUE"),L("SKIN_CHANGE_AUDIO_TRACK_VALUE"),L("SKIN_TOGGLE_TEXT_TRACK"),L("SKIN_CHANGE_TEXT_TRACK_VALUE"),L("SKIN_TOGGLE_FULLSCREEN")),Yh=L("SKIN_CLICK_CONTEXT_MENU"),Kh=(L("SKIN_SEEK_EVENT_DIRECTION_CHANGE"),L("SKIN_CHANGE_PLAYBACK_RATE"),L("SKIN_MOUSE_MOTIONLESS")),Gh=L("SKIN_MOUSE_HOVER_CHANGE"),Wh=L("SKIN_CONTROLS_MOUSE_HOVER_CHANGE"),Xh=L("SKIN_PUT_VISIBILITY_ON_INIT"),qh=L("SKIN_PUT_MOUSE_MOTIONLESS"),zh=L("SKIN_PUT_MOUSE_MOTIONLESS_TIMER_ID"),Qh=L("PUT_MOBILE_BOTTOM_CONTROLS_VISIBILITY"),Jh=(L("SHOW_MOBILE_BOTTOM_CONTROLS"),L("MOBILE_SKIN_TAPPED_CHANGE")),Zh=(L("SKIN_CLICK_LOGO"),L("SKIN_DOCUMENT_FOCUS_OUT"),L("SKIN_PUT_TITLE_SETTINGS")),$h=L("SKIN_TOGGLE_PLAY_PAUSE"),ef=L("SKIN_LOG_SEEK_EVENT"),tf=(L("SKIN_TOUCH_START"),L("SKIN_TOUCH_END"),L("SKIN_TOUCH_MOVE"),L("SKIN_PUT_VERTICAL_TOUCH_DISTANCE")),nf=L("SKIN_PUT_HORIZONTAL_TOUCH_DISTANCE"),rf=L("SKIN_PUT_USE_NATIVE_SUBTITLES"),af=(L("SKIN_TIMELINE_TOUCH_START"),L("SKIN_TIMELINE_TOUCH_END"),L("SKIN_PUT_TIMELINE_TOUCH_STARTED")),of=(L("SKIN_LOAD_TIMELINE_HI_RES_PREVIEW_IMAGE"),L("SKIN_LOAD_TIMELINE_LOW_RES_PREVIEW_IMAGE_INTERNAL"),L("SKIN_LOAD_TIMELINE_HI_RES_PREVIEW_IMAGE_INTERNAL"),L("SKIN_LOAD_TIMELINE_LOW_RES_PREVIEW_IMAGE"),L("SKIN_PUT_TIMELINE_PREVIEW_IMAGE")),sf=L("SKIN_CLEAR_TIMELINE_PREVIEW_IMAGE"),cf=L("SKIN_CLEAR_TIMELINE_PREVIEW_IMAGES"),lf=L("SKIN_CONFIRM_START_POSITION"),df=L("SKIN_CANCEL_START_POSITION"),uf=L("SKIN_DISABLE_START_POSITION_CONFIRMATION"),hf=L("SKIN_SET_FOCUS_RESTORATION_EXPECTED"),ff=(L("SHOW_SKIN"),L("HANDLE_POINTER_EVENT"),L("HANDLE_SCREEN_CLICK"),L("HANDLE_SCREEN_DOUBLE_CLICK"),L("HANDLE_SCREEN_MOUSE_MOVE")),pf=(L("HANDLE_SCREEN_MOUSE_ENTER"),L("HANDLE_SCREEN_MOUSE_LEAVE"),L("SET_LOGO_WIDGET_SETTINGS")),Ef=L("SET_LOGO_WIDGET_FORCE_EXPANDED"),vf=L("SET_LOGO_WIDGET_ACTION_STATUS"),Af=(L("CALL_LOGO_WIDGET_ACTION"),L("DOCUMENT_CAPTURE_CLICK")),mf=(L("SKIN_SHARE_BUTTON_CLICK"),{inStreamPlayingState:void 0,adConfig:void 0,adInfo:void 0,originalBroadcastAdCueId:void 0,originalBroadcastAdCues:{},adblockDetected:!1,hasPreroll:!1,adSyncInit:!1,nextAdInfo:void 0,nativeAdControlsVisibility:!0});var gf=n(73),Of=n(209),Tf=n(40),yf=n(202);const Sf=Object(Ks.i)(5e3);var Rf=n(110);const _f=Object(Ks.k)(300);let bf=Object(Ks.k)(0);const Pf=Object(Ks.i)(5e3),If=Object(Ks.i)(1e4),Cf=Object(Ks.i)(6e4);var Nf=n(96),wf=n(117);let kf;!function(e){e.PLAY="play",e.PAUSE="pause",e.REPLAY="replay"}(kf||(kf={}));const Lf=Object(Ks.i)(2e3);var Df=n(62);const jf=Object(Ks.i)(1e3),Mf={reason:"recoverStreamByReturnToOnline",delay:0,rawData:0};var Vf=n(53);let Uf;!function(e){e.DOWNLOAD_DEBUG="DOWNLOAD_DEBUG",e.CLOSE_CONTEXT_MENU="CLOSE_CONTEXT_MENU",e.COPY_LINK="COPY_LINK",e.COPY_LINK_WITH_TIME="COPY_LINK_WITH_TIME",e.COPY_VSID="COPY_VSID",e.COPY_HTML="COPY_HTML"}(Uf||(Uf={}));var Ff=n(142),xf=n.n(Ff);let Bf;!function(e){e.LOGO_WATERMARK="player_watermark",e.BRAND_LOGO="yandex_logo",e.CONTEXT_MENU="player_context_menu",e.SHARE_BUTTON="player_share_button",e.RECOMMENDATIONS="player_recommendations"}(Bf||(Bf={}));Object(Ks.k)(10),Object(Ks.k)(10);const Hf=Object(Ks.k)(5);var Yf=n(32);let Kf;!function(e){e.INDEX="INDEX",e.PLAYBACK_RATE="PLAYBACK_RATE",e.VIDEO_TRACK="VIDEO_TRACK",e.AUDIO_TRACK="AUDIO_TRACK",e.TEXT_TRACK="TEXT_TRACK"}(Kf||(Kf={}));const Gf=Object(Ks.i)(3e3),Wf=Object(Ks.i)(Gf/2);var Xf=n(59),qf=n(68),zf=n(72),Qf=n(98);const Jf=[Pc.a.midroll,Pc.a.postroll,Pc.a.preroll];let Zf,$f;var ep=n(10);n(147);let tp;!function(e){e.OK="OK",e.SLOW="SLOW",e.UNKNOWN="UNKNOWN"}(tp||(tp={}));const np=["ts","m4s","m4f"],rp=e=>{let{fragDuration:t,downloadTime:n}=e;return n>.9*t},ip=e=>{let{fragDuration:t,timings:n}=e;const r=n.filter(e=>{const{name:t,duration:n,encodedBodySize:r,decodedBodySize:i,transferSize:a}=e;if(void 0===t||void 0===n)return!1;const o=Number(r||i||a);return!(isNaN(o)||o<1024)&&-1!==np.indexOf(Object(fs.c)(t).toLowerCase())}).slice(-5).map(e=>{let{duration:t}=e;return Object(Ks.i)(t)});if(0===r.length)return tp.UNKNOWN;const i=(o=.33,0===(a=r).length?Object(Ks.i)(0):a.reduce((e,t)=>Object(Ks.a)(Object(Ks.c)(e,o),Object(Ks.c)(t,1-o)),a[0]));var a,o;return rp({fragDuration:t,downloadTime:i})?tp.SLOW:tp.OK};var ap=n(56);const op=Object(Ks.k)(1);var sp=n(87),cp=n(330),lp=n(111),dp=n(82),up=n(158),hp=n(57),fp=n.n(hp);const pp=/<\s*\w+?[^>]*>|<\s*\/\s*\w+?>/g,Ep=/<script[\d\D]*?>([\d\D]*?<\/script\s*>)?/gm,vp=L("SHARING_RESET"),Ap=L("SHARING_PUT"),mp={link:void 0,html:void 0,title:void 0,text:void 0,showShareButtonInFullscreenOnly:!1};var gp=n(52);var Op=n(331),Tp=n(132);const yp={size:n(322).a,width:Object(Ks.j)(0),height:Object(Ks.j)(0),hiddenControls:[],useNativeControls:!1,useNativeFullscreen:!1,useNativeSubtitles:!1,nativeControlsVisibility:!0,contextMenuPosition:void 0,contextMenuVisibility:!1,contextMenuVisibilityLock:!1,showReportButton:!1,showBrandLogo:!1,showUnmuteButtonForAll:!1,showStartScreen:!0,isMobileSkin:!1,showPreloader:!1,seeking:!1,volumeChanging:!1,settingsVisible:!1,settingsVisibilityBeforeDocumentClick:!1,mouseMotionlessTimeoutId:0,skinMouseHovered:!1,controlMouseHovered:!1,mouseMotionless:!0,skinVisibilityOnInit:!0,mobileBottomControlsVisibility:!1,mobileSkinTapped:!1,seekTapEvent:void 0,startPositionConfirmation:void 0,primaryColor:Tp.a,secondaryColor:Tp.b,title:{isVisible:!1,visibleWithSkinOnly:!1,name:null,description:null},skinDVRStartTime:Object(Ks.k)(0),skinDVRDuration:Object(Ks.k)(0),verticalTouchDistance:Object(Ks.j)(0),horizontalTouchDistance:Object(Ks.j)(0),timelineTouchStarted:!1,timelinePreviewImages:{},logoWidget:void 0,focusRestorationExpected:!1,handleVideoTagClickWhenHidingNativeControls:!0,adInteractionActive:!1};var Sp=n(247);let Rp;!function(e){e.ApiPlay="ApiPlay",e.VolumeChange="VolumeChange",e.MuteChange="MuteChange"}(Rp||(Rp={}));var _p=n(127),bp=n(153);const Pp={startPosition:{},additionalParams:_p.a,adConfig:void 0,withCredentials:!1,loop:!1,preview:"",logoConfig:void 0,shareConfig:void 0,videoInfo:{}};var Ip=n(195);const Cp={2:_c.a.RAA_TAKING_2SEC,10:_c.a.RAA_TAKING_10SEC},Np=Object(Ks.i)(500);var wp=n(317);const kp=Object(Ks.g)(-1),Lp={name:Object(wp.a)("TRACK_AUTO"),value:"auto",bitrate:kp};let Dp;!function(e){e.VideoIsNotPausedOnInit="VideoIsNotPausedOnInit",e.DetectByInterval="DetectByInterval",e.VideoPlayEvent="VideoPlayEvent",e.PlayCallback="PlayCallback"}(Dp||(Dp={}));var jp=n(28),Mp=n(23),Vp=n(36);let Up;!function(e){e.firstNetworkAdSDK="first.network.adsdk",e.firstNetworkHls="first.network.hls",e.firstNetworkMpd="first.network.mpd",e.firstNetworkMp4="first.network.mp4",e.firstNetworkNative="first.network.native",e.firstNetworkYandex="first.network.yandex",e.firstNetworkAdSDKHls="first.network.adsdk.hls",e.firstNetworkAdSDKMpd="first.network.adsdk.mpd",e.firstNetworkAdSDKMp4="first.network.adsdk.mp4",e.firstNetworkAdSDKNative="first.network.adsdk.native",e.firstNetworkAdSDKYandex="first.network.adsdk.yandex",e.setSourceNetworkAdSDK="setsource.network.adsdk",e.setSourceNetworkHls="setsource.network.hls",e.setSourceNetworkMpd="setsource.network.mpd",e.setSourceNetworkMp4="setsource.network.mp4",e.setSourceNetworkNative="setsource.network.native",e.setSourceNetworkYandex="setsource.network.yandex",e.setSourceNetworkAdSDKHls="setsource.network.adsdk.hls",e.setSourceNetworkAdSDKMpd="setsource.network.adsdk.mpd",e.setSourceNetworkAdSDKMp4="setsource.network.adsdk.mp4",e.setSourceNetworkAdSDKNative="setsource.network.adsdk.native",e.setSourceNetworkAdSDKYandex="setsource.network.adsdk.yandex"}(Up||(Up={}));var Fp=n(123),xp=n(138),Bp=n(91);let Hp;!function(e){e.firstLoadSource="firstloadsource",e.yaFirstFrameDecodedMp4="ya.firstframedecoded.mp4",e.yaFirstFrameDecodedMpd="ya.firstframedecoded.mpd",e.yaFirstFrameDecodedHls="ya.firstframedecoded.hls",e.yaFirstFrameDecodedYandex="ya.firstframedecoded.yandex",e.yaFirstFrameDecodedNative="ya.firstframedecoded.native",e.yaFirstFrameDecodedAdSDK="ya.firstframedecoded.adsdk",e.yaFirstFrameShownMp4="ya.firstframeshown.mp4",e.yaFirstFrameShownMPD="ya.firstframeshown.mpd",e.yaFirstFrameShownHls="ya.firstframeshown.hls",e.yaFirstFrameShownYandex="ya.firstframeshown.yandex",e.yaFirstFrameShownNative="ya.firstframeshown.native",e.yaFirstFrameShownAdSDK="ya.firstframeshown.adsdk",e.autoplayFalse="autoplayfalse",e.firstStartAdSDKFailed="firststart.adsdk.failed",e.firstStartAdSDK="firststart.adsdk",e.firstStartYandex="firststart.yandex",e.firstStartHls="firststart.hls",e.firstStartMp4="firststart.mp4",e.firstStartMpd="firststart.mpd",e.firstStartNative="firststart.native",e.firstStartAdSDKYandex="firststart.adsdk.yandex",e.firstStartAdSDKHls="firststart.adsdk.hls",e.firstStartAdSDKMpd="firststart.adsdk.mpd",e.firstStartAdSDKMp4="firststart.adsdk.mp4",e.firstStartAdSDKNative="firststart.adsdk.native"}(Hp||(Hp={}));const Yp={[ep.a.HLS]:Hp.firstStartHls,[ep.a.MPD]:Hp.firstStartMpd,[ep.a.MP4]:Hp.firstStartMp4,[ep.a.NATIVE]:Hp.firstStartNative,[ep.a.YANDEX]:Hp.firstStartYandex,AD:Hp.firstStartAdSDK},Kp={[ep.a.HLS]:Hp.firstStartAdSDKHls,[ep.a.MPD]:Hp.firstStartAdSDKMpd,[ep.a.MP4]:Hp.firstStartAdSDKMp4,[ep.a.NATIVE]:Hp.firstStartAdSDKNative,[ep.a.YANDEX]:Hp.firstStartAdSDKYandex,AD:Hp.firstStartAdSDK},Gp={[ep.a.HLS]:Hp.yaFirstFrameDecodedHls,[ep.a.MPD]:Hp.yaFirstFrameDecodedMpd,[ep.a.MP4]:Hp.yaFirstFrameDecodedMp4,[ep.a.NATIVE]:Hp.yaFirstFrameDecodedNative,[ep.a.YANDEX]:Hp.yaFirstFrameDecodedYandex,AD:Hp.yaFirstFrameDecodedAdSDK},Wp={[ep.a.HLS]:Hp.yaFirstFrameShownHls,[ep.a.MPD]:Hp.yaFirstFrameShownMPD,[ep.a.MP4]:Hp.yaFirstFrameShownMp4,[ep.a.NATIVE]:Hp.yaFirstFrameShownNative,[ep.a.YANDEX]:Hp.yaFirstFrameShownYandex,AD:Hp.yaFirstFrameShownAdSDK},Xp={[ep.a.HLS]:Up.firstNetworkHls,[ep.a.MPD]:Up.firstNetworkMpd,[ep.a.MP4]:Up.firstNetworkMp4,[ep.a.NATIVE]:Up.firstNetworkNative,[ep.a.YANDEX]:Up.firstNetworkYandex,AD:Up.firstNetworkAdSDK},qp={[ep.a.HLS]:Up.firstNetworkAdSDKHls,[ep.a.MPD]:Up.firstNetworkAdSDKMpd,[ep.a.MP4]:Up.firstNetworkAdSDKMp4,[ep.a.NATIVE]:Up.firstNetworkAdSDKNative,[ep.a.YANDEX]:Up.firstNetworkAdSDKYandex,AD:Up.firstNetworkAdSDK},zp={[ep.a.HLS]:Up.setSourceNetworkHls,[ep.a.MPD]:Up.setSourceNetworkMpd,[ep.a.MP4]:Up.setSourceNetworkMp4,[ep.a.NATIVE]:Up.setSourceNetworkNative,[ep.a.YANDEX]:Up.setSourceNetworkYandex,AD:Up.setSourceNetworkAdSDK},Qp={[ep.a.HLS]:Up.setSourceNetworkAdSDKHls,[ep.a.MPD]:Up.setSourceNetworkAdSDKMpd,[ep.a.MP4]:Up.setSourceNetworkAdSDKMp4,[ep.a.NATIVE]:Up.setSourceNetworkAdSDKNative,[ep.a.YANDEX]:Up.setSourceNetworkAdSDKYandex,AD:Up.setSourceNetworkAdSDK};let Jp=-1;const Zp={sourceStart:!1,yaFirstFrameDecoded:!1,yaFirstFrameShown:!1},$p={onCurrentTimeChange:Qo.a,onDurationChange:Qo.a,onVolumeChange:Qo.a,onStateChange:Qo.a,onSeek:Qo.a,onAdStateChange:Qo.a,onBeforeAdPodStart:Qo.a,onAdPodStart:Qo.a,onFullScreenChange:Qo.a,onErrorScreenVisibilityChange:Qo.a,onError:Qo.a,onRecover:Qo.a,onUserAction:Qo.a,onVideoTrackChange:Qo.a,onAudioTrackChange:Qo.a,onTextTrackChange:Qo.a,onThumbnailTileGeneralMetaInfoChange:Qo.a,onVideoTracksChange:Qo.a,onAudioTracksChange:Qo.a,onTextTracksChange:Qo.a,onSubtitlesChange:Qo.a,onVideoTypeChange:Qo.a,onPlaybackRateChange:Qo.a,onOriginalBroadcastAdStateChange:Qo.a,onAdblockDetected:Qo.a,onChangeStream:Qo.a,onSetSourceRequest:Qo.a,onFeatureEvent:Qo.a,onSkinReady:Qo.a,onContentImpression:Qo.a,onResourcesIdle:Qo.a,onVisualStateChange:Qo.a,onBufferingRangesChange:Qo.a,onStartStageChange:Qo.a,onVideoSizeChange:Qo.a,onVideoReadyStateChange:Qo.a,onVideoClickerEvent:Qo.a,onLogoWidgetActionCall:Qo.a,logEvent:Qo.a,onNextAdRemainingTimeChange:Qo.a,onAdSDKVersionDefined:Qo.a,onStreamsWithSupportInfoChange:Qo.a,onEngineChange:Qo.a,onNetworkStatusChange:Qo.a,onAdSkippableStateChange:Qo.a,onAdPodCloseStateChange:Qo.a,onAdPodDurationChange:Qo.a,onAdPodCurrentTimeChange:Qo.a,onAdPodTimeToSkipChange:Qo.a,onAdVolumeAvailabilityStateChange:Qo.a,onAdInteraction:Qo.a};let eE,tE,nE;!function(e){e.Internal="internal",e.Api="api",e.Cache="cache"}(eE||(eE={})),function(e){e.ON="ON",e.OFF="OFF"}(tE||(tE={})),function(e){e.setSource="setSource",e.destroy="destroy",e.end="end"}(nE||(nE={}));var rE=n(309),iE=n(122),aE=n(134),oE=n(54),sE=n(193),cE=n(63),lE=n(61),dE=n(240);const uE=["yandex.ru","yandex.net","yastatic.net","yandex-team.ru","kinopoisk.ru"],hE=function(e){void 0===e&&(e=window);const t=e.MediaSource||e.WebKitMediaSource;return t&&Object(as.a)(t.isTypeSupported)&&!function(e){void 0===e&&(e=window);const t=e.SourceBuffer||e.WebKitSourceBuffer;return!!t&&!(t.prototype&&Object(as.a)(t.prototype.appendBuffer)&&Object(as.a)(t.prototype.remove))}(e)?t:void 0}();var fE=n(41),pE=n(143);const EE=Object(pE.a)(),vE="detect.probe_mse_support.success",AE=Object(Ks.i)(2592e5),mE=Object(is.a)(()=>{if(void 0===hE)return Promise.reject(new Error("MSE is not supported"));if(function(){if(!EE)return!1;try{return void 0!==window.top.WEB_NTP_VERSION}catch(e){return!1}}())return Promise.resolve(hE);Object(Mp.c)(vE),Object(Mp.c)("detect.probe_mse_support.fail");if(function(){try{const e=fE.a.getItem("videoplayer-supported-mse");if(null===e)return;const{value:t,time:n,version:r}=JSON.parse(e);if(Date.now()-n>AE)return void fE.a.removeItem("videoplayer-supported-mse");if("1"!==r)return;return t||void 0}catch(e){return}}())return Object(Mp.a)(vE),Promise.resolve(hE);const e=document.createElement("video"),t=new hE,n=URL.createObjectURL(t);let r,i;const a=new Promise((a,o)=>{r=()=>{a(hE);try{fE.a.setItem("videoplayer-supported-mse",JSON.stringify({value:!0,time:Date.now(),version:"1"}))}catch(e){}},i=()=>o(new Error("MSE is not supported")),t.addEventListener("sourceopen",r),e.addEventListener("error",i),e.addEventListener("durationchange",i),e.src=n});return a.then(()=>Object(Mp.a)(vE)).catch(()=>Object(Mp.a)("detect.probe_mse_support.fail")).then(()=>{URL.revokeObjectURL(n),t.removeEventListener("sourceopen",r),e.removeEventListener("error",i),e.removeEventListener("durationchange",i)}),a});Object(ss.a)(mE());var gE=n(101);const OE=function(e){void 0===e&&(e=window);const t=Object(Po.a)(e).toLowerCase();return/yandexstation.*yandexio/.test(t)||/station.*crosswalk/.test(t)}();var TE=n(71);const yE={supported:!0,engine:ep.a.NATIVE},SE={supported:!0,engine:ep.a.HLS};var RE=n(207),_E=n(78);const bE=function(e){return void 0===e&&(e=window),/Chrome/.test(e.navigator.userAgent)&&/Google Inc/.test(e.navigator.vendor)&&!Object(pE.a)(e)}(),PE=function(e){return void 0===e&&(e=window),/firefox/.test(e.navigator.userAgent.toLowerCase())}();var IE=n(251),CE=n(203),NE=n(185);let wE;!function(e){e.fairplay="fairplay",e.playready="playready",e.widevine="widevine"}(wE||(wE={}));var kE=n(65);const LE={[wE.fairplay]:[kE.a,kE.b,kE.c],[wE.widevine]:[kE.e],[wE.playready]:[kE.d]},DE=(jE=Object(NE.a)(LE),[].concat.apply([],jE));var jE,ME=n(157);let VE,UE;!function(e){e.YandexBrowserLinux="YandexBrowserLinux",e.OldYandexBrowser="OldYandexBrowser",e.WebKitMediaKeys="WebKitMediaKeys",e.requestMediaKeySystemAccess="requestMediaKeySystemAccess",e.MSMediaKeys="MSMediaKeys",e.GenerateKeyRequest="GenerateKeyRequest",e.Constant="Constant",e.NotAvailable="NotAvailable",e.LiteMode="LiteMode"}(VE||(VE={}));const FE=[],xE=Object(Ks.i)(2592e5);let BE;const HE=Object(is.a)(async e=>{let{video:t}=e;const n=function(){try{const e=fE.a.getItem("videoplayer-supported-drm-systems");if(null===e)return;const{value:t,time:n,version:r}=JSON.parse(e);if(Date.now()-n>xE)return void fE.a.removeItem("videoplayer-supported-drm-systems");if("4db9466c139adba267847a2954046854"!==r)return void fE.a.removeItem("videoplayer-supported-drm-systems");if(0===t.supportedDrmSystems.length)return;return t}catch(e){return}}();Object(Mp.c)("detect.drm");const r=n||await async function(e){void 0===UE&&(UE=Fr(e));const t=await UE;return Lr({},t,{supportedDrmSystems:[...t.supportedDrmSystems]})}({video:t});return FE.forEach(e=>e(r)),FE.length=0,BE=r,void 0===n&&function(e){if(0!==e.supportedDrmSystems.length)try{fE.a.setItem("videoplayer-supported-drm-systems",JSON.stringify({value:e,time:Date.now(),version:"4db9466c139adba267847a2954046854"}))}catch(t){}}(r),Object(Mp.a)("detect.drm"),r.supportedDrmSystems}),YE=document.createElement("video"),KE={supported:!0,engine:ep.a.MPD};var GE=n(116);var WE=n(234);const XE={destroy:Qo.a,setStatsRootFields:Qo.a,updateAdConfig:Qo.a,getNextAdInfo:()=>{},preroll:{loadViewers:()=>Promise.resolve([])},midroll:{loadViewers:()=>Promise.resolve([])},inroll:{loadViewers:()=>Promise.resolve([]),schedule:Qo.a},inrollOverlay:{loadViewers:()=>Promise.resolve([])},overlay:{loadViewers:()=>Promise.resolve([])},postroll:{loadViewers:()=>Promise.resolve([])}},qE=[{end:0,name:"invalid"},{end:750,name:"750)"},{end:1250,name:"[750-1250)"},{end:2e3,name:"[1250-2000)"},{end:3500,name:"[2000-3500)"},{end:5500,name:"[3500-5500)"},{end:9e3,name:"[5500-9000)"},{end:1e6,name:"[9000"},{end:1/0,name:"infinity"}],zE=[{end:0,name:"invalid"},{end:100,name:"100"},{end:250,name:"250"},{end:500,name:"500"},{end:750,name:"750"},{end:1e3,name:"1000"},{end:1500,name:"1500"},{end:2500,name:"2500"},{end:5e3,name:"5000"},{end:1/0,name:"infinity"}];var QE=n(223);class JE{constructor(e){this.length=e,this.list=[]}push(e){this.list.length>=this.length&&this.list.shift(),this.list.push(e)}getAll(){return this.list}clear(){this.list.length=0}copy(){const e=new JE(this.length);return e.list=this.list.slice(),e}}class ZE extends mc.a{constructor(e){super(),this.history=new JE(100),this.addDestroyHandler(Object(Go.a)(e,"logposted",e=>{Nc.a.log("chrome://media-internals event",e.data),this.history.push(e.data)})),this.addDestroyHandler(()=>{this.history=null})}getHistory(){return this.history?[...this.history.getAll()]:["MediaInternalsHistory is destroyed"]}}class $E extends Ec.a{constructor(){super(),this.once("Destroy",Object(Go.a)(window,"online",()=>{this.emit("Online")})),this.once("Destroy",Object(Go.a)(window,"offline",()=>{this.emit("Offline")}))}destroy(){this.emit("Destroy")}}const ev={primaryColor:Tp.a,secondaryColor:Tp.b},tv={setItem(e,t){try{sessionStorage.setItem(e,t)}catch(n){}},getItem(e){try{return sessionStorage.getItem(e)}catch(t){return null}},removeItem(e){try{sessionStorage.removeItem(e)}catch(t){}}};class nv{constructor(){this.videoContentId=void 0,this.lastProgress=void 0}setVideoContentId(e){this.lastProgress=void 0,this.videoContentId=e}clearVideoContentId(){this.lastProgress=void 0,this.videoContentId=void 0}getProgress(){if(!this.videoContentId)return;const e=di(this.videoContentId);return Object(cs.a)(e)?Object(Ks.k)(e):void 0}saveProgress(e){this.videoContentId&&("number"===typeof this.lastProgress&&Math.abs(this.lastProgress-e)<1||(this.lastProgress=e,ui(this.videoContentId,e)))}}const rv=new RegExp("^https?:\\/\\/([^\\/]+\\.)?("+["strm-ott\\.akamaized\\.net","akamai\\.strm\\.yandex\\.net","(an|strm)\\.yandex\\.(ru|net)","cdn\\.ngenix\\.net","strm\\.yandex\\.cdnga\\.net","strm-yandex\\.gcdn\\.co","(widevine|playready|fairplay)-proxy\\.ott\\.yandex\\.ru"].join("|")+")\\/(?!log|perf|jstracer)"),iv={perfLogUrl:"https://log.strm.yandex.ru/perf",updateInterval:Object(Ks.i)(3e4),urlRegexp:rv};class av{static clearResourceTimings(){"function"===typeof performance.clearResourceTimings?performance.clearResourceTimings():"function"===typeof performance.webkitClearResourceTimings&&performance.webkitClearResourceTimings()}constructor(e){let{perfLogUrl:t=iv.perfLogUrl,updateInterval:n=iv.updateInterval,urlRegexp:r=iv.urlRegexp}=void 0===e?{}:e;this.timeoutId=void 0,this.history=[],this.reportUrl=void 0,this.updateInterval=void 0,this.urlRegexp=void 0,this.reportUrl=t,this.updateInterval=n,this.urlRegexp="string"===typeof r?new RegExp(r):r,av.isSupported&&this.loop()}destroy(){clearTimeout(this.timeoutId)}async updateInfo(){if(!av.isSupported)return;const e=this.getCurrentResourcesTimings();if(av.clearResourceTimings(),0===e.length)return;this.history.push(...e),this.history.length>200&&this.history.splice(0,this.history.length-200);const t=Object(fs.b)(this.reportUrl,{perfnow:String(Date.now()),navstart:String(void 0!==performance.timeOrigin?performance.timeOrigin:performance.timing.navigationStart)},{saveOriginalPath:!0});try{await Object(tu.a)({method:"POST",data:JSON.stringify(e),url:t})}catch(n){}}getCurrentResourcesTimings(){if(!av.isSupported)return[];return performance.getEntriesByType("resource").filter(e=>{let{name:t}=e;return this.urlRegexp.test(t)&&t!==this.reportUrl})}getLastResourcesTimings(){return this.history}getAllResourcesTimings(){return[...this.getLastResourcesTimings(),...this.getCurrentResourcesTimings()]}loop(){this.updateInterval<=0||(this.timeoutId=window.setTimeout(async()=>{await this.updateInfo(),this.loop()},this.updateInterval))}}av.isSupported=window.performance&&"function"===typeof window.performance.getEntriesByType&&("function"===typeof performance.clearResourceTimings||"function"===typeof performance.webkitClearResourceTimings);var ov=n(196),sv=n(183),cv=n(332),lv=n.n(cv);const dv={position:"absolute",top:"0",left:"0",width:"100%",height:"100%",zIndex:"0"};class uv{constructor(e){let{parentElement:t,ignorePointerEvents:n,visibleOnInit:r}=e;this.slotWrapper=void 0,this.slotElement=void 0,this.ignorePointerEvents=void 0,this.ignorePointerEvents=n,this.slotWrapper=t.ownerDocument.createElement("div"),Object(Bo.a)(this.slotWrapper,dv),this.setVisible(r),n&&(this.slotWrapper.style.pointerEvents="none"),this.slotElement=t.ownerDocument.createElement("div"),Object(Bo.a)(this.slotElement,dv),this.slotWrapper.appendChild(this.slotElement),t.appendChild(this.slotWrapper)}setVisible(e){this.slotWrapper.style.opacity=e?"1":"0",this.slotWrapper.style.pointerEvents=e&&!this.ignorePointerEvents?"auto":"none"}remove(){Object(Os.a)(this.slotWrapper)}getElement(){return this.slotElement}}var hv=n(250);class fv extends uv{constructor(e){super(e),this.videoElement=void 0;const{videoElement:t}=e;this.videoElement=t;const n=Object(hv.a)(t);this.slotElement.appendChild(t),n()}getVideoElement(){return this.videoElement}}class pv{constructor(e){this.parentElement=void 0,this.adElement=void 0,this.useNativeControls=void 0,this.originalVideoSlot=void 0,this.skinSlot=void 0,this.adElementsSetObjects=[],this.visibleSlotsSet=void 0;const{parentElement:t,adElement:n,originalVideoElement:r,useNativeControls:i}=e;this.useNativeControls=i,this.parentElement=t,this.adElement=n,this.originalVideoSlot=new fv({videoElement:r,parentElement:t,ignorePointerEvents:!1,visibleOnInit:!0}),this.skinSlot=new uv({parentElement:t,ignorePointerEvents:i,visibleOnInit:!0}),this.showSkinAndOriginalVideo()}getSkinElement(){return this.skinSlot.getElement()}clearAdSlots(){this.adElementsSetObjects.forEach(e=>{let{adSlot:t,videoSlot:n}=e;t.remove(),n!==this.originalVideoSlot&&n.remove()}),this.adElementsSetObjects.length=0}showSkinAndOriginalVideo(){this.setVisibleSlotsSet({videoSlot:this.originalVideoSlot,htmlSlot:this.skinSlot}),this.clearAdSlots()}showAdElementsSet(e){const t=this.adElementsSetObjects.find(t=>t.adElementsSet===e);t&&this.setVisibleSlotsSet({videoSlot:t.videoSlot,htmlSlot:t.adSlot})}createAdElementsSet(e){let{adType:t}=e;const{parentElement:n}=this,r=n.ownerDocument,i=Object(Md.a)(t),a=i&&!this.useNativeControls?r.getElementById(lv.a.overlapAdContainer):this.adElement;if(!a)return;const o=new uv({parentElement:a,ignorePointerEvents:i,visibleOnInit:i}),s={videoSlotElement:this.originalVideoSlot.getVideoElement(),adSlotElement:o.getElement()};return this.adElementsSetObjects.push({videoSlot:this.originalVideoSlot,adSlot:o,adElementsSet:s}),s}setVisibleSlotsSet(e){let{videoSlot:t,htmlSlot:n}=e;this.visibleSlotsSet&&(n!==this.visibleSlotsSet.htmlSlot&&this.visibleSlotsSet.htmlSlot.setVisible(!1),t!==this.visibleSlotsSet.videoSlot&&this.visibleSlotsSet.videoSlot.setVisible(!1)),t.setVisible(!0),n.setVisible(!0),this.visibleSlotsSet={videoSlot:t,htmlSlot:n}}}const Ev=Object(Ks.k)(5);var vv=n(264),Av=n.n(vv),mv=n(55);const gv=Object(mv.a)(window),Ov=Object(Ks.i)(8e3),Tv=Object(Ks.i)(1e4),yv=Object(Ks.i)(1e4),Sv={timeout:5e3,maxAttempts:10,baseDelay:100,backoffFactor:2,fuzzFactor:.5},Rv={drm:{retryParameters:gi({},Sv,{timeout:1e4,maxAttempts:3})},manifest:{availabilityWindowOverride:1/0,retryParameters:gi({},Sv,{timeout:Ov,maxAttempts:5}),dash:{ignoreMinBufferTime:!0}},streaming:{rebufferingGoal:.4,jumpLargeGaps:!0,retryParameters:gi({},Sv,{timeout:yv})}};var _v,bv;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.ETHERNET=1]="ETHERNET",e[e.WIFI=2]="WIFI",e[e.CELL_2G=3]="CELL_2G",e[e.CELL_3G=4]="CELL_3G"}(_v||(_v={})),function(e){e.BLUETOOTH="bluetooth",e.CELLULAR="cellular",e.ETHERNET="ethernet",e.MIXED="mixed",e.NONE="none",e.OTHER="other",e.UNKNOWN="unknown",e.WIFI="wifi",e.WIMAX="wimax"}(bv||(bv={}));const Pv=Object(Ks.e)(1e6),Iv=Object(Ks.e)(1e5);var Cv=n(88);const Nv=n(126).a?9e5:864e5;class wv{constructor(e){this.alpha=void 0,this.estimate=0,this.totalWeight=0,this.alpha=Math.exp(Math.log(.5)/e)}sample(e,t){const n=Math.pow(this.alpha,e),r=t*(1-n)+n*this.estimate;isNaN(r)||(this.estimate=r,this.totalWeight+=e)}getEstimate(){const e=1-Math.pow(this.alpha,this.totalWeight);return this.estimate/e}}class kv{constructor(e,t){void 0===e&&(e=2),void 0===t&&(t=5),this.fast=void 0,this.slow=void 0,this.bytesSampled=0,this.minTotalBytes=128e3,this.minBytes=16e3,this.fast=new wv(e),this.slow=new wv(t)}sample(e,t){if(e<=0||t<this.minBytes)return;const n=8e3*t/e,r=e/1e3;this.bytesSampled+=t,this.fast.sample(r,n),this.slow.sample(r,n)}getBandwidthEstimate(e){return this.hasGoodEstimate()?{value:Object(Ks.e)(Math.min(this.fast.getEstimate(),this.slow.getEstimate())),source:"ewma"}:e}hasGoodEstimate(){return this.bytesSampled>=this.minTotalBytes}}var Lv=n(81);var Dv=n(27);const jv=[4320,2880,2160,1440,1080,720,480,360,240,144,0],Mv=jv.reduce((e,t)=>(e[t]=t,e),Object.create(null)),Vv=Object(Ks.i)(1e4);class Uv{constructor(){this.previousVariantIndex=void 0,this.lastDowngradedVariantIndex=void 0,this.getTimeSinceDowngrade=()=>1/0}filter(e){if(0===e.length)return e;let t=e.length-1;return this.isDowngrading(t)&&(this.lastDowngradedVariantIndex=t+1,this.getTimeSinceDowngrade=Object(ds.a)()),void 0!==this.lastDowngradedVariantIndex&&this.getTimeSinceDowngrade()<Vv&&(t=this.lastDowngradedVariantIndex-1),this.previousVariantIndex=t,e.slice(0,t+1)}reset(){this.getTimeSinceDowngrade=()=>1/0,this.previousVariantIndex=void 0,this.lastDowngradedVariantIndex=void 0}isDowngrading(e){return void 0!==this.previousVariantIndex&&this.previousVariantIndex>e}}class Fv{constructor(e){this.bandwidthEstimator=new kv,this.config=void 0,this.enabled=!1,this.originalShakaVariants=[],this.props=void 0,this.startupComplete=!1,this.switchCallback=Qo.a,this.variants=[],this.switchHistoryRule=new Uv,this.props=e}init(e){this.switchCallback=e}configure(e){this.config=e}stop(){this.enabled=!1,this.switchCallback=Qo.a,this.variants=[],this.switchHistoryRule.reset()}getBandwidthEstimate(){const e=this.bandwidthEstimator.getBandwidthEstimate({value:this.config.defaultBandwidthEstimate,source:this.config.defaultBandwidthEstimateSource});return{value:Object(Ks.a)(e.value,this.props.bandwidthEstimateOffset),source:e.source}}enable(){this.enabled=!0}disable(){this.enabled=!1}getVariants(){return this.variants}setVariants(e){fp()(e,this.originalShakaVariants)||(this.originalShakaVariants=e,this.variants=Ci([...e].sort((e,t)=>e.bandwidth-t.bandwidth)),this.switchHistoryRule.reset())}chooseVariant(){const{preloadedVariant:e,restrictions:t}=this.props.getFilterParams(this.variants);if(e)return e;let n=function(e,t,n){if(e.length<=1)return e;let r=0;const i=Math.max(n,1);for(let a=1;a<e.length;a++){const n=e[a],o=e[a+1]||{bandwidth:1/0},s=n.bandwidth/.95*i,c=o.bandwidth/.85*i;t>=s&&t<=c&&(r=a)}return e.slice(0,r+1)}(this.variants,this.getBandwidthEstimate().value,this.props.getPlaybackRate());n=this.switchHistoryRule.filter(n),n=Ii(n,t);return _i(n.slice().reverse(),e=>{var t;return(null==e||null==(t=e.audio)?void 0:t.bandwidth)||0})||null}segmentDownloaded(e,t){this.bandwidthEstimator.sample(e,t),this.enabled&&this.suggestStreams()}suggestStreams(){if(!this.startupComplete){if(!this.bandwidthEstimator.hasGoodEstimate())return;this.startupComplete=!0}const e=this.chooseVariant();this.switchCallback(e)}}const xv={maxWidth:Object(Ks.j)(1/0),maxHeight:Object(Ks.j)(1/0)};class Bv{constructor(e){this.props=e}getAbrRestrictions(){if(!this.props.getState().controller.isAbrEnabled)return xv;const e=this.props.getCapSizes();if(void 0===e)return xv;const{width:t,height:n}=e,r=function(e){if(void 0===e)return;const t=e.querySelector('SupplementalProperty[schemeIdUri="urn:mpeg:yandex:capping:maxheight"]');if(!t)return;const n=Object(Ks.j)(parseInt(t.getAttribute("value")||"",10));return n>0?{maxHeight:n}:void 0}(this.props.getManifestXml());return{maxWidth:t,maxHeight:Object(Ks.j)(Math.min(...[r&&r.maxHeight,n].filter(cs.a)))}}}const Hv=e=>e.active;var Yv=n(103);const Kv=Object(Ks.k)(30),Gv=Kv/Yv.a*2*2;class Wv{constructor(){this.initSegments=new JE(10),this.segments=new JE(Gv)}set(e,t){const{pathname:n}=Object(fs.g)(e),r={pathname:n,response:t};ki(e)?this.initSegments.push(r):this.segments.push(r)}get(e){const{pathname:t}=Object(fs.g)(e),n=ki(e)?wi(this.initSegments,t):wi(this.segments,t);return void 0===n?void 0:n.response}clear(){this.initSegments.clear(),this.segments.clear()}copy(){const e=new Wv;return e.initSegments=this.initSegments.copy(),e.segments=this.segments.copy(),e}hasCachedData(){return this.initSegments.getAll().length>0||this.segments.getAll().length>0}}class Xv{constructor(e){let{segmentCache:t,loadedManifest:n}=void 0===e?{segmentCache:void 0,loadedManifest:void 0}:e;this.segmentCache=void 0,this.lastLoadedManifest=void 0,this.useLastLoadedManifest=!0,this.shakaPlayer=void 0,this.networkErrorHandler=void 0,this.strmSession=void 0,this.serverTimestamp=void 0,this.getElapsedTimeFromServerDate=()=>0,this.segmentCache=t||new Wv,this.lastLoadedManifest=n}setup(e,t){this.shakaPlayer&&(Li(this.shakaPlayer),this.useLastLoadedManifest=!0),this.shakaPlayer=e,this.networkErrorHandler=t;const n=this.customNetPluginFactory(window.shaka),r=e.getNetworkingEngine();null==r||r.registerScheme("http",n),null==r||r.registerScheme("https",n)}destroy(){this.segmentCache.clear(),this.shakaPlayer&&Li(this.shakaPlayer)}hasCachedSegments(){return this.segmentCache.hasCachedData()}hasCachedData(){return this.useLastLoadedManifest&&void 0!==this.lastLoadedManifest||this.hasCachedSegments()}getCurrentVariantTrack(){return Ni(this.shakaPlayer)}copyCachedData(){return{segmentCache:this.segmentCache.copy(),loadedManifest:this.lastLoadedManifest}}getServerTime(){if(void 0!==this.serverTimestamp)return this.serverTimestamp+this.getElapsedTimeFromServerDate()}cacheResponse(e,t,n,r){switch(n){case e.net.NetworkingEngine.RequestType.MANIFEST:this.lastLoadedManifest=r,this.useLastLoadedManifest=!1;break;case e.net.NetworkingEngine.RequestType.SEGMENT:this.segmentCache.set(t,r)}}getCachedResponse(e,t,n){switch(n){case e.net.NetworkingEngine.RequestType.MANIFEST:const{useLastLoadedManifest:n,lastLoadedManifest:r}=this;return n&&void 0!==r?(this.useLastLoadedManifest=!1,r):void 0;case e.net.NetworkingEngine.RequestType.SEGMENT:const i=this.segmentCache.get(t);return void 0===i?void 0:i;default:return}}parseDateHeader(e){let{headers:t,timeMs:n=0}=e;if(void 0!==this.serverTimestamp)return;if(void 0===t.date||null===t.date)return;const r=new Date(t.date).getTime();Object(cs.a)(r)&&(this.serverTimestamp=r+n,this.getElapsedTimeFromServerDate=Object(ds.a)())}customNetPluginFactory(e){return(t,n,r,i)=>{const a=this.getCachedResponse(e,t,r);if(void 0!==a)return new e.util.AbortableOperation(Promise.resolve(a),Qo.a);switch(r){case e.net.NetworkingEngine.RequestType.MANIFEST:void 0===this.strmSession?t=Wr(t):(n.headers["x-strm-session"]=this.strmSession,n.headers["x-client-timestamp"]=String(Date.now()),o=t,t=Object(Df.f)(o,"t"));break;case e.net.NetworkingEngine.RequestType.SEGMENT:t=Wr(t)}var o;const s=function(e){return e.net.HttpFetchPlugin.isSupported()?e.net.HttpFetchPlugin:e.net.HttpXHRPlugin}(e)(t,n,r,i);return new e.util.AbortableOperation(s.promise.then(n=>(r===e.net.NetworkingEngine.RequestType.MANIFEST&&(this.strmSession=n.headers["x-strm-session"]),this.parseDateHeader(n),this.cacheResponse(e,t,r,n),n)).catch(t=>{throw t&&t.code!==e.util.Error.Code.OPERATION_ABORTED&&this.networkErrorHandler(r,t),t}),()=>s.abort())}}}const qv=function(e){const t=Object(Po.a)(e).match(/Firefox\/([0-9]+)\./);return t&&parseInt(t[1],10)||-1}(window),zv=Object(Ks.k)(.5);class Qv extends mc.a{constructor(e){super(),this.manifestXml=void 0,this.resolvePromise=Qo.a,this.rejectPromise=Qo.a,this.manifestXmlPromise=void 0;const t=e.getNetworkingEngine(),n=(e,t)=>{const n=Yi(e,t);void 0===this.manifestXml&&void 0!==n&&this.resolvePromise(n),void 0!==n&&(this.manifestXml=n)};null==t||t.registerResponseFilter(n),this.addDestroyHandler(()=>{null==t||t.unregisterResponseFilter(n),this.rejectPromise()}),e.addEventListener("unloading",this.rejectPromise)}getManifestXml(){if(!this.isDestroyed)return this.manifestXml}async waitForManifestXml(){return this.isDestroyed?Promise.reject():void 0!==this.manifestXml?Promise.resolve(this.manifestXml):(this.manifestXmlPromise||(this.manifestXmlPromise=new Promise((e,t)=>{this.resolvePromise=e,this.rejectPromise=t})),this.manifestXmlPromise)}}class Jv extends mc.a{constructor(e){super(),this.props=e,this.preload=Object(is.a)(async()=>{if(await Object(Lv.f)(),this.isDestroyed)throw new Error("MpdPreloader was destroyed");const e=new shaka.Player(this.videoElement);this.shakaPlayer=e,this.manifestXmlSpy=new Qv(e);e.getNetworkingEngine().registerRequestFilter(t=>{if(t===shaka.net.NetworkingEngine.RequestType.LICENSE)return new Promise((t,n)=>{e.addEventListener("unloading",n)})}),e.configure(this.getInitialShakaConfig()),e.addEventListener("manifestparsed",()=>{this.preloadedStatus="manifest";const{videoTime:t,utc:n}=this.props.source.sourceParams.startPosition,r=Object(cs.a)(t)||Object(cs.a)(n);e.isLive()&&!r&&this.destroy()});const t=new Xv;t.setup(e,Qo.a),this.customNetworkingEngine=t;const n=new Promise((t,n)=>{let r=Qo.a;const i=()=>{r(),n(new Error("MpdPreloader: shakaPlayer unloading"))};e.addEventListener("unloading",i);const a=Object(Go.a)(this.videoElement,"progress",()=>{const{total:n,audio:i,video:a}=e.getBufferedInfo();if(0===i.length||0===a.length)return;const{start:o,end:s}=n[0]||{},c=s-o,l=this.videoElement.duration;(Ev<=Object(Ks.a)(c,Object(Ks.k)(.2))||l<=Object(Ks.a)(s,Object(Ks.k)(.2)))&&(r(),this.preloadedStatus="full",t())});r=Object(is.a)(()=>{a(),e.removeEventListener("unloading",i)})});return Object(ss.a)(Ki({shakaPlayer:e,streamUrl:this.props.source.stream.url,startPosition:this.props.source.sourceParams.startPosition})),n}),this.shakaPlayer=void 0,this.customNetworkingEngine=void 0,this.preloadedStatus="none",this.manifestXmlSpy=void 0,this.abrRestrictionsHelper=void 0,this.videoElement=document.createElement("video"),Object(ss.a)(Object(Lv.f)()),this.abrRestrictionsHelper=new Bv({getManifestXml:()=>{var e;return null==(e=this.manifestXmlSpy)?void 0:e.getManifestXml()},getState:this.props.getState,getCapSizes:this.props.getCapSizes}),this.addDestroyHandler(()=>{var e,t,n;null==(e=this.customNetworkingEngine)||e.destroy(),null==(t=this.manifestXmlSpy)||t.destroy(),null==(n=this.shakaPlayer)||n.destroy(),this.customNetworkingEngine=void 0,this.manifestXmlSpy=void 0,this.shakaPlayer=void 0})}getBandwidthEstimate(){var e;if(this.isDestroyed)return;const t=null==(e=this.shakaPlayer)?void 0:e.getStats();return null!=t&&t.estimatedBandwidth?{value:t.estimatedBandwidth,source:t.estimatedBandwidthSource}:void 0}getCachedVariantTrack(){if(!this.isDestroyed)return Ni(this.shakaPlayer)}copyCachedData(){var e;const t=null==(e=this.customNetworkingEngine)?void 0:e.copyCachedData();return{segmentCache:null==t?void 0:t.segmentCache,loadedManifest:null==t?void 0:t.loadedManifest}}getVideoElement(){return this.videoElement}getType(){return this.props.type}getBufferingRanges(){return mi(this.videoElement)}get preloaded(){return this.preloadedStatus}getSource(){return this.props.source}getInitialShakaConfig(){var e,t;const n=this.props.getState(),{stream:r}=this.props.source,i=Si(n),a=new Fv({getPlaybackRate:()=>1,bandwidthEstimateOffset:null!=(e=null==(t=n.controller.playerConfig)?void 0:t.bandwidthEstimateOffset)?e:Object(Ks.e)(0),getSegmentDuration:()=>Ui(this.shakaPlayer),getFilterParams:e=>({preloadedVariant:void 0,restrictions:this.abrRestrictionsHelper.getAbrRestrictions()})});return Gi({},Rv,{abr:Gi({},Rv.abr,{enabled:!1},null!=i&&i.value?{defaultBandwidthEstimate:i.value,defaultBandwidthEstimateSource:i.source}:{}),abrFactory:function(){return a},drm:Gi({},Rv.drm,r.drmConfig),streaming:Gi({},Rv.streaming,{bufferingGoal:Ev})})}}var Zv=n(265),$v=n.n(Zv);const{isSupported:eA}=n(356),tA=eA();var nA=n(206);var rA=n(166);const iA=[401,403];var aA=n(100);const{ErrorDetails:oA}=n(351),sA=[oA.FRAG_LOAD_ERROR,oA.FRAG_LOAD_TIMEOUT,oA.FRAG_PARSING_ERROR,oA.BUFFER_APPEND_ERROR,oA.INTERNAL_EXCEPTION,oA.LEVEL_LOAD_TIMEOUT,oA.MANIFEST_LOAD_ERROR,oA.MANIFEST_LOAD_TIMEOUT],cA=[oA.FRAG_LOAD_ERROR,oA.FRAG_LOAD_TIMEOUT,oA.FRAG_PARSING_ERROR,oA.LEVEL_LOAD_TIMEOUT],lA=[oA.MANIFEST_LOAD_ERROR,oA.MANIFEST_LOAD_TIMEOUT],dA=[oA.FRAG_DECRYPT_ERROR,oA.FRAG_PARSING_ERROR,oA.BUFFER_STALLED_ERROR,oA.BUFFER_NUDGE_ON_STALL];let uA;!function(e){e.LOWRES="lowres",e.HIGHRES="highres"}(uA||(uA={}));const hA={tiles:"com.yandex.video.thumbnail.lowres.tiles",duration:"com.yandex.video.thumbnail.lowres.duration",resolution:"com.yandex.video.thumbnail.lowres.resolution",uri:"com.yandex.video.thumbnail.lowres.uri"},fA={tiles:"com.yandex.video.thumbnail.tiles",duration:"com.yandex.video.thumbnail.duration",resolution:"com.yandex.video.thumbnail.resolution",uri:"com.yandex.video.thumbnail.uri"},pA=[Object(Ks.j)(4320),Object(Ks.j)(2880),Object(Ks.j)(2160),Object(Ks.j)(1440),Object(Ks.j)(1080),Object(Ks.j)(720),Object(Ks.j)(576),Object(Ks.j)(480),Object(Ks.j)(360),Object(Ks.j)(240),Object(Ks.j)(144)],EA=Math.min(...pA.slice(1).map((e,t)=>pA[t]/e));let vA;!function(e){e.WAS_WORKER_INTERNAL_ERROR="YANDEX_PLAYER_HLS_WAS_WORKER_INTERNAL_ERROR"}(vA||(vA={}));let AA;!function(e){e.HasAd="HasAd",e.NoAd="NoAd",e.NoData="NoData"}(AA||(AA={}));var mA=n(95);const gA=function(){const{volume:e}=mA.a;mA.a.volume=0===e?1:0;const t=mA.a.volume!==e;return mA.a.volume=e,t}(),OA=15,TA=1e3,yA=null===mA.a.onwaiting,SA=(e,t)=>{let n=!1;const r=Object(Go.a)(e,"waiting",()=>{n||(n=!0,t(!0))},{passive:!0}),i=Object(Go.a)(e,"playing",()=>{n&&(n=!1,t(!1))},{passive:!0}),a=Object(Go.a)(e,"canplay",()=>{n&&(n=!1,t(!1))},{passive:!0});return()=>{r(),i(),a()}},RA=!yA||Ho.a||gE.a?(e,t)=>{let n=0,r=!1;return Object(xs.a)(()=>{const i=e.currentTime,a=e.duration,o=1/Bs.a;if(!e.paused){const e=n+o;r?i>e&&(t(!1),r=!1):i<e&&i!==a&&(t(!0),r=!0)}n=i})}:SA;n(163).a;var _A=n(220);let bA;!function(e){e.VideoTagPaused="VideoTagPaused",e.VideoTagPausedAfterDurationChange="VideoTagPausedAfterDurationChange",e.VideoTagPausedAfterError="VideoTagPausedAfterError",e.PauseEvent="PauseEvent",e.ProgressEvent="ProgressEvent",e.PromiseResolve="PromiseResolve",e.PromiseReject="PromiseReject",e.PlayingEvent="PlayingEvent",e.Timeout="Timeout"}(bA||(bA={}));const PA={once:!0,passive:!0};class IA{constructor(e){this.props=e,this.currentAttempt=0,this.recovering=!1,this.plannedTaskPromise=void 0,this.resetTimeoutId=0}get allowed(){return this.currentAttempt<this.props.maxAttempts}get started(){return this.currentAttempt>0}get attempt(){return this.currentAttempt}getState(){return this.started?tE.ON:tE.OFF}planTask(e,t){let n,{reason:r,delay:i,force:a,rawData:o}=t;if(this.recovering&&!a)return this.log("Can't plan task cause is in process of recover"),void this.props.onConcurrentRecover({reason:r,rawData:o});this.clearPlannedTask("new task planned"),this.clearResetTimeout("new task planned"),"number"===typeof i?(n=Object(us.a)(i).promise.then(Qo.a),this.log("#"+this.currentAttempt+", PLAN task, "+i+"ms, ["+r+"]",o)):(n=i,this.log("#"+this.currentAttempt+", PLAN async task, ["+r+"]",o)),Object(ss.a)(n),n.then(()=>{if(n===this.plannedTaskPromise)return this.recovering=!0,this.currentAttempt++,this.props.onRunTask({reason:r,delay:i,rawData:o,attempt:this.currentAttempt}),this.log("#"+this.currentAttempt+", RUN task, ["+r+"]",o),this.clearPlannedTask(),e()}).catch(e=>{this.log("Error while recover",e),this.props.onRecoverError({reason:r,rawData:o},e)}).then(()=>{this.recovering=!1}),this.plannedTaskPromise=n}isRecovering(){return this.recovering}planReset(e){let{reason:t,delay:n}=e;this.log("plan RESET, "+n+"ms, if ["+t+"]"),this.clearResetTimeout("new reset planned"),this.resetTimeoutId=window.setTimeout(()=>{this.reset(t)},n)}destroy(){this.reset("destroy")}reset(e){this.props.onReset(),this.log("RESET because of ["+e+"]"),this.clearPlannedTask(),this.clearResetTimeout(),this.currentAttempt=0}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Nc.a.log("RecoverHelper:",...t)}clearPlannedTask(e){e&&this.log("CLEAR planned TASKS because of ["+e+"]"),this.plannedTaskPromise=void 0}clearResetTimeout(e){e&&this.log("CLEAR planned RESET because of ["+e+"]"),0!==this.resetTimeoutId&&(clearTimeout(this.resetTimeoutId),this.resetTimeoutId=0)}}const CA=Object(Ks.j)(360);const NA=4*n(255).a;var wA=n(180),kA=n.n(wA),LA=n(254);class DA{constructor(e,t,n,r){this.win=e,this.callback=t,this.minDiff=n,this.maxDiff=r,this.animationFrameFunctions=void 0,this.getDiff=Object(ds.a)(),this.id=0,this.maxDiffTimeoutId=0,this.started=!1,this.worksOnShort=!1,this.loopShort=()=>{this.worksOnShort=!0;const e=Object(Ks.i)(this.getDiff());if(e>=this.minDiff&&(this.getDiff=Object(ds.a)(),this.callback(e)),!this.started)return this.clearLong(),void this.clearShort();this.startShort()},this.loopLong=()=>{if(!this.worksOnShort){const e=Object(Ks.i)(this.getDiff());e>=this.minDiff&&(this.getDiff=Object(ds.a)(),this.callback(e))}if(!this.started)return this.clearLong(),void this.clearShort();this.worksOnShort=!1,this.startLong()},this.animationFrameFunctions=Object(LA.a)(e)}start(){this.started||(this.started=!0,this.getDiff=Object(ds.a)(),this.startShort(),this.startLong())}stop(){this.started&&(this.started=!1,this.clearShort(),this.clearLong())}startShort(){this.id=this.animationFrameFunctions.requestAnimationFrame(this.loopShort)}startLong(){this.maxDiffTimeoutId=this.win.setTimeout(this.loopLong,this.maxDiff/2)}clearShort(){this.animationFrameFunctions.cancelAnimationFrame(this.id)}clearLong(){this.win.clearTimeout(this.maxDiffTimeoutId)}}const jA={droppedVideoFrames:0,corruptedVideoFrames:0,totalVideoFrames:0},MA=Object(Ks.j)(360);class VA{constructor(e){void 0===e&&(e={}),this.timeMeasurer=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.totalDecodedFrames=0,this.totalDroppedFrames=0,this.lastVideoWidth=void 0,this.lastVideoHeight=void 0,this.maxWidth=1/0,this.maxHeight=1/0,this.props=void 0,this.props=e}setRestrictions(e,t){var n,r;e>=this.maxWidth&&t>=this.maxHeight||t<MA||(this.maxWidth=e,this.maxHeight=t,Nc.a.warn("FPSController changed restrictions: "+e+"\xd7"+t+"."),null==(n=(r=this.props).onRestrictionsChange)||n.call(r,{decodedFrames:this.totalDecodedFrames,droppedFrames:this.totalDroppedFrames,maxWidth:e,maxHeight:t}))}getRestrictions(){return{maxWidth:this.maxWidth,maxHeight:this.maxHeight}}update(e){if(!e.videoWidth||!e.videoHeight)return;const t=Da(e);this.checkFPS(Object(Ks.j)(e.videoWidth),Object(Ks.j)(e.videoHeight),t.totalVideoFrames,t.droppedVideoFrames)}checkFPS(e,t,n,r){!this.timeMeasurer||!n||this.lastVideoWidth!==e||this.lastVideoHeight!==t||n<this.lastDecodedFrames?(this.timeMeasurer=Object(ds.a)(),this.totalDecodedFrames=0,this.totalDroppedFrames=0):(this.totalDroppedFrames+=r-this.lastDroppedFrames,this.totalDecodedFrames+=n-this.lastDecodedFrames,this.timeMeasurer()>5e3&&this.totalDroppedFrames>.25*this.totalDecodedFrames&&this.setRestrictions(e,t)),this.lastDecodedFrames=n,this.lastDroppedFrames=r,this.lastVideoWidth=e,this.lastVideoHeight=t}}const UA=Object(Ks.k)(0);class FA extends Ec.a{get state(){return this.playerStore.getState()}get fragDuration(){return this.getFragmentsData().fragmentDuration}get isDestroyed(){return this.destroyed}constructor(e){var t;super(),this.props=e,this.engine=void 0,this.recoverHelper=void 0,this.video=void 0,this.wasPausedAfterQualityChanged=!1,this.currentTextTrack=void 0,this.withCredentials=!1,this.playerStore=void 0,this.currentState=void 0,this.previousScreenshotBlobUrl=void 0,this.destroy=Object(is.a)(()=>(this.destroyed=!0,this.destroyUnsafe())),this.destroyed=!1,this.animationFramesController=void 0,this.fpsController=new VA({onRestrictionsChange:e=>{this.props.logEvent({event:"FPSControllerRestrictions",params:e})}}),this.currentSubtitles=[],this.bandwidthEstimateUpdateInterval=null,this.preventPauseState=void 0,this.playDeferred=void 0,this.restoreUserTracks=()=>{this.restoreUserTextTrack(),this.restoreUserAudioTrack(),this.restoreUserVideoTrack()},this.refreshSubtitles=()=>{try{if(!this.video)return;const e=this.getCurrentTextTrack(),t=e?Object(zo.a)(e.activeCues).filter(e=>e&&e.text).map(e=>{let{text:t}=e;return t}):[];fp()(this.currentSubtitles,t)||(this.currentSubtitles=t,this.playerStore.dispatch(rd(t)))}catch(e){this.props.onError(new Rc.a(e,{code:_c.a.REFRESH_SUBTITLES_ERROR,isFatal:!1}))}},this.disableSubtitlesNative=()=>{this.video&&Na(this.video.textTracks).forEach(e=>{e&&(e.mode="disabled")})},this.emptySubtitles=()=>{this.currentSubtitles.length>0&&(this.currentSubtitles=[],this.playerStore.dispatch(rd([])))},this.handleConcurrentRecover=e=>{this.props.logEvent({event:"ConcurrentRecoverCalled",params:e})},this.handleRecoverError=(e,t)=>{this.props.onError(new Rc.a({code:_c.a.RECOVER_TASK_ERROR,isFatal:!1,details:e,stack:t.stack}))},this.setMaxListeners(26),this.recoverHelper=new IA({maxAttempts:null!=(t=e.maxRecoverAttempts)?t:10,onRunTask:this.props.onRecover,onReset:()=>this.playerStore.dispatch(xl(void 0)),onConcurrentRecover:this.handleConcurrentRecover,onRecoverError:this.handleRecoverError}),this.on("Destroy",()=>this.recoverHelper.destroy());const{video:n,playerStore:r,sourceParams:i}=this.props;this.video=n,this.playerStore=r,this.setLoop(Boolean(e.sourceParams.loop)),this.withCredentials=Boolean(e.sourceParams.withCredentials),this.setPoster(i.preview),this.updateNativeControlsVisibility();const a=this.playerStore.getState().controller.preload||ms.a;n.setAttribute("preload",a?"auto":"none");const o=Object(Go.a)(n,"loadstart",()=>this.video.style.opacity="1");this.on("Destroy",o),this.animationFramesController=new DA(window,e=>{try{this.onTick(Object(Ks.i)(e))}catch(t){this.props.onError(new Rc.a(t,{code:_c.a.ON_TICK_ERROR,isFatal:!1}))}},Object(Ks.i)(NA),Object(Ks.i)(250)),this.on("Destroy",()=>this.animationFramesController.stop()),Promise.resolve().then(()=>{this.initInternalSubscribe()})}initInternalSubscribe(){this.on("VideoPlayingStateChange",e=>{if(e!==Hs.a.END||yt(this.state)){if(e===Hs.a.PLAY&&!Zt(this.state)){const e=this.fragDuration<=2*Yv.a?1e3*this.fragDuration:1e3*Yv.a;this.recoverHelper.planReset({delay:e,reason:"no new errors for "+e+"ms"})}}else this.recoverHelper.reset("onPlayingStateChange ["+Hs.a.END+"]")}),this.on("InternalPlayingStateChange",e=>{const{encoderState:t}=this.state.controller;(t===zf.a.Attaching||t===zf.a.Attached)&&this.currentState!==e&&(this.isBufferingOnPreload(e)||this.currentState===Hs.a.END&&this.video.paused||(this.currentState=e,this.emit("VideoPlayingStateChange",e)))}),this.on("CurrentTimeChange",e=>{const t=this.getDuration(),{videoType:n}=this.state.controller;e>=t&&t>0&&n===Ys.a.VOD&&!this.props.sourceParams.loop&&this.emit("InternalPlayingStateChange",Hs.a.END)}),this.on("InternalVideoTrackValueChange",_a(e=>{this.emit("VideoTrackValueChange",e)})),this.on("InternalAudioTrackValueChange",_a(e=>{this.emit("AudioTrackValueChange",e)})),this.on("InternalTextTrackValueChange",_a(e=>{this.emit("TextTrackValueChange",e)})),this.subscribeYabroRum(),this.addVideoEventListener(null===this.video.onplaying?"playing":"play",()=>this.handleVideoElementPlayEvent()),this.addVideoEventListener("loadedmetadata",()=>{this.emit("DurationChange",this.getDuration())}),this.addVideoEventListener("seeking",()=>{this.playerStore.dispatch(zl(this.video.readyState))}),this.addVideoEventListener("seeked",()=>{this.playerStore.dispatch(zl(this.video.readyState))});let e=this.video.playbackRate;this.addVideoEventListener("ratechange",()=>{const t=this.video.playbackRate,n=this.state.controller.playbackRate;if(e===t)return;const r=e;e=t,Zt(this.state)||this.recoverHelper.isRecovering()||0===t||t===n||(0===r&&t!==n?this.setPlaybackRate(n):t!==this.state.controller.playbackRate&&this.playerStore.dispatch(Vl(t)))}),this.addVideoEventListener("pause",()=>{this.wasPausedAfterQualityChanged||this.video.ended||this.getCurrentTime()>=this.getDuration()||this.emit("InternalPlayingStateChange",Hs.a.PAUSE)}),this.addVideoEventListener("volumechange",()=>{let e=this.getMuted(),t=this.getVolume();Zt(this.state)&&(e=0===t||this.getMuted(),t=this.playerStore.getState().controller.volume,this.setMuted(e),this.setVolume(this.playerStore.getState().controller.volume)),this.playerStore.dispatch(ul({volume:t,muted:e,changeReason:lp.a.VolumeChangeEvent}))}),this.addVideoEventListener("progress",()=>{this.emit("BufferingRangesChange",mi(this.props.video))}),this.addVideoEventListener("canplay",()=>{this.emit("CanPlay",void 0)}),this.addVideoEventListener("ended",()=>{const{videoType:e}=this.playerStore.getState().controller;e===Ys.a.VOD||void 0===e?this.emit("InternalPlayingStateChange",Hs.a.END):this.video.paused&&Nc.a.warn('Pause stream after "ended" event on LIVE stream')}),this.addVideoEventListener("loadeddata",()=>{this.playerStore.dispatch(zl(this.video.readyState)),this.emit("LoadedData",void 0)}),this.addVideoEventListener("error",e=>this.onVideoTagError(e)),this.state.skin.useNativeControls&&this.on("Destroy",Ra(this.video,()=>{this.playerStore.dispatch(wh())})),this.handleSubtitles()}async play(){if(this.preventPauseState)return this.preventPauseState=ja({},this.preventPauseState,{shouldPlayAfterEnd:!0}),Nc.a.log("play method call during preventPauseAsync operation"),this.playDeferred||(this.playDeferred=new nc,this.playDeferred.promise.catch(Qo.a).then(()=>this.playDeferred=void 0)),this.playDeferred.promise;await this.playInternal()}getFragmentsData(){return{totalDuration:this.getDuration(),fragmentDuration:Yv.a,startTime:Object(Ks.k)(0)}}getUtcStartTime(){return UA}getUtcPosition(){return UA}async attachEncoder(){this.animationFramesController.start(),this.bandwidthEstimateUpdateInterval=window.setInterval(()=>{this.playerStore.dispatch(nl(this.getBandwidthEstimate())),Oi(this.getBandwidthEstimate())},5e3),"defaultPlaybackRate"in this.video&&(this.video.defaultPlaybackRate=this.state.controller.playbackRate)}onVideoTagError(e){!this.video.src&&!Zt(this.state)&&(this.video.style.opacity="0")}insertIntoCalled(){}captureScreenshot(e){return Promise.resolve(void 0)}clearScreenshot(){this.previousScreenshotBlobUrl&&(URL.revokeObjectURL(this.previousScreenshotBlobUrl),this.previousScreenshotBlobUrl=void 0)}seek(e){if(!this.canSeek())return void this.playerStore.dispatch(Il({videoTime:e}));this.playerStore.dispatch(xl(void 0));const{start:t,end:n}=this.getSeekableRange(),{currentTime:r,bufferingRanges:i}=this.state.controller,o=a(e,t,n);void 0===bn(i,o)&&this.playerStore.dispatch(ld(Object(Xf.a)(Ic.a.Seek,{oldPosition:r,newPosition:o}))),Fi(this.video,Object(Ks.k)(o)),this.emit("CurrentTimeChange",this.getCurrentTime())}setPlaybackRate(e){const t=this.video.playbackRate;if(t===e)return;this.video.playbackRate=e;const n=this.video.playbackRate;n!==t&&this.playerStore.dispatch(Vl(n))}getUtcEndTime(){return Object(Ks.k)(0)}updateNativeControlsVisibility(){const e=Xn(this.state)&&!Js(this.state.skin.hiddenControls)&&(this.state,!0);this.playerStore.dispatch(Id(e)),c(this.video,{controls:e?"controls":null}),this.video.classList.toggle(kA.a.video_hiddenControls,!e),this.setNativeTimeControlVisibility(ba(this.state)),this.setNativeTimelineControlVisibility(ba(this.state))}async detachEncoder(){if(this.animationFramesController.stop(),this.state.controller.encoderState===zf.a.Attached){const e=this.getBandwidthEstimate();this.playerStore.dispatch(nl(e)),Oi(e)}null!==this.bandwidthEstimateUpdateInterval&&clearInterval(this.bandwidthEstimateUpdateInterval),this.emit("InternalVideoTrackValueChange",void 0),this.emit("InternalAudioTrackValueChange",void 0),this.emit("InternalTextTrackValueChange",void 0),this.emit("Detach",void 0),"defaultPlaybackRate"in this.video&&(this.video.defaultPlaybackRate=1)}async preloadSource(){Nc.a.log("preloadSource() is not implemented for "+this.engine)}createCachePreloader(){}setLoop(e){const{video:t}=this.props,{loop:n}=this.video;e!==n&&(t.loop=e)}isPaused(){return this.props.video.paused}pause(){var e;this.recoverHelper.reset("pause"),this.props.video.pause(),null==(e=this.playDeferred)||e.reject()}getDuration(){return Object(Ks.k)(this.video.duration)}getCurrentTime(){return Object(Ks.b)(Object(Ks.i)(Math.floor(Object(Ks.c)(Object(Ks.k)(this.props.video.currentTime),1e3))),1e3)}getVideoWidth(){return this.video.videoWidth}getVideoHeight(){return this.video.videoHeight}setVolume(e){Object(_A.a)(e)?gA?this.video.volume=e:Nc.a.warn("cannot change video volume"):Nc.a.warn("setVolume wrong value")}getVolume(){return this.video.volume}setMuted(e){this.video.muted=e}getMuted(){return this.video.muted}setPoster(e){this.state.skin.nativeControlsVisibility&&(this.removePoster(),this.props.video.setAttribute("poster",e||Zs.a))}removePoster(){this.props.video.removeAttribute("poster")}getConnectionQuality(){return ip({fragDuration:Object(Ks.c)(this.fragDuration,1e3),timings:this.props.resourceTimingsMonitor.getAllResourcesTimings()})}isDvrEnabled(){return!0}toggleNativeSubtitles(e){const t=this.state.skin.useNativeSubtitles;if(t===e)return;const n=wa(t),r=wa(e);this.playerStore.dispatch(rf(e)),Na(this.video.textTracks).forEach((e,t)=>{e&&(e.mode=n===e.mode?r:"disabled")})}canSeek(){const{video:e}=this.props;return e.readyState>0&&e.duration>0}getRecoverHelperState(){return this.recoverHelper.getState()}getCapSizes(){var e;const t=null!=(e=this.props.getPipWindowSize())?e:{width:this.getVideoElementWidth(),height:this.getVideoElementHeight()},n=this.fpsController.getRestrictions();return{height:Object(Ks.j)(Math.min(...[n.maxHeight-1,Object(Ks.c)(t.height,devicePixelRatio),Object(QE.a)()?CA:void 0].filter(cs.a))),width:Object(Ks.j)(Math.min(Object(Ks.c)(t.width,devicePixelRatio),n.maxWidth-1))}}getMaxCapAllowedVideoTrack(){}getRemainingBufferedTime(){return{total:In(this.state)||Object(Ks.k)(0)}}getBandwidthEstimate(){return Si(this.playerStore.getState())}async recoverStream(){const e=this.getPositionToRecover();this.playerStore.dispatch(Il(e)),await this.detachEncoder(),await this.attachEncoder()}getLiveLatency(){}getPlayingState(){return this.currentState}subscribeVideoBuffering(){const{video:e}=this,t=this.getVideoBufferingSubscriber()(e,t=>{const n=ka(e,t);this.emit("InternalPlayingStateChange",n)});this.on("Destroy",t)}getVideoBufferingSubscriber(){return RA}getPositionToRecover(){const{programDateTime:e,currentTime:t,startPosition:n}=this.state.controller,r={utc:void 0===e?void 0:Object(Ks.a)(Object(Ks.b)(e,1e3),t),videoTime:t};return t?r:n}subscribeContentImpression(){this.once("Detach",function(e,t){const n=Object(Go.a)(e,"timeupdate",()=>{e.currentTime>0&&!e.paused&&(i(),t())}),r=Object(Go.a)(e,"playing",()=>{e.duration>0&&(i(),t())}),i=()=>{n(),r()};return i}(this.video,()=>{this.emit("ContentImpression",void 0)}))}onTick(e){if(this.state.skin.seeking)return;this.dispatchOnDurationChange();const t=this.getCurrentTime();t===this.state.controller.currentTime&&0!==t||this.emit("CurrentTimeChange",t),this.state.controller.videoTagReadyState!==this.video.readyState&&this.playerStore.dispatch(zl(this.video.readyState)),this.video.paused&&this.currentState===Hs.a.PLAY&&!this.wasPausedAfterQualityChanged&&this.state.controller.encoderState!==zf.a.Attaching&&this.state.controller.playingState!==Hs.a.PAUSE&&this.emit("InternalPlayingStateChange",Hs.a.PAUSE),this.setPlaybackRateCatchup(),Zt(this.state)||this.state.controller.playingState===Hs.a.PAUSE||this.fpsController.update(this.video)}addVideoEventListener(e,t,n){let{once:r}=void 0===n?{}:n,i=t;const{video:a}=this,o=()=>{a.removeEventListener(e,i)};return r&&(i=e=>{this.off("Destroy",o),o(),t.call(a,e)}),this.on("Destroy",o),this.video.addEventListener(e,i),o}addEventListener(e,t,n,r){const i=Object(Go.a)(e,t,n,r);this.once("Destroy",i)}getSeekableRange(){return{start:Object(Ks.k)(0),end:this.getDuration()||Object(Ks.k)(0)}}setNativeTimeControlVisibility(e){this.state.skin.useNativeControls&&this.video.classList.toggle(kA.a.video_hiddenTime,!e)}setNativeTimelineControlVisibility(e){this.state.skin.useNativeControls&&this.video.classList.toggle(kA.a.video_hiddenTimeline,!e)}getVisibleTextTrackMode(){return wa(this.state.skin.useNativeSubtitles)}getHiddenTextTrackMode(){return"disabled"}getCurrentTextTrack(){if(!this.video)return;const e=this.getVisibleTextTrackMode();return Na(this.video.textTracks).find(t=>void 0!==t&&t.mode===e)}restoreUserTextTrack(){const{userTextTrackEnabled:e}=this.state.controller;if(void 0!==e)if(e){const e=function(e){const{userTextTrackName:t,userTextTrackLang:n,textTracks:r}=e.controller;return Qt(r,{name:t,lang:n})}(this.state);e&&this.setTextTrack(e)}else this.disableTextTrack()}restoreUserAudioTrack(){if(g(this.video))return;const e=function(e){const{userAudioTrackName:t,userAudioTrackLang:n,audioTracks:r}=e.controller;return ma(r,{name:t,lang:n})}(this.playerStore.getState());e&&(Nc.a.log("Set audio track by user params audioTrack=["+JSON.stringify(e)+"]"),this.setAudioTrack(e))}restoreUserVideoTrack(){const e=function(e){const{videoTracks:t,userVideoTrackName:n,userVideoTrackHeight:r}=e.controller;return ga(t,{name:n,height:r})}(this.playerStore.getState());e&&(Nc.a.log("Set video track by user params videoTrack=["+JSON.stringify(e)+"]"),this.setVideoTrack(e))}updateSkinDvrParameters(e){const t=Object(Ks.b)(e,1e3),{skin:{skinDVRStartTime:n,skinDVRDuration:r},controller:{videoType:i,dvrDuration:a,duration:o}}=this.state;if(i===Ys.a.LIVE){const e=Object(Ks.k)(Math.min(Object(Ks.a)(n,t),o||Object(Ks.k)(0)));this.playerStore.dispatch(jl(e))}else if(i===Ys.a.EVENT){const e=Object(Ks.k)(Math.min(Object(Ks.a)(r,t),a));this.playerStore.dispatch(Ml(e))}}checkPositionAndReturnToLive(){const{controller:{videoType:e},skin:{useNativeControls:t}}=this.state;if(e!==Ys.a.LIVE||t||Zt(this.state)||!this.canSeek())return;const n=this.getCurrentTime(),{startTime:r,fragmentDuration:i}=this.getFragmentsData();if(n<r){const e=Object(Ks.a)(r,Object(Ks.c)(i,Qf.b));Nc.a.log("checkPositionAndReturnToLive: return to dvr at "+e),this.seek(e)}}async destroyUnsafe(){this.emit("Destroy",void 0),await this.detachEncoder();const{error:e}=this.state.controller.errorInfo;e&&e.isFatal&&this.video.src&&this.video.removeAttribute("src"),this.playerStore.dispatch(Ul(gf.a.bufferingRanges))}async preventPauseAsync(e,t){const{paused:n}=e,r=t();this.preventPauseState||(this.preventPauseState={promises:[],shouldPlayAfterEnd:!n}),this.preventPauseState.promises.push(r);const i=await r;if(this.preventPauseState){const e=this.preventPauseState.promises.length;Promise.all(this.preventPauseState.promises).catch(Qo.a).then(()=>{this.preventPauseState&&e===this.preventPauseState.promises.length&&(this.preventPauseState.shouldPlayAfterEnd&&Object(ss.a)(this.playInternal()),this.preventPauseState=void 0)})}return i}getVideoOwnerDocument(){return this.video.ownerDocument||document}logLoadToRum(){Rr(this.engine,this.state.ad.adSyncInit)}subscribeYabroRum(){this.once("Detach",this.addVideoEventListener("firstframedecoded",()=>{br(this.engine,{},this.state.ad.adSyncInit)},{once:!0})),this.once("Detach",this.addVideoEventListener("firstframeshown",()=>{Pr(this.engine,{},this.state.ad.adSyncInit)},{once:!0}))}getStreamUrl(){return this.props.stream.url}getVideoContentId(){var e;return null==(e=this.props.sourceParams.videoInfo)?void 0:e.videoContentId}shouldUseLowBuffer(){const{startStage:e,autoplay:t,preload:n}=this.state.controller;return e!==Yf.a.started&&!t&&n}isBufferingOnPreload(e){return e===Hs.a.BUFFERING&&(!!this.state.controller.preload&&(this.state.controller.startStage!==Yf.a.started&&this.state.controller.startStage!==Yf.a.starting))}getMaxBufferLength(){if(this.shouldUseLowBuffer())return Ev;const{maxBufferLength:e=Kv}=this.props;return e}handleVideoElementPlayEvent(){this.wasPausedAfterQualityChanged=!1,this.emit("InternalPlayingStateChange",Hs.a.PLAY)}setPlaybackRateCatchup(){const e=void this.state;void 0!==e&&this.setPlaybackRate(e)}getVideoElementHeight(){const{video:e}=this;return Object(Ks.j)(e.height||e.clientHeight||e.offsetHeight)}getVideoElementWidth(){const{video:e}=this;return Object(Ks.j)(e.width||e.clientWidth||e.offsetWidth)}handleSubtitles(){const{textTracks:e}=this.video;e&&"function"===typeof e.addEventListener&&(this.on("Destroy",Object(Go.a)(e,"addtrack",e=>{const t=e.track;t&&"subtitles"===t.kind&&this.on("Destroy",Object(Go.a)(t,"cuechange",this.refreshSubtitles))})),this.on("TextTrackValueChange",e=>{void 0===e?this.emptySubtitles():this.refreshSubtitles()}),this.on("Destroy",Object(xs.a)(this.refreshSubtitles)),this.on("Detach",this.disableSubtitlesNative))}dispatchOnDurationChange(){const e=this.getDuration();isNaN(e)||this.state.controller.duration!==e&&this.emit("DurationChange",e)}playInternal(){const e=Ia(this.video);return e.then(()=>{var e;return null==(e=this.playDeferred)?void 0:e.resolve()}).catch(e=>{var t;-1!==String(e).indexOf("no supported sources")&&this.props.onError(new Rc.a({code:_c.a.UNSUPPORTED_MEDIA_TYPE,isFatal:!0})),null==(t=this.playDeferred)||t.reject()}),e.then(Qo.a)}}class xA extends FA{initInternalSubscribe(){super.initInternalSubscribe(),this.on("VideoPlayingStateChange",e=>{e===Hs.a.PLAY?this.recoverHelper.reset("play"):e===Hs.a.END?this.stopLoad():e===Hs.a.BUFFERING&&this.tryRecoverOnBuffering()}),this.subscribeVideoBuffering()}constructor(e){super(e),this.props=e,this.engine=ep.a.HLS,this.preloadSourceHLSEncoder=void 0,this.preloadSourceHandlers=[],this.preloadPosition={},this.HLSEncoder=void 0,this.lastKnownLevelDetails=void 0,this.HLSEncoderAttachTime=1/0,this.loadStarted=!1,this.recoverOnBufferingReason=null,this.initHlsEncoderPromise=void 0,this.maxHeightCapping=void 0,this.levelForcingInterval=void 0,this.lastFragRequest=void 0,this.restoreUserTracksWhenPossible=()=>{const{HLSEncoder:e}=this;if(!e)return;if(!e.levels||0===e.levels.length)return void e.once(Hls.Events.MANIFEST_LOADED,this.restoreUserTracksWhenPossible);Object(cs.a)(this.HLSEncoderAttachTime)?this.restoreUserTracks():e.once(Hls.Events.MEDIA_ATTACHED,this.restoreUserTracks)},this.onLevelUpdated=()=>{this.emit("VideoTypeChange",this.getVideoType()),this.checkPositionAndReturnToLive();const e=this.getHlsEncoderLevelDetails();if(e&&e.fragments&&e.fragments.length>0){const[t]=e.fragments;t.programDateTime&&this.emit("ProgramDateTimeChange",Object(Ks.c)(this.getUtcStartTime(),1e3))}},this.onSubtitleTracksUpdated=()=>{this.HLSEncoder&&this.emit("TextTracksChange",function(e){const t=[];return Array.isArray(e)&&e.forEach(e=>{const n=fa(e);n&&t.push(n)}),t}(this.HLSEncoder.subtitleTracks))},this.onAudioTracksUpdated=()=>{const{HLSEncoder:e}=this;if(!e)return;const{audioTracks:t}=e;e.config.maxBufferSize=t.length>0?12e6:Hls.DefaultConfig.maxBufferSize,this.emit("AudioTracksChange",function(e){const t=[];return Array.isArray(e)?(e.forEach(e=>{const n=ha(e);n&&t.push(n)}),t):[]}(t))},Object(ss.a)(Object(Lv.b)()),this.playerStore.dispatch(Bl(!0))}getEngine(){return ep.a.HLS}getFragmentsData(){const e=this.getHlsEncoderLevelDetails();if(!e)return super.getFragmentsData();const{totalduration:t,targetduration:n,fragments:r}=e,[i]=r;return i?{totalDuration:Object(Ks.k)(Math.min(t,this.getDuration())),fragmentDuration:Object(Ks.k)(n),startTime:Object(Ks.k)(i.start)}:super.getFragmentsData()}onOnline(){this.startLoadOnce(this.video.currentTime)}onOffline(){this.stopLoad()}play(){return this.startLoadOnce(),super.play()}getUtcStartTime(){const e=this.getHlsEncoderLevelDetails();if(!e||!e.hasProgramDateTime)return Object(Ks.k)(0);const[t]=e.fragments;return t&&t.programDateTime?Object(Ks.d)(Object(Ks.b)(Object(Ks.i)(t.programDateTime),1e3),Object(Ks.k)(t.start)):Object(Ks.k)(0)}getUtcPosition(){const e=this.getUtcStartTime();return e>0?Object(Ks.a)(e,this.getCurrentTime()):super.getUtcPosition()}setVideoTrack(e){const{HLSEncoder:t}=this;if(void 0===t)return;const{levels:n}=t;if(void 0===n)return;const r=e.value===Lp.value?-1:n.findIndex(t=>t.url.some(t=>t===e.value));-1===r?this.startLevelForcingWithSizeCap():this.stopLevelForcingWithSizeCap();const i=this.isPaused();t.currentLevel=r,!i&&this.isPaused()&&(this.wasPausedAfterQualityChanged=!0,this.emit("InternalPlayingStateChange",Hs.a.BUFFERING))}setAudioTrack(e){const{HLSEncoder:t}=this;if(void 0===t)return;const n=t.audioTracks.find(t=>e.value===String(t.id));n&&(t.audioTrack=Number(n.id))}setTextTrack(e){const{HLSEncoder:t}=this;if(void 0===t)return;const n=this.getHlsTextTrack(e);n&&(this.emit("InternalTextTrackValueChange",e&&e.value),t.subtitleTrack=n.id)}disableTextTrack(){this.emit("InternalTextTrackValueChange",void 0)}toggleNativeSubtitles(e){super.toggleNativeSubtitles(e);const{HLSEncoder:t}=this;void 0!==t&&(t.subtitleDisplay=e)}async preloadSource(){let e=!1;const t=()=>{e=!0};this.once("Destroy",t),this.once("Detach",t);try{await Object(Lv.b)()}catch(o){return void this.props.onError(new Rc.a(o,{code:_c.a.SCRIPT_INIT_ERROR,isFatal:!1}))}if(e||this.HLSEncoder||this.initHlsEncoderPromise||this.preloadSourceHLSEncoder)return;const n=Ma({},this.getHlsJsConfig(),{liveSyncDuration:Yv.a}),r=window.hls=this.preloadSourceHLSEncoder=new Hls(n),i=(e,t)=>{this.preloadSourceHandlers.push([e,t]),r.once(e,t)};((e,t)=>{this.preloadSourceHandlers.push([e,t]),r.on(e,t)})(Hls.Events.ERROR,(e,t)=>{if(!t)return;const n=na(t),i=ia(t);void 0!==i&&(this.props.onError(new Rc.a(i,{isFatal:!1})),n&&(this.props.onError(new Rc.a({code:_c.a.PRELOAD_SOURCE_FAILED,isFatal:!1,details:{reason:i}})),this.unsubscribePreloadSourceHandlers(),r.destroy(),this.clearPreloadSourceHlsEncoder()))});const a=()=>{this.preloadPosition=this.state.controller.startPosition,r.config.startFragPrefetch=!0,this.loadStarted=!0};i(Hls.Events.MANIFEST_PARSED,(e,t)=>{let{levels:n=[],audioTracks:o=[]}=t;const s=this.getStartVideoLevelIndex(n);r.startLevel=s,this.state.controller.isAbrEnabled||(r.loadLevel=s);this.getStartAudioTrackIndex(o)>-1&&(r.audioTrack=this.getStartAudioTrackIndex(o));const c=this.getStartLoadPosition();i(Hls.Events.LEVEL_UPDATED,(e,t)=>{let{details:n}=t;const i=this.getStartLoadPosition(n);c!==i&&void 0!==i&&r.streamController.startLoad(i),a()}),r.startLoad(c)}),r.loadSource(this.getStreamUrl())}async attachEncoder(){if(await super.attachEncoder(),!tA){const e=_c.a.HLS_JS_NOT_SUPPORTED_ERROR;return this.props.onError(new Rc.a({code:e})),Promise.reject(Object(rA.a)(e,this.state.ad.adblockDetected))}return this.initHlsEncoderPromise=this.initHlsEncoder(),await this.initHlsEncoderPromise,this.initHlsEncoderPromise=void 0,this.subscribeContentImpression(),this.startLevelForcingWithSizeCap(),this.attachMedia()}async destroyUnsafe(){await super.destroyUnsafe(),this.preloadSourceHLSEncoder&&this.preloadSourceHLSEncoder.destroy(),this.HLSEncoder&&this.HLSEncoder.destroy()}canSeek(){return void 0!==this.HLSEncoder&&Boolean(this.HLSEncoder.media)&&super.canSeek()}async detachEncoder(){if(Object(zo.a)(this.video.textTracks).forEach(Oa),this.stopLevelForcingWithSizeCap(),await super.detachEncoder(),this.loadStarted=!1,this.preloadSourceHLSEncoder&&(this.preloadSourceHLSEncoder.destroy(),this.clearPreloadSourceHlsEncoder()),!this.HLSEncoder){if(!this.initHlsEncoderPromise)return;await this.initHlsEncoderPromise}const{video:e,HLSEncoder:t}=this;if(void 0!==t)return this.recoverOnBufferingReason=null,new Promise(n=>{t.media?t.once(Hls.Events.MEDIA_DETACHED,()=>{this.HLSEncoderAttachTime=1/0,n()}):n(),this.lastKnownLevelDetails=void 0,p(e,()=>{t.destroy(),this.HLSEncoder=void 0})})}getConnectionQuality(){if(void 0===this.lastFragRequest)return super.getConnectionQuality();const{fragDuration:e,getElapsedTime:t}=this.lastFragRequest,n={fragDuration:e,downloadTime:t()};return rp(n)?tp.SLOW:super.getConnectionQuality()}getMaxCapAllowedVideoTrack(){const{HLSEncoder:e}=this;if(!e||!e.levels||!e.autoLevelEnabled)return;const t=e.levels[e.autoLevelCapping];return t?this.state.controller.videoTracks.find(e=>{let{value:n}=e;return n===t.url[0]}):void 0}onVideoTagError(e){if(super.onVideoTagError(e),!this.video.error||Zt(this.state))return;const t=h(this.video);if(t.code!==Cs.b.MEDIA_ERR_DECODE&&t.code!==Cs.b.MEDIA_ERR_SRC_NOT_SUPPORTED)return;const n=t.code===Cs.b.MEDIA_ERR_SRC_NOT_SUPPORTED,r=new Rc.a({code:Cs.b[t.code],details:t,isFatal:n});if(this.props.onError(r),n)return;const i="VideoTagError MEDIA_ERR_DECODE";Nc.a.log(i),this.playerStore.dispatch(ld(Object(Xf.a)(Ic.a.MediaError,void 0))),this.isPaused()&&this.recoverHelper.planTask(()=>this.recoverCurrentFrag(),{reason:i,delay:1e3})}onTick(e){super.onTick(e),this.updateSkinDvrParameters(e)}getStreamUrl(){const e=super.getStreamUrl(),t={session_data:"1"};return Object(nA.a)(e)||(t.preview="1"),Object(fs.b)(e,t,{saveOriginalPath:!0})}getBandwidthEstimate(){if(!this.HLSEncoder)return super.getBandwidthEstimate();const e=Object(hs.a)(()=>this.HLSEncoder.abrController._bwEstimator.getEstimate());return Object(cs.a)(e)?{value:e,source:"hlsjs"}:super.getBandwidthEstimate()}getUtcEndTime(){const e=this.getUtcStartTime();return e?Object(Ks.a)(e,this.getDuration()):Object(Ks.k)(0)}stopLoad(){this.HLSEncoder&&(this.HLSEncoder.stopLoad(),this.loadStarted=!1)}tryRecoverOnBuffering(){if(!this.recoverOnBufferingReason)return;const{type:e,url:t,details:n,frag:r}=this.recoverOnBufferingReason,{controller:{bufferingRanges:i,fragmentDuration:a}}=this.state,o=this.getCurrentTime();if(i.some(e=>{let{start:t,end:n}=e;return t+a<o&&n-a>o}))return void Nc.a.log("skip recover",{currentTime:o,bufferingRanges:i});const{recoverHelper:s}=this;s.planTask(()=>this.recoverCurrentFrag(),{reason:"HlsJs "+e,rawData:{details:n,type:e,url:t,isFatal:!0,frag:qi(r)},delay:100})}getHlsJsConfig(){const e="true"!==fE.a.getItem(vA.WAS_WORKER_INTERNAL_ERROR);return{manifestLoadingTimeOut:Ov,levelLoadingTimeOut:Tv,fragLoadingTimeOut:yv,fragLoadingMaxRetry:5,debug:this.props.debug,enableWorker:e,autoStartLoad:!1,capLevelToPlayerSize:!1,liveSyncDuration:this.props.liveOffset,levelLoadingMaxRetry:25,levelLoadingMaxRetryTimeout:100,enableCEA708Captions:!1,xhrSetup:(e,t)=>{this.withCredentials&&(e.withCredentials=!0);const n=Object(fs.c)(t);("m3u8"===n||"ts"===n)&&e.open("GET",Wr(t),!0)},fetchSetup:(e,t)=>(this.withCredentials&&(t.credentials="include"),new Request(e.url,t)),maxMaxBufferLength:this.getMaxBufferLength()}}preparePreloadSourceHlsEncoderToAttach(){const e=this.preloadSourceHLSEncoder;if(!e)return;this.HLSEncoder=e;const{preloadPosition:t}=this;if(this.unsubscribePreloadSourceHandlers(),this.clearPreloadSourceHlsEncoder(),e.config.liveSyncDuration=this.props.liveOffset,!e.levels||0===e.levels.length)return e;this.onLevelsUpdated(),this.onLevelUpdated(),this.updateThumbnailTileMeta(),this.onAudioTracksUpdated(),this.onAudioTrackUpdated(e.audioTrack),this.onSubtitleTracksUpdated();const{videoTime:n,utc:r}=this.state.controller.startPosition;if(!(t.utc!==r||t.videoTime!==n))return e;const i=this.getStartLoadPosition(this.getHlsEncoderLevelDetails());return void 0!==i&&e.streamController.startLoad(i),e}async initHlsEncoder(){if(this.HLSEncoder)return;if(this.HLSEncoder=this.preparePreloadSourceHlsEncoderToAttach(),this.HLSEncoder)this.props.logEvent({event:bc.a.UsePreloadedHlsJs,params:{}});else{try{await Object(Lv.b)()}catch(t){const e=new Rc.a(t,{code:_c.a.SCRIPT_INIT_ERROR});throw this.props.onError(e),e}this.HLSEncoder=new Hls(this.getHlsJsConfig())}const{HLSEncoder:e}=this;window.hls=e,this.subscribeHlsEncoderEvents(e),this.restoreUserTracksWhenPossible(),this.once("VideoPlayingStateChange",()=>{e.config.maxMaxBufferLength=this.getMaxBufferLength()})}subscribeHlsEncoderEvents(e){e.subtitleDisplay=this.state.skin.useNativeSubtitles;const t=t=>{if(!e.levels)return;const n=e.levels[t];if(!n)return;const r=va(n);r&&this.emit("InternalVideoTrackValueChange",r.value)};e.on(Hls.Events.LEVEL_SWITCHING,(e,n)=>{t(n.level)}),e.on(Hls.Events.LEVEL_SWITCHED,(e,n)=>{t(n.level)}),e.on(Hls.Events.STREAM_STATE_TRANSITION,(e,t)=>{let{nextState:n}=t;"FRAG_LOADING"!==n&&(this.lastFragRequest=void 0)}),e.on(Hls.Events.FRAG_LOADING,(e,t)=>{let{frag:{duration:n}}=t;this.lastFragRequest={fragDuration:Object(Ks.i)(1e3*n),getElapsedTime:Object(ds.a)()}}),e.levels&&0!==e.levels.length||e.on(Hls.Events.MANIFEST_PARSED,(n,r)=>{let{levels:i=[],audioTracks:a=[]}=r;this.onLevelsUpdated(),this.updateThumbnailTileMeta();const o=this.getStartVideoLevelIndex(i);e.startLevel=o,this.state.controller.isAbrEnabled||(e.loadLevel=o);this.getStartAudioTrackIndex(a)>-1&&(e.audioTrack=this.getStartAudioTrackIndex(a)),e.once(Hls.Events.LEVEL_LOADED,(e,n)=>{let{level:r}=n;t(r)})}),e.on(Hls.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated),e.on(Hls.Events.AUDIO_TRACK_SWITCHING,(e,t)=>{this.onAudioTrackUpdated(t.id)}),e.on(Hls.Events.AUDIO_TRACK_SWITCHED,(e,t)=>{this.onAudioTrackUpdated(t.id)}),e.on(Hls.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated),e.on(Hls.Events.SUBTITLE_TRACK_SWITCH,(t,n)=>{const{subtitleTrack:r}=e;if(r>-1){const t=fa(e.subtitleTracks.find(e=>e.id===n.id));if(!t)return;this.emit("InternalTextTrackValueChange",t.value)}else this.emit("InternalTextTrackValueChange",void 0)}),e.on(Hls.Events.FRAG_PARSING_METADATA,async(e,t)=>{const{samples:n,frag:r}=t;if(n){const{length:e}=n;if(e){const e=(await Promise.all(n.map(e=>$v.a.parse(e.data).then(e=>{let{writer:t}=e;return t})))).filter(e=>void 0!==e),{data:t,index:i,reason:a}=function(e){const[t,n]=e.reduce((e,t)=>{let[n,r]=e;try{return!function(e){return"object"===typeof e&&e.id&&"number"===typeof e.offset&&(void 0===e.cutoff||"number"===typeof e.cutoff)}(JSON.parse(t))?r.push(t):n.push(t),[n,r]}catch(i){return[n,r]}},[[],[]]);if(t.length>0){const n=t[t.length-1];return{data:n,index:e.indexOf(n),reason:AA.HasAd}}if(n.length>0){const t=n[n.length-1];return{data:t,index:e.indexOf(t),reason:AA.NoAd}}return{data:"",index:-1,reason:AA.NoData}}(e);Nc.a.log("choose metadata: ",t,i,a);Math.random()<.01&&this.props.logEvent({event:bc.a.StreamPlayerChooseMetadata,params:{fragmentMetadataArray:t,chosenIndex:i,chosenReason:a}}),this.emit("MetadataChange",{fragmentMetadataArray:[t],fragmentStart:Object(Ks.k)(r.start),fragmentDuration:Object(Ks.k)(r.duration),src:r?r.url:this.getStreamUrl()})}}}),e.on(Hls.Events.MANIFEST_LOADED,()=>{this.onLevelsUpdated(),this.forceLevel(),this.onAudioTracksUpdated(),this.onSubtitleTracksUpdated()}),e.on(Hls.Events.LEVEL_UPDATED,this.onLevelUpdated),e.on(Hls.Events.ERROR,(e,t)=>{t&&this.onEncoderError(t)}),e.on(Hls.Events.FRAG_PARSED,(e,t)=>this.handleFragParsed(e,t)),this.state.skin.useNativeControls&&this.on("VideoPlayingStateChange",e=>{"play"!==e&&"buffering"!==e||this.startLoadOnce()})}getStartVideoLevelIndex(e){const{userVideoTrackHeight:t,userVideoTrackName:n}=this.playerStore.getState().controller,r=ga(e,{name:n,height:t});if(r){const t=e.indexOf(r);return Nc.a.log("User level found, start loading by index=["+t+"]"),t}return function(e){let{video:t,maxHeightCapping:n,levels:r=[],bandwidth:i}=e;const a=r.slice().filter(Boolean).sort((e,t)=>t.bitrate-e.bitrate);if(0===a.length)return-1;const{width:o,height:s}=Sa(t),[c]=a.filter(e=>!(i&&e.bitrate>i)&&(!(n&&e.height>n)&&(e.width<=o||e.height<=s)));return void 0===c?r.indexOf(a.pop()):r.indexOf(c)}({levels:e,maxHeightCapping:this.maxHeightCapping,video:this.video,bandwidth:this.state.controller.isAbrEnabled?this.getBandwidthEstimate().value:1/0})}getStartAudioTrackIndex(e){const{userAudioTrackName:t,userAudioTrackLang:n}=this.playerStore.getState().controller,r=ma(e,{name:t,lang:n});if(!r)return-1;const i=e.indexOf(r);return Nc.a.log("User audio track found, start loading by index=["+i+"]"),i}handleFragParsed(e,t){let{frag:n}=t;const{duration:r}=n;if(0===r&&this.state.controller.videoType===Ys.a.VOD){const e=this.getHlsEncoderLevelDetails(),t=e?e.fragments:[];if(t[t.length-1]===n)return}(r<=0||r>=2*this.fragDuration)&&this.props.logEvent({event:"InvalidFragDuration",params:qi(n)})}startLoadOnce(e){const{HLSEncoder:t}=this;!this.loadStarted&&void 0!==t&&this.state.controller.isOnline&&(t.levels&&t.levels.length>0?(t.startLoad(e),this.loadStarted=!0):t.once(Hls.Events.MANIFEST_PARSED,()=>{this.startLoadOnce(e)}))}getHlsEncoderLevelDetails(){const{HLSEncoder:e}=this;if(void 0===e)return;const{currentLevel:t,levels:n}=e;if(!n)return;const r=n[t];if(r&&r.details)return this.lastKnownLevelDetails=r.details,this.lastKnownLevelDetails;const i=n.find(e=>{let{details:t}=e;return Boolean(t)});if(i){const{details:e}=i;this.lastKnownLevelDetails=e}return this.lastKnownLevelDetails}computeRecoverJumpGap(){const{controller:{bufferingRanges:e}}=this.state,t=this.getCurrentTime();return Math.max(...e.map(e=>{let{end:t}=e;return t}))+1.1*this.fragDuration<t?(Nc.a.log("use 0 as recoverJumpGap",{currentTime:t,bufferingRanges:e}),Object(Ks.k)(0)):Object(Ks.c)(this.fragDuration,1.1)}computeRecoverPositionFromStartPosition(){const{startPosition:e}=this.state.controller,t={},n=this.computeRecoverJumpGap();return void 0!==e.utc&&e.utc>0&&(t.utc=Object(Ks.a)(e.utc,n)),t.videoTime=Object(Ks.a)(e.videoTime||Object(Ks.k)(0),n),t}computeRecoverPositionFromCurrentTime(){const e={},{lastRecoverPosition:t}=this.state.controller,n=this.getCurrentTime(),r=this.getUtcPosition(),i=this.computeRecoverJumpGap(),{utc:a=0,videoTime:o=0}=t||{};return(r>0||a>0)&&(e.utc=Object(Ks.a)(Object(Ks.k)(Math.max(r,a)),i)),e.videoTime=Object(Ks.a)(Object(Ks.k)(Math.max(n,o)),i),e}async recoverCurrentFrag(){const{lastRecoverPosition:e}=this.state.controller,t=this.getDuration()>0||void 0!==e?this.computeRecoverPositionFromCurrentTime():this.computeRecoverPositionFromStartPosition();this.playerStore.dispatch(xl(t)),this.playerStore.dispatch(Il(t)),await this.detachEncoder(),await this.attachEncoder()}attachMedia(){Nc.a.log("attachMedia"),this.logLoadToRum();const{video:e,HLSEncoder:t}=this;if(void 0===t){const e=new Rc.a({code:_c.a.NO_HLS_JS_INSTANCE,isFatal:!1});return this.props.onError(e),Promise.reject(e)}const n=new Promise(e=>{t.once(Hls.Events.MEDIA_ATTACHED,()=>{window.performance&&Object(as.a)(performance.now)&&(this.HLSEncoderAttachTime=performance.now()),t.url||t.loadSource(this.getStreamUrl()),e()})});t.once(Hls.Events.MANIFEST_PARSED,()=>{if(this.loadStarted)return;const e=this.getStartLoadPosition();t.startLoad(e),this.loadStarted=!0,t.once(Hls.Events.LEVEL_UPDATED,(n,r)=>{let{details:i}=r;const a=this.getStartLoadPosition(i);a!==e&&void 0!==a&&t.streamController.startLoad(a)})});const r=t.levels&&t.levels.length>0?Promise.resolve():new Promise(e=>{t.once(Hls.Events.MANIFEST_PARSED,()=>{e()})});return p(this.video,()=>{t.attachMedia(e)}),Promise.all([n,r]).then(()=>{})}onAudioTrackUpdated(e){const{HLSEncoder:t}=this;if(!t)return;const n=ha(t.audioTracks.find(t=>t.id===e));n&&this.emit("InternalAudioTrackValueChange",n.value)}getVideoType(){const e=this.getHlsEncoderLevelDetails();if(e)return ya(e);return(this.HLSEncoder&&this.HLSEncoder.levels||[]).some(e=>{let{details:t}=e;return Boolean(t&&t.live)})||this.getDuration()===1/0?Ys.a.LIVE:Ys.a.VOD}onLevelsUpdated(){const{sessionData:e={},levels:t=[]}=this.HLSEncoder||{};this.maxHeightCapping=function(e){const{VALUE:t=""}=e["com.yandex.video.capping.maxheight"]||{},n=parseInt(t,10);return n>0?n:void 0}(e),this.emit("VideoTracksChange",Aa(t))}updateThumbnailTileMeta(){const{sessionData:e={}}=this.HLSEncoder||{},t=e=>{this.props.logEvent({event:e,params:void 0})},n=ua(e,uA.LOWRES,t),r=ua(e,uA.HIGHRES,t);if(void 0===r)return;const i=n?da(n,t):void 0,a=da(r,t),o={version:function(e){const{VALUE:t=""}=e["com.yandex.video.thumbnail.version"]||{};return parseFloat(t)||0}(e),lowRes:i,highRes:a};this.playerStore.dispatch(hd(o))}onEncoderError(e){const{details:t,type:n,url:r,frag:i}=e;if(!t)return;if((a=e).networkDetails&&423===a.networkDetails.status&&a.details===Hls.ErrorDetails.LEVEL_LOAD_ERROR){this.props.logEvent({event:bc.a.HlsJsForceCappingStart,params:{}});const{recoverHelper:i}=this;return void i.planTask(()=>this.recoverCurrentFrag(),{force:oa(e),reason:"HlsJs "+n,rawData:{details:t,type:n,url:r,isFatal:!1},delay:0})}var a;const o=na(e),s=ia(e);if(void 0!==s&&(o||n===Hls.ErrorTypes.MEDIA_ERROR))if(this.recoverHelper.allowed&&!s.isFatal){if(this.props.onError(s),aa(e)){if(this.currentState!==Hs.a.BUFFERING&&function(e){const{details:t}=e;return!!t&&cA.includes(t)}(e))return void(this.recoverOnBufferingReason=e);let a;e.details===Hls.ErrorDetails.INTERNAL_EXCEPTION&&"demuxerWorker"===e.event?(fE.a.setItem(vA.WAS_WORKER_INTERNAL_ERROR,"true"),a=()=>this.recoverStream()):a=()=>this.recoverCurrentFrag(),this.recoverHelper.planTask(a,{force:oa(e),reason:"HlsJs "+n,rawData:{details:t,type:n,url:r,isFatal:o,frag:qi(i)},delay:1e3})}}else this.props.onError(new Rc.a(s,{isFatal:!0}))}getHlsTextTrack(e){if(this.HLSEncoder)return this.HLSEncoder.subtitleTracks.find(t=>e.value===String(t.id))}unsubscribePreloadSourceHandlers(){const{preloadSourceHLSEncoder:e}=this;e&&(this.preloadSourceHandlers.forEach(t=>{let[n,r]=t;e.off(n,r)}),this.preloadSourceHandlers.length=0)}clearPreloadSourceHlsEncoder(){this.preloadSourceHLSEncoder=void 0,this.preloadPosition={}}getStartLoadPosition(e){const{startPosition:t}=this.state.controller,{liveOffset:n}=this.props;return function(e){let{details:t,startPosition:n,liveOffset:r}=e,{videoTime:i}=n;if(void 0===t)return i;if(t.hasProgramDateTime&&Ta(n.utc)){const e=Object(Ks.b)(Object(Ks.k)(t.fragments[0].programDateTime),1e3);i=Object(Ks.d)(n.utc,e)}if(!Ta(i))return;const o=ya(t)===Ys.a.VOD?0:r,[s]=t.fragments,c=void 0===s?0:s.start,l=t.totalduration-o;return Object(Ks.k)(a(i,c,l))}({details:e,startPosition:t,liveOffset:n})}startLevelForcingWithSizeCap(){clearInterval(this.levelForcingInterval),this.levelForcingInterval=window.setInterval(()=>{this.forceLevel()},1e3)}stopLevelForcingWithSizeCap(){clearInterval(this.levelForcingInterval)}forceLevel(){if(!this.HLSEncoder||!this.HLSEncoder.autoLevelEnabled||!this.HLSEncoder.levels||!this.HLSEncoder.levels.length)return;const{width:e,height:t}=this.getCapSizes(),n=Object(Ks.j)(Math.min(...[this.maxHeightCapping,t].filter(cs.a))),{levels:r}=this.HLSEncoder,i=r.reduce((t,i,a)=>{if((i.height<t.smallestLevel.height||i.width<t.smallestLevel.width)&&(t.smallestLevel=i,t.smallestLevelIndex=a),i.height>n||i.width>e)return t;const o=(r[t.index]||{}).height||0;return i.height>o?Ma({},t,{index:a}):t},{index:-1,smallestLevel:r[0],smallestLevelIndex:0});this.HLSEncoder.autoLevelCapping=-1===i.index?i.smallestLevelIndex:i.index}}var BA=n(313),HA=n(308);class YA{static fromXHR(e){return new YA(e)}constructor(e){this.status=void 0,this.status=e.status}isFatalError(){return this.isRegionLimitationError()||this.isSignatureExpiredError()}toPlayerError(){return new Rc.a({code:this.getErrorCode(),isFatal:this.isFatalError(),details:JSON.parse(Object(aA.a)(this))})}isRegionLimitationError(){return 451===this.status}isSignatureExpiredError(){return iA.includes(this.status)}getErrorCode(){return this.isRegionLimitationError()?_c.a.REGIONAL_LIMITATION_MANIFEST:this.isSignatureExpiredError()?_c.a.SIGNATURE_EXPIRED_MANIFEST:_c.a.DEFAULT_ERROR}}const KA=e=>Object(eu.a)(e)&&Object(gp.a)(_c.a,e),GA=Object(Ks.i)(3e3);class WA extends FA{initInternalSubscribe(){super.initInternalSubscribe(),this.subscribeVideoBuffering();const{videoTracks:e,audioTracks:t,textTracks:n}=this.props.video,r=Object(is.a)(()=>{this.emit("VideoTracksChange",Wa(e)),this.emit("AudioTracksChange",Ka(t)),this.emit("TextTracksChange",Ga(n));const r=Ba(this.video);r&&this.emit("InternalVideoTrackValueChange",r.value),this.setFirstAudioTrack()});this.initTextTracks(),this.once("CanPlay",r),this.once("Destroy",()=>{this.off("CanPlay",r)}),e&&(this.addEventListener(e,"addtrack",()=>{this.emit("VideoTracksChange",Wa(e)),this.restoreUserVideoTrack()}),this.addEventListener(e,"removetrack",()=>{this.emit("VideoTracksChange",Wa(e))}),this.addEventListener(e,"change",()=>{const e=Ba(this.video);this.emit("InternalVideoTrackValueChange",e&&e.value)})),t&&(this.addEventListener(t,"addtrack",e=>{this.emit("AudioTracksChange",Ka(t)),this.actualizeNativeAudioTrack(),this.restoreUserAudioTrack()}),this.addEventListener(t,"removetrack",()=>{this.emit("AudioTracksChange",Ka(t)),this.actualizeNativeAudioTrack()}),this.addEventListener(t,"change",e=>{this.actualizeNativeAudioTrack(),this.saveUserAudioTrack(e)})),n&&this.addEventListener(n,"addtrack",()=>{this.emit("TextTracksChange",Ga(n))}),this.subscribeCueChange(),this.subscribeToLogTelemetry()}constructor(e){super(e),this.props=e,this.isRecoverablePlaylistHTTPStatus=!0,this.checkPlaylistHTTPStatusPromise=void 0,this.applyStartPosition=()=>{if(!this.canSeek())return;const e=this.getCurrentTime(),t=this.getStartPosition();Object(cs.a)(t)&&e!==t&&this.seekInternal(t)},this.saveUserAudioTrack=e=>{if(!e.isTrusted)return;const t=Fa(this.video);t&&this.playerStore.dispatch(ql({name:t.name||void 0,lang:t.lang||void 0}))},this.actualizeNativeAudioTrack=()=>{const e=Fa(this.video);this.emit("InternalAudioTrackValueChange",e&&e.value)},this.notifyTextTracksChanged=()=>{const e=function(e,t){const{textTracks:n=[]}=e;for(let r=0;r<n.length;r++){const e=n[r];if(e&&Ha(e)&&e.mode===t)return Ya(e,r)}}(this.video,this.getVisibleTextTrackMode());this.emit("InternalTextTrackValueChange",e&&e.value)},this.playerStore.dispatch(Bl(!0)),this.playerStore.dispatch(Hl(!0))}setAudioTrack(e){if(""===e.value)return;const t=Object(zo.a)(this.props.video.audioTracks),n=t.find(t=>t.id===e.value);n&&(g(this.video)&&(this.video.preferredAudioLang=n.id),t.forEach(e=>e.enabled=e.id===n.id))}setTextTrack(e){""!==e.value&&this.renderTextTrack(e.value)}disableTextTrack(){g(this.video)&&(this.video.preferredTextLang=void 0),this.renderTextTrack(void 0)}insertIntoCalled(){g(this.video)&&(this.video.insertIntoCalled=!0)}renderTextTrack(e){Na(this.video.textTracks).forEach((t,n)=>{t&&(Ya(t,n).value===e?(g(this.video)&&(this.video.preferredTextLang=t.language),t.mode=this.getVisibleTextTrackMode()):t.mode=this.getHiddenTextTrackMode())})}seekInternal(e){Fi(this.video,Object(Ks.k)(a(e,0,this.getDuration()||0)))}getSeekableRange(){const e=this.video.seekable;return{start:Object(Ks.k)(e.start(0)),end:Object(Ks.k)(e.end(e.length-1))}}getFragmentsData(){if(!this.isDvrEnabled()||!this.video||!this.video.seekable.length)return super.getFragmentsData();const{start:e,end:t}=this.getSeekableRange();return{totalDuration:Object(Ks.d)(t,e),fragmentDuration:Yv.a,startTime:e}}shouldSkipVideoTagError(e){return e.code!==Cs.b.MEDIA_ERR_DECODE&&e.code!==Cs.b.MEDIA_ERR_ENCRYPTED&&e.code!==Cs.b.MEDIA_ERR_SRC_NOT_SUPPORTED||Zt(this.state)}async onVideoTagError(){const e=h(this.video);if(this.shouldSkipVideoTagError(e))return;this.video.poster=Zs.a,this.checkPlaylistHTTPStatus();const t=!this.recoverHelper.allowed||!this.isRecoverablePlaylistHTTPStatus,n=new Rc.a({code:Va(e),details:e,isFatal:t});if(!t)return this.props.onError(n),void this.recoverHelper.planTask(()=>this.recoverStream(),{delay:500,reason:"VideoTagError ["+e.code+"]["+e.message+"]"});const r=await this.checkPlaylistHTTPStatusPromise;r&&r.isFatalError()?this.props.onError(r.toPlayerError()):this.props.onError(n)}onTick(e){super.onTick(e),this.isDvrEnabled()&&(this.updateSkinDvrParameters(e),this.checkPositionAndReturnToLive())}async attachEncoder(){await super.attachEncoder();const e=e=>(this.props.onError(e),Promise.reject(Object(rA.a)(e.code,this.state.ad.adblockDetected)));if(!("mp4"===Object(fs.c)(Object(fs.d)(this.getStreamUrl().toLowerCase())))&&!TE.a.canPlayHlsOnNative())return e(new Rc.a({code:_c.a.NATIVE_HLS_NOT_SUPPORTED_ERROR}));const{video:t}=this;this.subscribeContentImpression();try{await this.initDrm(this.props.stream.drmConfig)}catch(n){return e(n)}this.setProxyElementAttributes(),this.applyStartPositionEventually(),this.initVideoTypeQualifier(),this.logLoadToRum(),p(t,()=>t.src=this.getStreamUrl())}getStreamUrl(){const e=this.getStartPosition(),t=super.getStreamUrl();return Object(HA.a)(t,e)}onOnline(){}onOffline(){}canSeek(){const{video:e}=this.props;return e.readyState>0&&e.duration>0}setProxyElementAttributes(){}getStartPosition(){const{videoTime:e,utc:t}=this.state.controller.startPosition;if(!Object(cs.a)(e)&&!Object(cs.a)(t))return;const n=this.getUtcStartTime();return n>0&&Object(cs.a)(t)&&t>0?t-n:Object(cs.a)(e)?e:void 0}checkPlaylistHTTPStatus(){this.checkPlaylistHTTPStatusPromise||(this.checkPlaylistHTTPStatusPromise=this.loadPlaylistInfo().then(YA.fromXHR).then(e=>(this.isRecoverablePlaylistHTTPStatus=!e.isFatalError(),e)).catch(()=>{}))}initTextTracks(){let e=!1,t=!1;const{textTracks:n}=this.video;if(!n)return;const r=Object(is.a)(()=>{this.castTextTracksModeOnInit(),this.addEventListener(n,"change",this.notifyTextTracksChanged),this.notifyTextTracksChanged()}),i=()=>{e&&t&&r()};this.addEventListener(this.video,"loadedmetadata",()=>{e=!0,i()}),this.addEventListener(n,"addtrack",Object(BA.a)(()=>{t=!0,i()},0))}setFirstAudioTrack(){if(g(this.video))return;this.restoreUserAudioTrack();const e=Fa(this.video);e&&this.emit("InternalAudioTrackValueChange",e.value)}loadPlaylistInfo(){return Object(tu.a)({method:"HEAD",url:this.getStreamUrl(),timeout:GA,checkStatus:()=>!0})}subscribeCueChange(){const{textTracks:e}=this.video;if(!e||"function"!==typeof e.addEventListener)return;const t=e=>{const t=e.track;t&&"metadata"===t.kind&&(t.mode="hidden",this.addEventListener(t,"cuechange",e=>{const{activeCues:t}=e.target,{length:n}=t;if(!n)return;const r=t[n-1];if(!r)return;const{value:i,startTime:a,endTime:o}=r;if(!i)return;const s="number"===typeof o&&isFinite(o)?Object(Ks.d)(o,a):Yv.a,c=Object(zo.a)(t).map(e=>{if(e&&e.value){const{data:t}=e.value;if("string"===typeof t)return t}return""});this.emit("MetadataChange",{fragmentMetadataArray:c,fragmentStart:a,fragmentDuration:s,src:this.video.src})}))};e.addEventListener("addtrack",t),this.on("Destroy",()=>e.removeEventListener("addtrack",t))}castTextTracksModeOnInit(){if(this.state.skin.useNativeSubtitles)return;void 0!==Na(this.video.textTracks).find(e=>Boolean(e&&"disabled"===e.mode))||Na(this.video.textTracks).forEach(e=>{e&&(e.mode="showing"===e.mode?this.getVisibleTextTrackMode():this.getHiddenTextTrackMode())})}subscribeToLogTelemetry(){this.addVideoEventListener("telemetryEvent",e=>{this.props.logEvent({event:e.eventName,params:e.params})})}}class XA extends WA{constructor(e){super(e),this.props=e,this.engine=ep.a.MP4;const t=Object(is.a)(()=>{this.emit("VideoTracksChange",function(e){const{videoWidth:t,videoHeight:n}=e;return[{name:Ea({width:Object(Ks.j)(t),height:Object(Ks.j)(n)}),value:"0",bitrate:kp,width:t,height:n}]}(e.video))});this.once("CanPlay",t),this.once("Destroy",()=>this.off("CanPlay",t))}async attachEncoder(){await super.attachEncoder(),Nc.a.log("mp4 native mode")}applyStartPositionEventually(){const e=this.addVideoEventListener("durationchange",()=>{this.canSeek()&&(this.applyStartPosition(),e(),this.off("Detach",e))});this.once("Detach",e)}initVideoTypeQualifier(){this.emit("VideoTypeChange",Ys.a.VOD)}initDrm(){return Promise.resolve()}setVideoTrack(){}}const qA=Object(Ks.k)(5*Math.random()),zA=e=>!!e.data&&418===e.data[1],QA={error:"",isFatal:!1},JA=e=>{try{return Qa(e.data[2])}catch(t){return QA}};let ZA;!function(e){e.EXPIRED_SIGNATURE="EXPIRED_SIGNATURE"}(ZA||(ZA={}));var $A=n(45);class em{static convertToTextTrackCue(e){return shaka&&VTTCue?e.startTime>=e.endTime?null:new VTTCue(e.startTime,e.endTime,e.payload):null}static removeWhere(e,t){const n=e.mode;e.mode="hidden";const r=e.cues||[];for(let i=r.length-1;i>=0;i--){const n=r[i];n&&t(n)&&e.removeCue(n)}e.mode=n}constructor(e,t){this.useNativeSubtitles=t,this.textTrack=void 0,Object(zo.a)(e.textTracks).forEach(e=>{e.mode="disabled","StreamPlayerJs TextTrack"===e.label&&(this.textTrack=e)}),this.textTrack||(this.textTrack=e.addTextTrack("subtitles","StreamPlayerJs TextTrack")),this.textTrack.mode=this.hiddenMode()}remove(e,t){if(!this.textTrack||!shaka)return!1;return em.removeWhere(this.textTrack,n=>n.startTime<t&&n.endTime>e),!0}append(e){if(!shaka||!this.isTextVisible()||!this.textTrack)return;const t=[];e.forEach(e=>{const n=em.convertToTextTrackCue(e);n&&t.push(n)});t.slice().sort((e,n)=>e.startTime!==n.startTime?e.startTime-n.startTime:e.endTime!==n.endTime?e.endTime-n.startTime:t.indexOf(n)-t.indexOf(e)).forEach(e=>{this.textTrack.addCue(e)})}destroy(){if(this.textTrack){const e=e=>!0;em.removeWhere(this.textTrack,e)}return this.textTrack=void 0,Promise.resolve()}isTextVisible(){return!!this.textTrack&&this.textTrack.mode!==this.hiddenMode()}setTextVisibility(e){this.textTrack&&(this.textTrack.mode=e?this.showingMode():this.hiddenMode())}hiddenMode(){return"disabled"}showingMode(){return wa(this.useNativeSubtitles())}}let tm=!1;const nm={version:'Period>SupplementalProperty[schemeIdUri="urn:mpeg:yandex:thumbnail:version"]',uriTemplate:'SupplementalProperty[schemeIdUri="urn:mpeg:yandex:thumbnail:uri"]',tiles:'SupplementalProperty[schemeIdUri="urn:mpeg:yandex:thumbnail:tiles"]',spriteDuration:'SupplementalProperty[schemeIdUri="urn:mpeg:yandex:thumbnail:duration"]',resolution:'SupplementalProperty[schemeIdUri="urn:mpeg:yandex:thumbnail:resolution"]'},rm={version:nm.version,uriTemplate:'SupplementalProperty[schemeIdUri="urn:mpeg:yandex:thumbnail:lowres:uri"]',tiles:'SupplementalProperty[schemeIdUri="urn:mpeg:yandex:thumbnail:lowres:tiles"]',spriteDuration:'SupplementalProperty[schemeIdUri="urn:mpeg:yandex:thumbnail:lowres:duration"]',resolution:'SupplementalProperty[schemeIdUri="urn:mpeg:yandex:thumbnail:lowres:resolution"]'},im=document.createElement("canvas"),am=im.getContext("2d");var om=n(261);const sm=Object(Ks.i)(3e4);class cm extends mc.a{constructor(){super(),this.blacklist=[],this.checkLoopTimeoutId=void 0,this.startLoop()}destroy(){this.stopLoop(),super.destroy()}addHostname(e){om.a.indexOf(e)>-1||this.blacklist.indexOf(e)>-1||this.blacklist.push(e)}isBlacklisted(e){return this.blacklist.indexOf(e)>-1}async checkBlacklistedHosts(){const e=[];await Promise.all(this.blacklist.map(async t=>{try{await Rt(Sn(t)),e.push(t)}catch(n){}})),this.blacklist=this.blacklist.filter(t=>!(e.indexOf(t)>-1))}startLoop(){this.getIsDestroyed()||(this.checkLoopTimeoutId=window.setTimeout(async()=>{this.stopLoop(),await this.checkBlacklistedHosts(),this.startLoop()},sm))}stopLoop(){clearTimeout(this.checkLoopTimeoutId)}}const lm=e=>void 0!==e.width&&void 0!==e.height,dm=(e,t,n)=>{const r=e.filter(lm);return r.sort((e,t)=>e.width>t.width&&e.height>t.height?-1:1).find(e=>{let{width:r,height:i}=e;return r<=t&&i<=n})||r[r.length-1]};var um=n(269);const hm=Object(is.a)(()=>{const e=Object(ME.a)("Chrome");if(void 0===e)return!0;const[t]=e;return t>70}),fm=/^(ext-)?strm[^\.]+\.strm\.yandex\.net$/;class pm extends mc.a{constructor(e,t){super(),this.source=e,this.cacheData=t,this.addDestroyHandler(()=>{var e;null==(e=this.cacheData.segmentCache)||e.clear(),this.cacheData.loadedManifest=void 0,this.cacheData.cachedVariantTrack=void 0})}get preloaded(){var e;return null!=(e=this.cacheData.segmentCache)&&e.hasCachedData()?"full":this.cacheData.loadedManifest?"manifest":"none"}preload(){return Promise.resolve()}getBandwidthEstimate(){}copyCachedData(){var e;return{segmentCache:null==(e=this.cacheData.segmentCache)?void 0:e.copy(),loadedManifest:this.cacheData.loadedManifest}}getCachedVariantTrack(){return this.cacheData.cachedVariantTrack}getBufferingRanges(){return this.cacheData.bufferingRanges}getSource(){return this.source}getType(){return eE.Cache}}var Em=n(212);const vm=Object(Ks.i)(1e3),Am=Object(Ks.k)(.001);class mm extends FA{initInternalSubscribe(){super.initInternalSubscribe(),this.once("Destroy",()=>this.chunkHostnameBlacklist.destroy()),this.once("Destroy",()=>this.stopShakaConfigAutoUpdate()),this.once("Destroy",()=>{var e;return null==(e=this.customNetworkingEngine)?void 0:e.destroy()}),this.once("Destroy",()=>{var e;return null==(e=this.preloader)?void 0:e.destroy()});const e=e=>{Vi(this.shakaPlayer)&&this.shakaPlayer.setTextTrackVisibility(Boolean(e))};this.on("InternalTextTrackValueChange",e),this.once("Destroy",()=>this.off("InternalTextTrackValueChange",e)),this.addEventListener(this.video,"play",this.updateBufferingState)}constructor(e,t){var n;super(e),n=this,this.preloader=t,this.engine=ep.a.MPD,this.shakaPlayer=void 0,this.chunkHostnameBlacklist=new cm,this.shakaConfigAutoUpdateInterval=void 0,this.manifestXML=void 0,this.initMpdEncoderPromise=void 0,this.detachMpdEncoderCalled=!1,this.useNativeSubtitles=!1,this.customNetworkingEngine=void 0,this.lastTrackBeforeDetach=void 0,this.tryUsePreloaded=!1,this.isPauseCalled=!1,this.playingStateBeforeLoadShakaSource=void 0,this.abrManager=void 0,this.abrRestrictionsHelper=new Bv({getManifestXml:()=>this.manifestXML,getState:()=>this.state,getCapSizes:()=>this.getCapSizes()}),this.tryToInjectWidevineCert=Object(is.a)(async()=>{const{drmConfig:e={}}=this.props.stream;if(No)return;if(!e)return;const t=e.advanced;if(t&&t["com.widevine.alpha"])try{const{serverCertificateUrl:e}=t["com.widevine.alpha"];if(!e)return;const{response:n}=await Object(tu.a)({method:"get",responseType:"arraybuffer",url:e,withCredentials:this.withCredentials});t["com.widevine.alpha"].serverCertificate=new Uint8Array(n)}catch(n){const e=new Rc.a(n,{isFatal:!1,code:_c.a.MPD_WIDEVINE_CERT_LOAD_ERROR});this.props.onError(e)}}),this.shakaHTTPRequestFilter=(e,t)=>Object(hs.a)(()=>this.shakaHTTPRequestFilterInternal(e,t),this.onShakaFilterError),this.shakaHTTPRequestFilterInternal=(e,t)=>{if("undefined"!==typeof shaka)switch(t.allowCrossSiteCredentials=this.withCredentials,e){case shaka.net.NetworkingEngine.RequestType.LICENSE:const{stream:e}=this.props,{drmConfig:n}=e;if(!n)return;const{requestParams:r}=n;if(r){const{StringUtils:e,Uint8ArrayUtils:n}=shaka.util,i=oo({rawLicenseRequestBase64:n.toBase64(new Uint8Array(t.body||new ArrayBuffer(0)))},r);t.body=e.toUTF8(JSON.stringify(i)),t.headers=oo({},t.headers,{"Content-Type":"application/json"})}n.headers&&(t.headers=oo({},t.headers,n.headers));break;case shaka.net.NetworkingEngine.RequestType.SEGMENT:eo(t,this.getRemainingBufferedTime());const{uris:i}=t,a=i.filter(e=>{const{hostname:t}=Object(fs.g)(e);return!this.chunkHostnameBlacklist.isBlacklisted(t)});if(0===a.length)break;t.uris=a}},this.shakaPreviewsHTTPResponseFilter=(e,t)=>Object(hs.a)(()=>this.shakaPreviewsHTTPResponseFilterInternal(e,t),this.onShakaFilterError),this.shakaPreviewsHTTPResponseFilterInternal=(e,t)=>{const n=Yi(e,t);if(!n)return;this.manifestXML&&this.checkRepresentationChange(this.manifestXML,n),this.manifestXML=n;const r=$a(n,uA.LOWRES),i=$a(n,uA.HIGHRES),a={version:function(e){const t=e.querySelector('AdaptationSet[mimeType="image/jpeg"] SupplementalProperty[schemeIdUri="urn:mpeg:yandex:thumbnail:version"]');return t?parseFloat(t.getAttribute("value")||""):0}(n),lowRes:r,highRes:i};a.highRes&&this.playerStore.dispatch(hd(a))},this.updateBufferingState=()=>{if(Zt(this.state))return;const{shakaPlayer:e}=this;if(void 0===e)return;if(function(e){if(!e.isBuffering())return!1;const t=xi(e);if(!(t===Ys.a.LIVE||t===Ys.a.EVENT))return!1;const n=e.getMediaElement();if(!n)return!1;const{currentTime:r}=n,i=Ui(e);if(0===i)return!1;const a=r+i/2,o=Mi(e,Object(Ks.k)(r)),s=Mi(e,Object(Ks.k)(a));return Boolean(o&&!s)}(e)){const e=Object(Xf.a)(Ic.a.LiveEdge,void 0);this.playerStore.dispatch(ld(e))}const t=this.computeVideoPlayingState(e);this.emit("InternalPlayingStateChange",t)},this.onShakaAdaptationEvent=()=>{this.actualizeAvailableVariantTracks(),this.actualizeActiveVariantTrack()},this.onShakaEmsgEvent=e=>{if(Nc.a.log("-> Shaka EmsgEvent",e),!Object(Jo.a)(e)||!Object(Jo.a)(e.detail)||!Object(Jo.a)(e.detail.messageData))return;const{startTime:t,messageData:r}=e.detail;$v.a.parse(r).then((function(e){let{writer:r}=void 0===e?{}:e;r&&n.emit("MetadataChange",{fragmentMetadataArray:[r],fragmentStart:t,fragmentDuration:Ui(n.shakaPlayer,t),src:n.getStreamUrl()})}))},this.reportLargeGap=e=>{Nc.a.log("-> Shaka LargeGapEvent",e),this.props.logEvent({event:"MpdLargeGap",params:{currentTime:e.currentTime,gapSize:e.gapSize}})},this.actualizeTracks=()=>{Vi(this.shakaPlayer)&&(this.actualizeAvailableTracks(),this.actualizeActiveTracks())},this.onShakaErrorEvent=e=>{if(!shaka||!e)return;const{detail:t}=e;this.onShakaError(t);const n=Za(shaka,t);n&&n.isFatal&&this.shakaPlayer&&(this.shakaPlayer.destroy(),this.shakaPlayer=void 0)},this.onShakaError=e=>{if(!shaka)return;Nc.a.error("-> onShakaError",e);const t=function(e,t,n){let{code:r}=t;return r===e.util.Error.Code.VIDEO_ERROR&&n.controller.watchedTime>0}(shaka,e,this.state)&&this.recoverHelper.allowed;t&&(e.severity=shaka.util.Error.Severity.RECOVERABLE);const n=Za(shaka,e);n&&(t&&this.recoverHelper.planTask(()=>this.recoverStream(),{delay:0,reason:n.code}),this.checkDeadChunkServer(e),this.props.onError(n))},this.onShakaFilterError=e=>{if(shaka){if(Nc.a.error("-> onShakaFilterError",e),t=e,Object(Jo.a)(t)&&Object(cs.a)(t.severity)&&Object(cs.a)(t.category)&&Object(cs.a)(t.code)&&Object($A.a)(t.data))return this.onShakaError(e);var t;this.props.onError(new Rc.a({code:_c.a.SHAKA_FILTER_ERROR,message:e.message,isFatal:!1,stack:e.stack}))}},this.onShakaNetworkError=(e,t)=>{if("undefined"===typeof shaka||void 0===this.shakaPlayer)return;if(e===shaka.net.NetworkingEngine.RequestType.LICENSE&&zA(t)){if(JA(t).isFatal||t.severity===shaka.util.Error.Severity.CRITICAL)return void(t.severity=shaka.util.Error.Severity.CRITICAL)}const n=Xa(shaka,t);451===n||iA.includes(n)?t.severity=shaka.util.Error.Severity.CRITICAL:this.onShakaError(t)},this.parseTextTrack=e=>{let{label:t,language:n,originalTextId:r}=e;const i=io(this.manifestXML,r)||n;return{name:t||i||r,value:r,lang:i}},this.parseAudioTrack=e=>{let{label:t,language:n,originalId:r,bandwidth:i}=e;const a=io(this.manifestXML,r)||n;return{name:t||a||r,value:r,lang:a,bitrate:Object(Ks.g)(i?i/1e3:kp)}},function(e){try{if(!navigator.requestMediaKeySystemAccess)return;const t=Object(Em.a)(e);if(t===window)return;if(!t.navigator.requestMediaKeySystemAccess)return;navigator.requestMediaKeySystemAccess=function(){return t.navigator.requestMediaKeySystemAccess(...arguments)}}catch(t){}}(this.video),Object(ss.a)(Object(Lv.f)()),t&&t.isDestroyed&&(this.preloader=void 0),this.video.classList.add(kA.a.video_hiddenSubtitlesBtn),this.playerStore.dispatch(Bl(!0)),function(){if(!tm&&(tm=!0,window.MediaKeySession)){const{prototype:e}=window.MediaKeySession,{close:t}=e;e.close=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Promise.race([t.call(this,n),Object(us.a)(200).promise])}}}(),this.useNativeSubtitles=this.state.skin.useNativeSubtitles}getMaxCapAllowedVideoTrack(){const{maxHeight:e=1/0,maxWidth:t=1/0}=this.abrRestrictionsHelper.getAbrRestrictions(),{videoTracks:n}=this.state.controller;return dm(n,Object(Ks.j)(t),Object(Ks.j)(e))}getFragmentsData(){const{start:e=Object(Ks.k)(0),end:t=Object(Ks.k)(0)}=void 0===this.shakaPlayer?{}:this.shakaPlayer.seekRange();return{totalDuration:Object(Ks.d)(t,e),fragmentDuration:Ui(this.shakaPlayer),startTime:e}}onOnline(){}onOffline(){}getUtcStartTime(){const e=Bi(this.shakaPlayer,this.manifestXML);return void 0===e?super.getUtcStartTime():e}getUtcPosition(){const e=function(e,t){if(void 0===e)return;const n=Bi(e,t);if(void 0===n)return;const r=e.getMediaElement();return r?Object(Ks.a)(n,Object(Ks.k)(r.currentTime)):void 0}(this.shakaPlayer,this.manifestXML);return void 0===e?super.getUtcPosition():e}setVideoTrack(e){var t;let{value:n}=e;if(void 0===this.shakaPlayer)return;if("auto"===n)return void this.setAbrEnabled(!0);const r=Ni(this.shakaPlayer);if(void 0===r)return;const i=ro(null==(t=this.abrManager)?void 0:t.getVariants(),n,r.originalAudioId),a=this.shakaPlayer.getVariantTracks().find(e=>e.id===i);void 0!==a&&(this.setAbrEnabled(!1),this.setVariantTrack(a))}setAudioTrack(e){let{lang:t,value:n}=e;if(void 0===this.shakaPlayer)return;const r=Ni(this.shakaPlayer);if(void 0===r)return;const i=this.shakaPlayer.getVariantTracks().find(e=>{const t=e.originalAudioId===n,i=e.originalVideoId===r.originalVideoId;return t&&i});if(!r||!i)return void this.shakaPlayer.selectAudioLanguage(t);const{height:a,videoBandwidth:o}=r,{language:s}=i;this.setVariantTrack(this.shakaPlayer.getVariantTracks().find(e=>e.height===a&&e.videoBandwidth===o&&e.language===s))}setTextTrack(e){let{value:t}=e;if(!this.shakaPlayer)return;const n=this.shakaPlayer.getTextTracks().find(e=>{let{originalTextId:n}=e;return n===t});n&&(this.shakaPlayer.selectTextTrack(n),this.emit("InternalTextTrackValueChange",t))}disableTextTrack(){this.shakaPlayer&&this.emit("InternalTextTrackValueChange",void 0)}toggleNativeSubtitles(e){super.toggleNativeSubtitles(e),this.useNativeSubtitles=e}captureScreenshot(e){return(e=>{if(!am)return Promise.reject();im.width=e.videoWidth,im.height=e.videoHeight;try{am.drawImage(e,0,0,e.videoWidth,e.videoHeight)}catch(t){return Promise.reject(t)}return new Promise((e,n)=>{try{im.toBlob(t=>{e(t)},"image/jpeg")}catch(t){n(t)}})})(e).then(e=>{this.previousScreenshotBlobUrl=URL.createObjectURL(e)}).catch(()=>{this.previousScreenshotBlobUrl=void 0}).then(()=>this.previousScreenshotBlobUrl)}onVideoTagError(e){super.onVideoTagError(e),Nc.a.log("-> onVideoTagError",e)}getDuration(){return Vi(this.shakaPlayer)?this.shakaPlayer.seekRange().end:Object(Ks.k)(NaN)}async preloadSource(){var e;this.tryToInjectWidevineCert(),await Object(Lv.f)();if(this.isDestroyed||this.preloader&&!this.preloader.isDestroyed||void 0!==this.initMpdEncoderPromise||void 0!==this.shakaPlayer||!shaka.Player.isBrowserSupported()||(null==(e=this.customNetworkingEngine)?void 0:e.hasCachedData()))return;const t=new Jv({source:this.props,getState:()=>this.state,getCapSizes:()=>this.getCapSizes(),type:eE.Internal});this.preloader=t,t.addDestroyHandler(()=>this.preloader=void 0);const n=t.getVideoElement(),r=Object(Go.a)(n,"canplay",()=>{this.captureScreenshot(n).then(()=>{this.props.setPlayerBackgroundImage(this.previousScreenshotBlobUrl),this.props.setPlayerBackgroundVisibility(!1)})},{once:!0});this.once("ContentImpression",r),this.once("Destroy",r),await t.preload()}createCachePreloader(){if(this.customNetworkingEngine)return new pm({stream:this.props.stream,sourceParams:this.props.sourceParams},oo({},this.customNetworkingEngine.copyCachedData(),{cachedVariantTrack:this.customNetworkingEngine.getCurrentVariantTrack(),bufferingRanges:mi(this.video)}))}getSeekableRange(){const{start:e,end:t}=Vi(this.shakaPlayer)?this.shakaPlayer.seekRange():{start:Object(Ks.k)(0),end:Object(Ks.k)(0)};return{start:e,end:Object(Ks.k)(Math.min(t,Object(Ks.d)(this.getDuration(),Am)||0))}}canSeek(){return Vi(this.shakaPlayer)&&super.canSeek()}onTick(e){const t=xi(this.shakaPlayer);t!==this.state.controller.videoType&&(this.emit("VideoTypeChange",t),void 0!==this.shakaPlayer&&this.setShakaAvailabilityWindowOverride(this.shakaPlayer)),super.onTick(e);const{shakaPlayer:n}=this;if(void 0===n)return;const r=Bi(this.shakaPlayer,this.manifestXML),i=void 0===r?void 0:Object(Ks.c)(r,1e3);i!==this.state.controller.programDateTime&&this.emit("ProgramDateTimeChange",i);const a=t===Ys.a.VOD;this.setNativeTimeControlVisibility(a),this.setNativeTimelineControlVisibility(a)}getStreamUrl(){const e=super.getStreamUrl(),t={audio_mbr:"1",mburl:"1"};return Object(nA.a)(e)||(t.preview="1"),Object(fs.b)(e,t,{saveOriginalPath:!0})}getMaxBufferLength(){const e=xi(this.shakaPlayer);return!(e===Ys.a.LIVE||e===Ys.a.EVENT)||this.shouldUseLowBuffer()||this.isLowLatencyLive()?super.getMaxBufferLength():this.props.liveOffset}async detachEncoder(){this.detachMpdEncoderCalled=!0;const e=Ni(this.shakaPlayer);this.lastTrackBeforeDetach=e||void 0,await super.detachEncoder(),this.manifestXML=void 0;const{video:t,shakaPlayer:n}=this;t.classList.remove(kA.a.video_hiddenSubtitlesBtn),this.stopShakaConfigAutoUpdate(),void 0!==n&&await this.preventPauseAsync(t,()=>(this.shakaPlayer=void 0,n.destroy())),Object(Rs.a)(window.VTTCue)||delete window.VTTCue}async attachEncoder(){this.detachMpdEncoderCalled=!1,await super.attachEncoder(),this.initMpdEncoderPromise=this.initMpdEncoder(),await this.initMpdEncoderPromise,this.initMpdEncoderPromise=void 0}getBandwidthEstimate(){var e,t;const n=null==(e=this.preloader)?void 0:e.getBandwidthEstimate();if(n&&Object(cs.a)(n.value))return n;const r=null==(t=this.shakaPlayer)?void 0:t.getStats(),{estimatedBandwidth:i,estimatedBandwidthSource:a}=r||{};return i?{value:i,source:a}:super.getBandwidthEstimate()}getLiveLatency(){var e;const{state:t}=this;if(!Pa(t)||Zt(t))return;if(this.video.playbackRate<qf.a)return;const{controller:{playingState:n,currentTime:r,duration:i}}=t;if(!(n===Hs.a.PLAY||n===Hs.a.BUFFERING))return;if(0===r||!i)return;const a=this.getUtcPosition(),o=null==(e=this.customNetworkingEngine)?void 0:e.getServerTime();return a>0&&void 0!==o?Object(Ks.k)(Math.max(o/1e3-a,0)):void 0}getRemainingBufferedTime(){if(!Vi(this.shakaPlayer))return super.getRemainingBufferedTime();const{currentTime:e}=this.state.controller,{audio:t,video:n,total:r}=this.shakaPlayer.getBufferedInfo();return{total:Pn(r,e)||Object(Ks.k)(0),video:Pn(n,e)||Object(Ks.k)(0),audio:Pn(t,e)||Object(Ks.k)(0)}}getUtcEndTime(){if(xi(this.shakaPlayer)===Ys.a.LIVE)return this.getSeekableRange().end;const e=this.getUtcStartTime();return e?Object(Ks.a)(e,this.getDuration()):Object(Ks.k)(0)}handleVideoElementPlayEvent(){var e;null!=(e=this.shakaPlayer)&&e.isBuffering()||super.handleVideoElementPlayEvent()}async recoverStream(){return 1===this.recoverHelper.attempt&&this.captureScreenshot(this.props.video).then(()=>{this.handleBackgroundBeforeRecover()}),super.recoverStream()}async play(){if(this.isPauseCalled=!1,this.initMpdEncoderPromise&&await this.initMpdEncoderPromise,this.isPauseCalled)throw new Error("Pause called during play");await super.play()}pause(){this.isPauseCalled=!0,super.pause()}handleBackgroundBeforeRecover(){this.props.setPlayerBackgroundImage(this.previousScreenshotBlobUrl),this.once("CanPlay",()=>{this.props.setPlayerBackgroundImage(),this.clearScreenshot()})}async initMpdEncoder(){var e;this.tryToInjectWidevineCert(),Object(jp.e)("drm",ao(this.props.stream.drmConfig));try{await Object(Lv.f)()}catch(o){const e=new Rc.a(o,{code:_c.a.MPD_SHAKA_INIT_ERROR});throw this.props.onError(e),e}if(this.detachMpdEncoderCalled)return;const t=p(this.video,()=>new shaka.Player(this.video));this.shakaPlayer=t,this.customNetworkingEngine=this.customNetworkingEngine||new Xv(null==(e=this.preloader)?void 0:e.copyCachedData()),this.customNetworkingEngine.setup(t,this.onShakaNetworkError),this.playerStore.dispatch(wd(void 0===this.preloader?void 0:{preloadingMethod:this.preloader.getType(),preloaded:this.preloader.preloaded})),this.preloader&&"full"!==this.preloader.preloaded&&this.preloader.destroy(),this.subscribeContentImpression(),this.attachShakaEventListeners(t);const n=t.getNetworkingEngine();n.registerRequestFilter(this.shakaHTTPRequestFilter),n.registerResponseFilter(this.shakaPreviewsHTTPResponseFilter);const{video:r}=this,i=()=>this.useNativeSubtitles;this.configureShaka(t,oo({},this.getInitialShakaConfig(),{textDisplayFactory:function(){return new em(r,i)}})),this.logLoadToRum();try{var a;if(this.tryUsePreloaded=!0,await this.preventPauseAsync(this.video,async()=>{this.playingStateBeforeLoadShakaSource=this.state.controller.playingState,await Ki({shakaPlayer:t,streamUrl:this.getStreamUrl(),startPosition:this.state.controller.startPosition}),this.playingStateBeforeLoadShakaSource=void 0}),null==(a=this.preloader)||a.destroy(),this.detachMpdEncoderCalled)return;this.initShakaConfigAutoUpdate(),this.lastTrackBeforeDetach=void 0,this.tryUsePreloaded=!1}catch(o){this.playingStateBeforeLoadShakaSource=void 0,this.onShakaError(o)}}findPreloadedVariant(e){var t,n;if(!this.tryUsePreloaded)return;if(null==(t=this.customNetworkingEngine)||!t.hasCachedSegments())return;const r=(null==(n=this.preloader)?void 0:n.getCachedVariantTrack())||this.lastTrackBeforeDetach;return void 0!==r?e.find(e=>{let{video:t,audio:n}=e;const i=!t||t.originalId===r.originalVideoId,a=!n||n.originalId===r.originalAudioId;return i&&a}):void 0}getPlaybackRate(){return this.state.controller.playbackRate}getInitialShakaConfig(){var e;const{stream:t}=this.props,n=this.getBandwidthEstimate(),r=this.abrManager=new Fv({getPlaybackRate:this.getPlaybackRate.bind(this),bandwidthEstimateOffset:null!=(e=this.props.bandwidthEstimateOffset)?e:Object(Ks.e)(0),getSegmentDuration:()=>Ui(this.shakaPlayer),getFilterParams:e=>({preloadedVariant:this.findPreloadedVariant(e),restrictions:this.abrRestrictionsHelper.getAbrRestrictions()})});return oo({},Rv,{abr:oo({},Rv.abr,null!=n&&n.value?{defaultBandwidthEstimate:n.value,defaultBandwidthEstimateSource:n.source}:{}),abrFactory:function(){return r},drm:oo({},Rv.drm,t.drmConfig),streaming:oo({},Rv.streaming,{bufferingGoal:this.getMaxBufferLength()})})}attachShakaEventListeners(e){e.addEventListener("buffering",this.updateBufferingState),e.addEventListener("error",this.onShakaErrorEvent),e.addEventListener("adaptation",this.onShakaAdaptationEvent),e.addEventListener("trackschanged",this.actualizeTracks),e.addEventListener("emsg",this.onShakaEmsgEvent),e.addEventListener("largegap",this.reportLargeGap),e.addEventListener("manifestparsed",()=>{this.onManifestParsed(e),this.updateShakaConfig();const t=this.getBandwidthEstimate();Object(cs.a)(t.value)&&(Object(jp.e)("bandwidthEstimate",Qr(Object(Ks.b)(t.value,1e3))),this.configureShaka(e,{abr:{defaultBandwidthEstimate:t.value,defaultBandwidthEstimateSource:t.source}}))}),e.addEventListener("trackschanged",Object(is.a)(this.restoreUserTracks))}onManifestParsed(e){this.setShakaAvailabilityWindowOverride(e),this.setPresentationTimelineDelay(e)}isLowLatencyLive(){var e,t;return Boolean(null==(e=this.shakaPlayer)?void 0:e.isLive())&&Boolean(null==(t=this.manifestXML)?void 0:t.querySelector("[availabilityTimeOffset]"))}setPresentationTimelineDelay(e){const t=e.getManifest();t&&(this.isLowLatencyLive()||t.presentationTimeline.setDelay(this.props.liveOffset+qA))}setShakaAvailabilityWindowOverride(e){const t=xi(e);if(void 0===t)return;const n=t===Ys.a.EVENT?1/0:NaN,{manifest:{availabilityWindowOverride:r}}=e.getConfiguration();n===r||isNaN(n)&&isNaN(r)||this.configureShaka(e,{manifest:{availabilityWindowOverride:n}})}setVariantTrack(e){void 0!==this.shakaPlayer&&void 0!==e&&(this.shakaPlayer.selectVariantTrack(e,!0),this.actualizeTracks())}setAbrEnabled(e){void 0!==this.shakaPlayer&&(this.configureShaka(this.shakaPlayer,{abr:{enabled:e}}),this.updateShakaConfig())}actualizeActiveTracks(){this.actualizeActiveVariantTrack(),this.actualizeActiveTextTrack()}actualizeActiveVariantTrack(){const e=Ni(this.shakaPlayer);if(void 0===e)return;const{originalAudioId:t,originalVideoId:n}=e;this.emit("InternalVideoTrackValueChange",n),this.emit("InternalAudioTrackValueChange",t)}actualizeActiveTextTrack(){if(void 0===this.shakaPlayer)return;const{controller:{textTrackEnabled:e}}=this.state,t=this.getCurrentInternalTextTrack();this.emit("InternalTextTrackValueChange",void 0!==t&&e?this.parseTextTrack(t).value:void 0)}actualizeAvailableTracks(){this.actualizeAvailableTextTracks(),this.actualizeAvailableVariantTracks()}actualizeAvailableTextTracks(){const e=this.getAvailableTextTracks();this.video.classList.toggle(kA.a.video_hiddenSubtitlesBtn,0===e.length),this.emit("TextTracksChange",e)}getAvailableTextTracks(){return this.shakaPlayer?this.shakaPlayer.getTextTracks().map(this.parseTextTrack):[]}actualizeAvailableVariantTracks(){const e=Ni(this.shakaPlayer);if(!e)return;const t=Di(this.shakaPlayer);if(!t)return;const n=t.variants;if(!Array.isArray(n))return;const r={},i={};n.forEach(t=>{const n=t.video,a=t.audio;if(!a||a.originalId===e.originalAudioId){const t=(e=>{const{bandwidth:t,width:n,height:r,originalId:i}=e;return{name:Ea(e),value:i,width:n,height:r,bitrate:t?Object(Ks.b)(Object(Ks.e)(t),1e3):kp}})(n),{name:i=String(t.height)||""}=t;(void 0===r[i]||t.value===e.originalVideoId||r[i].value!==e.originalAudioId&&r[i].bitrate<t.bitrate)&&(r[i]=t)}if(a&&n.originalId===e.originalVideoId){const t=this.parseAudioTrack(a),{name:n}=t;(void 0===i[n]||t.value===e.originalAudioId||i[n].value!==e.originalAudioId&&i[n].bitrate<t.bitrate)&&(i[n]=t)}}),this.emit("VideoTracksChange",Object(NE.a)(r)),this.emit("AudioTracksChange",Object(NE.a)(i))}getCurrentInternalTextTrack(){return void 0===this.shakaPlayer?void 0:this.shakaPlayer.getTextTracks().find(Hv)}checkDeadChunkServer(e){if(!shaka)return;if(!Object(Rf.a)(this.getStreamUrl()))return;if(this.state.controller.videoType!==Ys.a.VOD)return;const{code:t,data:n}=e;if(!(t===shaka.util.Error.Code.BAD_HTTP_STATUS||t===shaka.util.Error.Code.HTTP_ERROR||t===shaka.util.Error.Code.TIMEOUT))return;const[r]=n,i=n[n.length-1];if("string"===typeof r&&i===shaka.net.NetworkingEngine.RequestType.SEGMENT){const{hostname:e}=Object(fs.g)(r);this.chunkHostnameBlacklist.addHostname(e)}}initShakaConfigAutoUpdate(){this.stopShakaConfigAutoUpdate(),this.shakaConfigAutoUpdateInterval=window.setInterval(()=>{this.updateShakaConfig()},vm)}updateShakaConfig(){const{shakaPlayer:e}=this;if(void 0!==e)try{const t=this.getMaxBufferLength();if(e.getConfiguration().streaming.bufferingGoal===t)return;this.configureShaka(e,{streaming:{bufferingGoal:t}})}catch(t){}}stopShakaConfigAutoUpdate(){clearInterval(this.shakaConfigAutoUpdateInterval)}configureShaka(e,t){try{e.configure(t)}catch(n){this.props.onError(new Rc.a(n,{isFatal:!1,code:_c.a.SHAKA_CONFIGURE_ERROR}))}}checkRepresentationChange(e,t){if(function(e,t){const n=no(e),r=no(t);return fp()(n,r)}(e,t))return;this.playerStore.dispatch(ld(Object(Xf.a)(Ic.a.RepresentationsChange,void 0)));const n=new Rc.a({isFatal:!1,code:_c.a.REPRESENTATION_CHANGE});this.props.onError(n),this.recoverStream()}computeVideoPlayingState(e){const t=e.isBuffering();return void 0===this.playingStateBeforeLoadShakaSource?ka(this.video,t):this.playingStateBeforeLoadShakaSource===Hs.a.PAUSE?Hs.a.PAUSE:t?Hs.a.BUFFERING:Hs.a.PLAY}}var gm=n(177);class Om extends mc.a{constructor(e,t,n,r){var i;super(),i=this,this.drmConfig=t,this.errorCallback=n,this.withCredentials=r,this.video=void 0,this.loadCertificate=Object(is.a)(async()=>{try{const{promise:e,abort:t}=Object(gm.a)({method:"GET",url:this.drmConfig.servers["com.apple.fps.1_0"],responseType:"arraybuffer",retries:3,timeout:1e4,onRetry:this.onRequestRetry(e=>{this.onError(new Rc.a({code:_c.a.FAIRPLAY_CERT_LOAD_ERROR,isFatal:!1,details:e}))}),withCredentials:this.withCredentials});this.addDestroyHandler(t);const{response:n}=await e;return new Uint8Array(n)}catch(e){return this.onError(new Rc.a({isFatal:!0,code:_c.a.FAIRPLAY_CERT_LOAD_ERROR,details:e})),new Uint8Array(0)}}),this.onNeedKey=async function(e){let{initData:t}=void 0===e?{}:e;const{video:n}=i;if(!t||i.isDestroyed)return;const r=i.extractContentId(t);await i.waitForLoadedMetaData(),n.webkitKeys||"function"!==typeof WebKitMediaKeys||n.webkitSetMediaKeys(new WebKitMediaKeys("com.apple.fps.1_0")),n.webkitKeys||i.onError(new Rc.a({code:_c.a.FAIRPLAY_CREATE_MEDIA_KEYS_ERROR}));const a=await i.getWebKitMediaKeySessionInitData(t,r),o=i.video.webkitKeys.createSession("video/mp4",a);o||i.onError(new Rc.a({code:_c.a.FAIRPLAY_CREATE_KEY_SESSION_ERROR})),i.addDestroyHandler(()=>o.close());i.addDestroyHandler(Object(Go.a)(o,"webkitkeymessage",e=>{let{message:t}=e;if(i.isDestroyed)return;const n=t||new ArrayBuffer(0),a=so({"Content-Type":"application/json"},i.drmConfig.headers),{abort:s,promise:c}=Object(gm.a)({responseType:"json",method:"POST",url:i.drmConfig.advanced["com.apple.fps.1_0"].processSPCPath,data:JSON.stringify(so({assetId:r,spc:btoa(co(new Uint8Array(n)))},i.drmConfig.requestParams)),headers:a,retries:3,timeout:1e4,onRetry:i.onRequestRetry(e=>{i.onError(new Rc.a({isFatal:!1,code:_c.a.FAIRPLAY_SPC_LOAD_ERROR,details:e}))}),withCredentials:i.withCredentials});i.addDestroyHandler(s),c.then(e=>{let{response:{ckc:t}}=e;const n=uo(atob(t));o.update(new Uint8Array(n))}).catch(e=>{i.onError(new Rc.a({isFatal:!0,code:_c.a.FAIRPLAY_SPC_LOAD_ERROR,details:e}))})}));i.addDestroyHandler(Object(Go.a)(o,"webkitkeyerror",e=>{let t;const{error:n}=o;if(n){const{code:e,systemCode:r}=n;t={code:e,systemCode:r}}i.onError(new Rc.a({code:_c.a.FAIRPLAY_CREATE_KEY_ERROR,isFatal:!1,details:t}))}))},this.onError=e=>{this.isDestroyed||(this.errorCallback.call(this.errorCallback,e),e.isFatal&&this.destroy())},this.onRequestRetry=e=>(t,n)=>{if(418!==n.status)return e(t),!0;const r=Qa(n.response);return this.onError(Ja(r)),!r.isFatal},this.video=e,this.addDestroyHandler(Object(Go.a)(e,"webkitneedkey",this.onNeedKey)),this.loadCertificate()}async getWebKitMediaKeySessionInitData(e,t){const n=await this.loadCertificate(),r=new Uint16Array(uo(t));let i=0;const a=e.byteLength+4+r.byteLength+4+n.byteLength,o=new ArrayBuffer(a),s=new DataView(o);new Uint8Array(o,i,e.byteLength).set(new Uint8Array(e)),i+=e.byteLength,s.setUint32(i,r.byteLength,!0),i+=4;const c=new Uint16Array(o,i,r.length);c.set(r),i+=c.byteLength,s.setUint32(i,n.byteLength,!0),i+=4;return new Uint8Array(o,i,n.byteLength).set(n),new Uint8Array(o,0,o.byteLength)}extractContentId(e){const t=new Uint8Array(e),n=co(new Uint16Array(t.buffer)),[,r]=n.split("//");return r||(this.onError(new Rc.a({isFatal:!1,code:_c.a.FAIRPLAY_INVALID_CONTENT_ID})),"")}async waitForLoadedMetaData(){if(!(this.video.readyState>=HTMLMediaElement.HAVE_METADATA))return new Promise(e=>{this.addDestroyHandler(Object(Go.a)(this.video,"loadedmetadata",()=>e(),{once:!0}))})}}Om.IS_SUPPORTED="undefined"!==typeof WebKitMediaKeys&&Object(as.a)(WebKitMediaKeys.isTypeSupported)&&WebKitMediaKeys.isTypeSupported("com.apple.fps.1_0","video/mp4");class Tm extends Ec.a{constructor(e){super(),this.video=void 0,this.unsubscribers=[],this.isStrmCatchUpStream=!1,this.seekableEndFifo=new JE(2),this.destroy=()=>{Object(rs.a)(this.unsubscribers)},this.handleProgressEvent=()=>{if(!this.video||!this.video.seekable.length)return;const e=this.video.seekable,t=Object(Ks.k)(e.end(e.length-1)),n=this.seekableEndFifo.getAll();t!==n[n.length-1]&&(this.seekableEndFifo.push(t),this.updateVideoType())},this.updateVideoType=()=>{this.emit("VideoTypeChange",this.getVideoType())},this.isStrmCatchUpStream=function(e){if(!Object(Rf.a)(e))return!1;const t=Object(fs.f)(Object(fs.g)(e).search);return Boolean(t.start)}(e)}setHTMLVideoElement(e){this.destroy(),this.video=e,this.unsubscribers.push(Object(Go.a)(e,"timeupdate",this.updateVideoType)),this.unsubscribers.push(Object(Go.a)(e,"durationchange",this.updateVideoType)),this.unsubscribers.push(Object(Go.a)(e,"progress",this.handleProgressEvent))}getVideoType(){if(!this.video||isFinite(this.video.duration))return Ys.a.VOD;if(this.isStrmCatchUpStream)return Ys.a.EVENT;if(g(this.video)&&this.video.isLive)return Ys.a.LIVE;const e=this.seekableEndFifo.getAll();if(!this.video.seekable.length||e.length<2)return Ys.a.LIVE;const t=this.video.seekable.start(0);return e[1]>e[0]&&t?Ys.a.LIVE:Ys.a.EVENT}}const ym=["loadstart","progress","durationchange","loadedmetadata","loadeddata","canplay","playing"];class Sm extends WA{initInternalSubscribe(){super.initInternalSubscribe(),this.recoverIosSleepMode(),this.activateVideoTagIosWorkaround()}constructor(e){super(e),this.props=e,this.engine=ep.a.NATIVE,this.fairPlayController=void 0,g(this.video,"webos")&&this.video.loadDrmClient()}getUtcStartTime(){const e=this.video;if(!this.video.src||0===e.readyState||"function"!==typeof e.getStartDate)return super.getUtcPosition();const t=e.getStartDate();if(!t||"function"!==typeof t.getTime)return super.getUtcPosition();const n=Object(Ks.i)(t.getTime());return isNaN(n)?super.getUtcPosition():Object(Ks.b)(n,1e3)}getUtcPosition(){const e=this.getUtcStartTime();return e>0?Object(Ks.a)(e,this.getCurrentTime()):super.getUtcPosition()}async attachEncoder(){await super.attachEncoder(),Nc.a.log("hls native mode")}getDuration(){const{videoType:e}=this.state.controller;return g(this.video)&&e===Ys.a.LIVE?this.getSeekableRange().end:super.getDuration()}async detachEncoder(){await super.detachEncoder(),this.video.src&&this.video.removeAttribute("src")}getSeekableRange(){if(g(this.video)){const e=this.video.seekRange();if(e)return e}return super.getSeekableRange()}shouldSkipVideoTagError(e){return super.shouldSkipVideoTagError(e)||Boolean(this.fairPlayController&&this.fairPlayController.isDestroyed)}getStartPosition(){const{videoTime:e,utc:t}=this.state.controller.startPosition;if(Object(cs.a)(e)||Object(cs.a)(t)){if(this.state.controller.videoType===Ys.a.LIVE){const e=this.getUtcStartTime();if(e>0&&Object(cs.a)(t)&&t>0)return t-e}return Object(cs.a)(e)?e:void 0}}applyStartPositionEventually(){ym.forEach(e=>{const t=this.addVideoEventListener(e,this.applyStartPosition,{once:!0});this.once("Detach",t)})}isDvrEnabled(){if(TE.a.isSmartTV())return g(this.video,"avplay")||g(this.video,"webos");if(TE.a.isSafariDesktop())return!0;const{controller:{isFullscreen:e},skin:{useNativeFullscreen:t,nativeControlsVisibility:n}}=this.state;return(!t||!e)&&!n}setVideoTrack(){Nc.a.log("Unable to set video track on native encoder")}getBandwidthEstimate(){return{value:Object(Ks.e)(NaN),source:"default"}}async initDrm(){const{stream:{drmConfig:e}}=this.props;if(!g(this.video))return this.initFairPlay(e);this.video.drmConfig=e,Object(jp.e)("drm",e?this.video.proxyElementType:"none")}setProxyElementAttributes(){if(!g(this.video))return;const{sourceParams:{subtitles:e}}=this.props,{state:{controller:{userAudioTrackLang:t,userTextTrackLang:n}}}=this;this.video.subtitles=e,this.video.preferredAudioLang=t,this.video.preferredTextLang=n}getVideoBufferingSubscriber(){return g(this.props.video)?SA:RA}getStreamUrl(){return Object(fs.b)(super.getStreamUrl(),{audio_mbr:g(this.video)?void 0:"1"},{saveOriginalPath:!0})}initVideoTypeQualifier(){const e=new Tm(this.getStreamUrl());this.once("Detach",e.destroy),e.on("VideoTypeChange",e=>{e&&this.emit("VideoTypeChange",e)}),e.setHTMLVideoElement(this.video)}onTick(e){super.onTick(e),this.updateProgramDateTime()}async initFairPlay(e){if(!wr(e))return void Object(jp.e)("drm","none");if(Object(jp.e)("drm","fairplay"),!Om.IS_SUPPORTED)throw new Rc.a({code:_c.a.FAIRPLAY_NOT_SUPPORTED});const{video:t,onError:n}=this.props,r=new Om(t,e,n,this.withCredentials);this.fairPlayController=r,this.once("Destroy",()=>r.destroy())}recoverIosSleepMode(){if(!ms.a)return;const e=Object(qo.a)(this.getVideoOwnerDocument(),e=>{e&&(Zt(this.state)||this.canSeek()&&(this.video.currentTime-=.001))});this.once("Destroy",e)}updateProgramDateTime(){const{videoType:e}=this.state.controller,t=this.getUtcStartTime(),n=(e===Ys.a.LIVE||e===Ys.a.EVENT)&&t?Object(Ks.c)(t,1e3):void 0;this.emit("ProgramDateTimeChange",n)}activateVideoTagIosWorkaround(){ms.a&&this.once("Destroy",Object(Go.a)(this.video,"touchstart",()=>{this.video.paused?this.video.pause():Promise.resolve(this.video.play()).catch(Qo.a)},{once:!0}))}}var Rm=n(182),_m=n(235),bm=n(236);const Pm=Object(Ks.i)(6e4),Im=Object(Ks.k)(180),Cm=Object(Ks.i)(5e3),Nm=Object(Ks.i)(1e3),wm=Object(Ks.i)(1e3);class km extends Ec.a{constructor(){super(...arguments),this.video=void 0,this.previousDuration=0,this.unsubscribers=[],this.destroy=()=>{this.previousDuration=0,Object(rs.a)(this.unsubscribers)},this.updateVideoType=()=>{this.emit("VideoTypeChange",this.getVideoType())}}setHTMLVideoElement(e){this.destroy(),this.video=e,this.unsubscribers.push(Object(Go.a)(e,"timeupdate",this.updateVideoType)),this.unsubscribers.push(Object(Go.a)(e,"durationchange",this.updateVideoType))}getVideoType(){return this.video&&this.video.duration?this.video.duration===1/0?Ys.a.LIVE:(0===this.previousDuration&&(this.previousDuration=this.video.duration),this.video.duration>this.previousDuration?Ys.a.EVENT:Ys.a.VOD):Ys.a.VOD}}let Lm;!function(e){e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.PARSE_ERROR=-32700]="PARSE_ERROR",e[e.INVALID_REQUEST=-32600]="INVALID_REQUEST",e[e.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",e[e.INVALID_PARAMS=-32602]="INVALID_PARAMS",e[e.INTERNAL_ERROR=-32603]="INTERNAL_ERROR"}(Lm||(Lm={}));const Dm=n(215);class jm extends Error{constructor(e,t){void 0===t&&(t=Lm.UNKNOWN_ERROR),super(e),this.message=void 0,this.stack=void 0,this.code=void 0,Dm(this,jm.prototype),this.message=e,this.code=t}toString(){return JSON.stringify(this.toJSON())}toJSON(){return{code:this.code,message:this.message,data:this.stack}}}const Mm=Object(Ks.i)(3e4);class Vm{constructor(e){this.playingState=void 0,this.lastRpcRequestId=1,this.waiters=Object.create(null),this.video=void 0,this.onError=void 0,this.onRun=void 0,this.handleMessage=e=>{if(e&&Object(eu.a)(e.data))try{const t=go(e.data);"result"in t||"error"in t?this.handleRpcResponse(t):"method"in t&&this.handleRpcRequest(t)}catch(t){this.onError(t)}},this.video=e.video,this.onError=e.onError,this.onRun=e.onRun,this.playingState=e.playingState,this.video.addEventListener("yandexplayermessage",this.handleMessage)}destroy(){this.video.removeEventListener("yandexplayermessage",this.handleMessage),this.onError=Qo.a,this.onRun=Qo.a;for(const e in this.waiters)this.waiters[e](new Error("Stop on destroy"))}sendRequest(e,t){let{method:n,params:r}=e;if(void 0===t&&(t=Mm),this.playingState!==Hs.a.PLAY&&this.playingState!==Hs.a.BUFFERING)return Promise.reject(new Error("Can't send request while playingState is "+this.playingState));const i=this.getUniqueRpcRequestId();return this.sendMessage(fo({id:i,method:n,params:r})),this.waitForResponse(i,t)}sendEvent(e){let{method:t,params:n}=e;return this.playingState!==Hs.a.PLAY&&this.playingState!==Hs.a.BUFFERING?Promise.reject(new Error("Can't send event while playingState is "+this.playingState)):(this.sendMessage(fo({method:t,params:n})),Promise.resolve())}setPlayingState(e){this.playingState=e}getUniqueRpcRequestId(){return String(this.lastRpcRequestId++)}waitForResponse(e,t){const n=setTimeout(()=>{const n=this.waiters[e];void 0!==n&&n(new Error("Timeout fired ("+t+"ms) for id="+e+"."))},t),r=()=>{clearTimeout(n),delete this.waiters[e]};return new Promise((t,n)=>{this.waiters[e]=(e,i)=>(r(),null!==e?n(e):t(i))})}sendMessage(e){this.video.yandexPlayerSend(e)}handleRpcRequest(e){let{id:t,method:n,params:r}=e;this.onRun({method:n,params:r},(e,n)=>{t&&this.sendMessage(function(e){let{id:t,error:n,result:r}=e;return n?JSON.stringify({jsonrpc:"2.0",id:t,error:n.toJSON()}):JSON.stringify({jsonrpc:"2.0",id:t,result:void 0===r?null:r})}({id:t,error:e,result:n}))})}handleRpcResponse(e){const t=this.waiters[e.id];void 0!==t?"error"in e?t(e.error):t(null,e.result):Nc.a.warn(new Error("Response for missed waiter for id="+JSON.stringify(e.id)))}}class Um{constructor(e){let{video:t,onError:n,playingState:r}=e;this.yandexRpcMessenger=void 0,this.handleRun=(e,t)=>{t(new jm("Not implemented",Lm.METHOD_NOT_FOUND))},this.yandexRpcMessenger=new Vm({video:t,onError:n,onRun:this.handleRun,playingState:r})}setPlayingState(e){return this.yandexRpcMessenger.setPlayingState(e)}destroy(){return this.yandexRpcMessenger.destroy()}async setViewPortSize(e){let{width:t,height:n}=e;await this.yandexRpcMessenger.sendRequest({method:"setViewPortSize",params:{width:t,height:n}})}async getVsid(){const e=await this.yandexRpcMessenger.sendRequest({method:"getVsid",params:[]});if(!Object(eu.a)(e))throw new Error("Unexpected result in getVsid: "+e);return e}async getPlayerVersion(){const e=await this.yandexRpcMessenger.sendRequest({method:"getPlayerVersion",params:[]});if(!Object(eu.a)(e))throw new Error("Unexpected result in getPlayerVersion: "+e);return e}async getBandwidth(){const e=await this.yandexRpcMessenger.sendRequest({method:"getBandwidth",params:[]});if(!Object(cs.a)(e))throw new Error("Unexpected result in getBandwidth: "+e);return Object(Ks.e)(e)}async getStartDate(){const e=await this.yandexRpcMessenger.sendRequest({method:"getStartDate",params:[]});if(!Object(cs.a)(e))throw new Error("Unexpected result in getStartDate: "+e);return Object(Ks.i)(e)}}document.createElement("div"),document.createElement("div");class Fm extends WA{constructor(){super(...arguments),this.engine=ep.a.YANDEX,this.startDate=Object(Ks.k)(UA),this.yandexRpc=void 0,this.wasSuspendedOnCurrentSource=!1,this.expectedStateAfterRestore=Hs.a.PAUSE,this.waitingForStartPositionEstablished=!1}async attachEncoder(){this.initYandexPlayer();const e=this.getStartPosition();Object(cs.a)(e)&&(this.waitingForStartPositionEstablished=!0),await super.attachEncoder(),this.restoreYandexPlayer(),this.initYandexRpc(),this.initStartDateUpdater(),this.initBandwidthEstimateUpdater(),this.initAndroidVsidUpdater(),this.initViewPortSizeUpdater(),this.isRecoverablePlaylistHTTPStatus=!1,Nc.a.log("yandex native mode")}play(){return this.expectedStateAfterRestore=Hs.a.PLAY,super.play()}pause(){return this.expectedStateAfterRestore=Hs.a.PAUSE,super.pause()}checkPositionAndReturnToLive(){}async detachEncoder(){this.isRecoverablePlaylistHTTPStatus=!0,this.suspendYandexPlayer(),this.detachYandexPlayer(),await super.detachEncoder()}initInternalSubscribe(){super.initInternalSubscribe();let e=sn(this.playerStore.getState().controller.currentTime);this.on("CurrentTimeChange",t=>{if(this.state.controller.encoderState!==zf.a.Attached)return;if(this.playerStore.getState().controller.playingState!==Hs.a.PLAY)return;if(this.waitingForStartPositionEstablished)return;const n=sn(t);n!==e&&(e=n,this.playerStore.dispatch(Il({videoTime:t,utc:this.getUtcPosition()})),this.updateYandexPlayerConfig())}),this.once("Destroy",()=>{this.dropDetachedYandexPlayer()})}setVideoTrack(e){const{videoTracks:t}=this.video;t[Array.from(t).findIndex(t=>t.id===e.value)].selected=!0}seekInternal(e){const{start:t,end:n}=this.getSeekableRange();Fi(this.video,Object(Ks.k)(a(e,t,n||0)))}getSeekableRange(){const{videoType:e}=this.state.controller;switch(e){case Ys.a.LIVE:return{start:this.getUtcStartTime(),end:this.getDuration()};default:return{start:Object(Ks.k)(0),end:this.getDuration()}}}getDuration(){const{videoType:e}=this.state.controller;switch(e){case Ys.a.LIVE:return Object(Ks.a)(this.getUtcStartTime(),Im);default:return Object(Ks.k)(this.video.duration)}}getUtcStartTime(){return this.startDate}getUtcPosition(){const{videoType:e}=this.state.controller;switch(e){case Ys.a.LIVE:return this.getCurrentTime();default:return this.getUtcStartTime()?Object(Ks.a)(this.getUtcStartTime(),this.getCurrentTime()):super.getUtcPosition()}}getMaxCapAllowedVideoTrack(){const{videoTracks:e}=this.state.controller,t=this.getCapSizes();return dm(e,t.width,t.height)}getFragmentsData(){if(!this.isDvrEnabled()||!this.video||!this.video.seekable.length)return super.getFragmentsData();const{start:e,end:t}=this.getSeekableRange();return{totalDuration:Object(Ks.d)(t,e),fragmentDuration:Yv.a,startTime:e}}onTick(e){super.onTick(e),this.updateAutoVideoTrackIfNeed()}isDvrEnabled(){return!0}canSeek(){const{video:e}=this.props;return e.readyState>0&&e.duration>0}initVideoTypeQualifier(){const e=new km;this.once("Detach",e.destroy),e.on("VideoTypeChange",e=>{e&&this.emit("VideoTypeChange",e)}),e.setHTMLVideoElement(this.video)}applyStartPositionEventually(){const e=this.addVideoEventListener("durationchange",()=>{if(!this.canSeek())return;const t=this.getStartPosition(),n=this.getCurrentTime();if(Object(cs.a)(t)&&Object(Rm.b)(t,n,.5))return e(),void(this.waitingForStartPositionEstablished=!1);this.applyStartPosition(),e(),this.waitingForStartPositionEstablished=!1,this.off("Detach",e)});this.once("Detach",e)}initDrm(e){return Object(jp.e)("drm",e?"android":"none"),Promise.resolve()}async onVideoTagError(){const e=h(this.video);if(this.state.controller.encoderState!==zf.a.Attached)return super.onVideoTagError();this.video.poster=Zs.a,this.checkPlaylistHTTPStatus();const t=new Rc.a({code:Cs.b[e.code],details:e,isFatal:!0}),n=await this.checkPlaylistHTTPStatusPromise;n&&n.isFatalError()?this.props.onError(n.toPlayerError()):this.props.onError(t)}initYandexRpc(){const e=new Um({video:this.video,onError:e=>{this.props.onError(new Rc.a(e,{isFatal:!1,code:_c.a.YANDEX_RPC_ERROR}))},playingState:this.state.controller.playingState});this.on("VideoPlayingStateChange",t=>{e.setPlayingState(t)}),this.yandexRpc=e,this.once("Detach",()=>{e.destroy(),this.yandexRpc=void 0})}initStartDateUpdater(){const{yandexRpc:e}=this;if(!e)return;const t=setInterval(()=>{e.getStartDate().then(e=>{if(!(e>0))return void this.emit("ProgramDateTimeChange",void 0);this.startDate=Object(Ks.k)(Math.floor(e/1e3));const{videoType:t}=this.state.controller;switch(t){case Ys.a.LIVE:return this.emit("ProgramDateTimeChange",Object(Ks.i)(0));default:return this.emit("ProgramDateTimeChange",e)}}).catch(Qo.a)},Cm);this.once("Detach",()=>{clearInterval(t)})}restoreYandexPlayer(){if(!ho({playerVersion:"1.0-7360",featureName:"suspend-on-ad"})||!Object(GE.c)("yandex_controller_detach_on_ad",!0))return;if(!this.wasSuspendedOnCurrentSource)return;const e=this.video;Object(hs.a)(()=>{Object(as.a)(e.yandexReattachPlayer)&&(e.yandexReattachPlayer(!e.paused).then(()=>{switch(this.expectedStateAfterRestore){case Hs.a.PLAY:return void super.play();case Hs.a.PAUSE:return void super.pause()}}),Nc.a.log("video.yandexReattachPlayer()"))})}initYandexPlayer(){this.updateYandexPlayerConfig()}updateYandexPlayerConfig(){const e=this.getStartPosition(),t=this.getBandwidthEstimate(),{drmConfig:n}=this.props.stream,{height:r,width:i}=this.getCapSizes(),a={vsid:Object(GE.c)("web_single_vsid_with_android",!1)?this.state.controller.vsid:void 0,drmConfig:n,bandwidthEstimate:Object(cs.a)(t.value)?Object(Ks.e)(Math.floor(t.value)):void 0,startPosition:Object(cs.a)(e)?Object(Ks.k)(e):void 0,viewPortHeight:Object(cs.a)(r)?Object(Ks.j)(Math.floor(r)):void 0,viewPortWidth:Object(cs.a)(i)?Object(Ks.j)(Math.floor(i)):void 0,flags:Object(GE.d)(),slots:Object(_m.a)(this.props.sourceParams.additionalParams),testIds:Object(bm.a)(this.props.sourceParams.additionalParams)};this.video.setAttribute("yandexplayer",JSON.stringify(a)),Nc.a.log("this.video.setAttribute('yandexplayer', "+JSON.stringify(a)+")")}initAndroidVsidUpdater(){function e(){t.getVsid().then(e=>{i!==e&&n({event:"YandexAndroidVsidChanged",params:{androidVsid:e}}),i=e}).catch(()=>{r=window.setTimeout(e,wm)})}const t=this.yandexRpc,{props:{logEvent:n}}=this;let r=0,i="";const a=t=>{t===Hs.a.PLAY&&e()};this.on("VideoPlayingStateChange",a),this.once("Detach",()=>this.off("VideoPlayingStateChange",a)),e(),this.once("Detach",()=>clearTimeout(r))}suspendYandexPlayer(){if(!ho({playerVersion:"1.0-7360",featureName:"suspend-on-ad"})||!Object(GE.c)("yandex_controller_detach_on_ad",!0))return;const e=this.video;Object(as.a)(e.yandexDetachPlayer)&&(p(e,()=>e.yandexDetachPlayer()),Nc.a.log("video.yandexDetachPlayer()"),this.wasSuspendedOnCurrentSource=!0)}dropDetachedYandexPlayer(){const e=this.video;Object(as.a)(e.yandexDropDetachedPlayer)&&(Nc.a.log("video.yandexDropDetachedPlayer()"),e.yandexDropDetachedPlayer())}detachYandexPlayer(){this.video.removeAttribute("yandexplayer"),Nc.a.log("this.video.removeAttribute('yandexplayer')")}updateAutoVideoTrackIfNeed(){const{videoTracks:e,videoWidth:t,videoHeight:n}=this.video,r=xa(function(e){let{videoTracks:t=[],videoHeight:n,videoWidth:r}=e;const i=Object(zo.a)(t),a=i.find(e=>{let{selected:t}=e;return t});return a&&"auto"!==a.id?a:i.sort((e,t)=>{const{width:i=0,height:a=0}=e,{width:o=0,height:s=0}=t;return Math.abs(a-n)-Math.abs(s-n)||Math.abs(i-r)-Math.abs(o-r)})[0]}({videoTracks:e,videoWidth:t,videoHeight:n}));this.emit("InternalVideoTrackValueChange",r?r.value:void 0)}initBandwidthEstimateUpdater(){const{yandexRpc:e}=this;if(!e)return;const t=setInterval(()=>{e.getBandwidth().then(e=>{this.playerStore.dispatch(nl({value:e,source:"yabro"}))}).catch(Qo.a)},Pm);this.once("Detach",()=>{clearInterval(t)})}async updateViewPortSize(e){let{width:t,height:n}=e;const{yandexRpc:r}=this;return r?r.setViewPortSize({width:Math.floor(t),height:Math.floor(n)}).then(()=>({width:t,height:n})).catch(()=>({width:NaN,height:NaN})):{width:NaN,height:NaN}}initViewPortSizeUpdater(){const{yandexRpc:e}=this;if(!e)return;let t=NaN,n=NaN;this.updateViewPortSize(this.getCapSizes()).then(e=>{let{width:r,height:i}=e;t=r,n=i});const r=setInterval(()=>{const{width:e,height:r}=this.getCapSizes();e===t&&r===n||this.updateViewPortSize({width:e,height:r}).then(e=>{let{width:r,height:i}=e;t=r,n=i})},Nm);this.once("Detach",()=>{clearInterval(r)})}}var xm=n(66);const Bm=Object(xm.a)(window),Hm={};var Ym=n(70);var Km=n(253),Gm=n.n(Km);class Wm extends mc.a{constructor(e){super(),this.video=void 0,this.playbackQuality=jA,this.persistedPlaybackQuality=jA,this.accumulatedPlaybackQuality=jA,this.video=e,this.addDestroyHandler(()=>{this.reset(),this.video=void 0})}update(){if(!this.video)return;const e=Da(this.video);this.playbackQuality=e,0!==this.persistedPlaybackQuality.totalVideoFrames&&(this.persistedPlaybackQuality.totalVideoFrames>e.totalVideoFrames&&(this.accumulatedPlaybackQuality={droppedVideoFrames:this.accumulatedPlaybackQuality.droppedVideoFrames+this.persistedPlaybackQuality.droppedVideoFrames,corruptedVideoFrames:this.accumulatedPlaybackQuality.corruptedVideoFrames+this.persistedPlaybackQuality.corruptedVideoFrames,totalVideoFrames:this.accumulatedPlaybackQuality.totalVideoFrames+this.persistedPlaybackQuality.totalVideoFrames}),this.persistedPlaybackQuality=jA)}persist(){0!==this.playbackQuality.totalVideoFrames&&(this.persistedPlaybackQuality=this.playbackQuality,this.playbackQuality=jA)}reset(){this.playbackQuality=jA,this.persistedPlaybackQuality=jA,this.accumulatedPlaybackQuality=jA}getPlaybackQuality(){return this.persistedPlaybackQuality.totalVideoFrames>0?jA:{droppedVideoFrames:this.playbackQuality.droppedVideoFrames+this.accumulatedPlaybackQuality.droppedVideoFrames,corruptedVideoFrames:this.playbackQuality.corruptedVideoFrames+this.accumulatedPlaybackQuality.corruptedVideoFrames,totalVideoFrames:this.playbackQuality.totalVideoFrames+this.accumulatedPlaybackQuality.totalVideoFrames}}}const Xm=Object(Ks.i)(2592e5),qm=Object(Ks.i)(500);class zm extends Ec.a{get store(){return this.playerStore.getState()}constructor(e,t,n,r){var o;super(),o=this,this.callbacks=void 0,this.destroySkin=void 0,this.videoController=void 0,this.maxBufferLength=void 0,this.multiroll=XE,this.visibilityDetectPromise=void 0,this.defineAutoplaySettingsPromise=void 0,this.abortRequestAutoplaySettings=Qo.a,this.clearRequestAutoplaySettingsTimeout=Qo.a,this.onlineMonitor=new $E,this.resourceTimingsMonitor=void 0,this.playbackProgressStorage=new nv,this.visualState=void 0,this.debug=!1,this.container=void 0,this.video=void 0,this.div=void 0,this.adDiv=void 0,this.slotsController=void 0,this.sizeSensor=void 0,this.playbackQualityController=void 0,this.playerStore=void 0,this.externalRequestController=void 0,this.broadcastAd=void 0,this.playCallbacks=[],this.preferNative=void 0,this.config=void 0,this.mediaInternalsHistory=void 0,this.currentAdPlaybackQueue=void 0,this.stopLoadSource=Qo.a,this.onReady=void 0,this.preloaders=[],this.cachePreloaders=[],this.playDeferred=void 0,this.stopAd=()=>Promise.resolve(),this.setHiddenControls=e=>{e.indexOf(Ws.b.ALL)>-1?this.playerStore.dispatch(Ed(Ws.a)):this.playerStore.dispatch(Ed(e)),this.videoController&&!this.playerStore.getState().ad.adInfo&&this.videoController.updateNativeControlsVisibility()},this.seekToLive=()=>{if(!this.videoController||!this.videoController.isDvrEnabled())return;const{skinDVRStartTime:e,skinDVRDuration:t}=this.store.skin,n=Object(Ks.a)(e,t);this.seek({videoTime:n}),this.playerStore.dispatch(ef({reason:zs.SEEK_TO_LIVE,step:Object(Ks.k)(0),videoPosition:n}))},this.setPlaybackRate=e=>{const{max:t,min:n}=function(e){let{controller:{videoType:t,currentTime:n},skin:{skinDVRStartTime:r,skinDVRDuration:i}}=e;return Object(Sp.a)({videoType:t,currentTime:n,dvrStartTime:r,dvrDuration:i})}(this.store);this.videoController.setPlaybackRate(a(e,n,t))},this.seek=function(e,t){let{videoTime:n,utc:r}=e;if(void 0===t&&(t=!1),"number"===typeof r){const e=o.videoController.getUtcStartTime(),n=Object(Ks.d)(r,e);o.seekToVideoPosition(n,t)}else"number"===typeof n&&o.seekToVideoPosition(n,t)},this.setVolume=e=>{if(!this.videoController)return this.playerStore.dispatch(ul({muted:this.store.controller.muted,volume:e,changeReason:lp.a.SetVolume})),void this.abortRequestAutoplaySettings(Rp.VolumeChange);const{muted:t,volume:n}=this.store.controller;let r=e,i=t;if(0===e){const{userVolume:e}=this.store.controller;r=e||n||Ip.b,i=!0}this.playerStore.dispatch(ul({volume:r,muted:i,changeReason:lp.a.SetVolume})),this.currentAdPlaybackQueue&&Zt(this.store)?this.currentAdPlaybackQueue.setVolume(e):this.videoController&&(this.videoController.setVolume(r),this.videoController.setMuted(i))},this.setMuted=e=>{const t={volume:this.store.controller.volume,muted:e,changeReason:lp.a.SetMuted};if(!this.videoController)return this.playerStore.dispatch(ul(t)),void this.abortRequestAutoplaySettings(Rp.MuteChange);this.playerStore.dispatch(ul(t)),this.currentAdPlaybackQueue&&Zt(this.store)?this.currentAdPlaybackQueue.setVolume(e?0:this.store.controller.volume):this.videoController&&this.videoController.setMuted(e)},this.playInrollAd=e=>{this.multiroll.inroll.schedule(Ro({},e,{timeOffset:(null==e?void 0:e.timeOffset)||0}))},this.playAdViewers=async(e,t,n)=>{Object(Vp.b)("player.adsdk.empty."+e),Object(Vp.b)("player.adsdk.start."+e),Object(Vp.b)("player.adsdk.fail."+e);try{await this.playAdViewersInternal(e,t,n)}catch(r){Object(Vp.b)("player.adsdk.fail."+e),Sr({reason:"PLAY_AD_VIEWERS_ERROR",adSdkVersion:J(),adSdkLoaderVersion:Q(),adblockDetected:this.store.ad.adblockDetected,adType:e,bandwidth:Qr(void 0)}),this.onError(new Rc.a(r,{code:_c.a.PLAY_AD_VIEWERS_ERROR,isFatal:!1,details:{adType:e,adViewersWithData:t,adDisplayConfig:n}}))}},this.canRenderSkin=()=>{this.callbacks.logEvent({event:"CanRenderSkinCalledBeforeSkinIsReady",params:{}})},this.handleSizeSensorUpdate=e=>{let{width:t,height:n}=e;this.emit("VisualStateChange",Ro({},this.visualState.getState(),{width:t,height:n}))},this.defineAutoplaySettingsAndLoadSource=()=>{const e=this.config.source,t=this.playerStore.getState(),{initialAutoplay:n,allowMuted:r,muted:i,volume:a,togglePlaybackOnVisibilityChangeSetting:s}=t.controller;this.defineAutoplaySettings(this.video,{autoplay:n,muted:i||0===a,allowMuted:!(!s||!s.forceAutoplay)||r}),this.playerStore.dispatch(Dl(Date.now())),this.loadSource(e,{shouldSaveProgress:!1}).catch(e=>{Nc.a.error("load source error",e),hi(e,Tf.b.INIT),this.onError(e)}).then(()=>{this.onReady(),this.store.controller.autoplay||this.playerStore.dispatch(fd(!0)),this.canRenderSkin()}).then(()=>{void 0!==e.params.adConfig&&(ru.a?Object(tu.a)({method:"GET",url:nu.b,retries:2,checkStatus:e=>e>=200&&e<400}).then(e=>{if(-1===e.responseText.trim().indexOf('<VAST version="3.0">'))throw new Error("Invalid XML in response from ["+nu.b+"]")}):Promise.resolve()).catch((function(e){let{message:t}=void 0===e?{}:e;o.playerStore.dispatch(qc(!0)),o.onError(new Rc.a({code:_c.a.STRM_ABD_INVALID_RESPONSE,isFatal:!0,details:{reason:t}}))}))})},this.subscribeHandlers=()=>{this.onlineMonitor.on("Online",()=>{this.playerStore.dispatch(Cl(!0)),Zt(this.store)||this.videoController&&this.videoController.onOnline(),this.playerStore.dispatch(ld(Object(Xf.a)(Ic.a.Offline,void 0)))}),this.onlineMonitor.on("Offline",()=>{this.playerStore.dispatch(Cl(!1)),this.videoController&&this.videoController.onOffline()}),this.on("VideoTypeChange",e=>{this.playerStore.dispatch(Al(e))}),this.on("DurationChange",e=>{this.playerStore.dispatch(El(e)),this.updateVideoInfo()}),this.on("ProgramDateTimeChange",e=>{this.playerStore.dispatch(wl(e))}),this.on("CurrentTimeChange",this.handleVideoControllerCurrentTimeChange),this.on("BufferingRangesChange",e=>{this.playerStore.dispatch(Ul(e))}),this.on("VideoTrackValueChange",e=>{this.playerStore.dispatch(Yl({videoTrackValue:e,isAbrEnabled:this.store.controller.isAbrEnabled}))}),this.on("VideoTrackChange",e=>{this.playerStore.dispatch(Kl(e))}),this.on("AudioTrackValueChange",e=>{this.playerStore.dispatch(Wl(e))}),this.on("AudioTracksChange",e=>{this.playerStore.dispatch(Xl(e))}),this.on("TextTrackValueChange",e=>{this.playerStore.dispatch(td({enabled:void 0!==e,textTrackValue:e}))}),this.on("TextTracksChange",e=>{this.playerStore.dispatch(Ql(e))}),this.on("VideoPlayingStateChange",e=>{this.playerStore.dispatch(Nd(e))});const e=this.logCanPlay(Tf.b.INIT);this.once("CanPlay",e),this.once("SetSource",()=>this.off("CanPlay",e));const t=this.logLoadStartHavingCurrentData(Tf.b.INIT);this.once("LoadedData",t),this.once("SetSource",()=>this.off("LoadedData",t)),this.once("Destroy",()=>{this.off("ContentImpression")});const n=Object(qo.a)(this.getContainerDocument(),e=>{this.playerStore.dispatch(sd(e))});var r;this.once("Destroy",n),this.once("Destroy",(r=e=>{this.callbacks.logEvent({event:bc.a.DrmSystemsSupportDetected,params:e})},void 0===BE?(FE.push(r),()=>{const e=FE.indexOf(r);-1!==e&&FE.splice(e,1)}):(r(BE),Qo.a)))},this.showContextMenu=e=>{const{contextMenuVisibility:t,hiddenControls:n,isMobileSkin:r,useNativeControls:i}=this.store.skin;if(n.includes(Ws.b.CONTEXT_MENU))return;if(void 0!==e){if(e.ctrlKey||e.altKey)return;e.preventDefault()}if(this.playerStore.dispatch(Rd(!0)),t&&(r||i))return;const a={x:0,y:0},{left:o,top:s}=this.container.getBoundingClientRect();e&&("touches"in e?(a.x=e.touches[0].clientX-o,a.y=e.touches[0].clientY-s):(a.x=e.clientX-o,a.y=e.clientY-s)),this.playerStore.dispatch(_d(a))},this.setBackgroundImage=e=>{this.div.style.backgroundImage=e?"url('"+e+"')":""},this.setBackgroundVisibility=e=>{this.div.style.backgroundSize=e?"contain":"0  0"},this.shouldCaptureScreenshot=()=>this.videoController&&this.videoController.engine===ep.a.MPD&&this.store.controller.videoType===Ys.a.VOD,this.playAdViewersInternal=async(e,t,n)=>{const{ad:{adInfo:r,adSyncInit:i},controller:{isFullscreen:a,isPip:o}}=this.store,s=a&&Object(ns.a)(this.getContainerDocument().defaultView,this.video)===this.video,c=s||o?t.filter(e=>{const{adViewer:t}=e;return t.filterAdPodsIndependentOnHtmlControls("StreamPlayer can't play CPC ads: ["+(o?"PiP":s?"FullScreen":"unknown")+"] mode"),t.getAdPodsCount()>0}):t,l=c.map(e=>{let{adViewer:t}=e;return t}),d=function(e){return e.reduce((e,t)=>Object(Ks.a)(e,Object(Ks.n)(t.getAdPodsCount())),Object(Ks.n)(0))}(l),u=q(l);if(0===d)return Object(Vp.a)("player.adsdk.empty."+e),Sr({reason:"NO_AD_PODS_TO_PLAY_AD",adSdkVersion:J(),adSdkLoaderVersion:Q(),adblockDetected:this.store.ad.adblockDetected,adType:e,bandwidth:Qr(void 0)}),void this.callbacks.logEvent({event:"NoAdPodsToPlayAd",params:void 0});r&&this.onError(new Rc.a({code:_c.a.AD_IS_ALREADY_PLAYING,isFatal:!1,details:{currentAdType:r.adType,adType:e}})),this.prepareBeforeOrAfterAd(!1,e);const h=this.slotsController.createAdElementsSet({adType:e});if(!h)return this.onError(new Rc.a({code:_c.a.AD_CANNOT_FIND_CONTAINER_TO_PLAY,isFatal:!1})),void Object(Vp.a)("player.adsdk.failed."+e);this.callbacks.logEvent({event:"PlayAdViewers",params:{adType:e,adPodsCount:d}});const f=e===Pc.a.inroll?{cueId:this.store.ad.originalBroadcastAdCueId,startProgramDateTime:Object(Ks.k)(this.store.controller.programDateTime/1e3),startVideoTime:Object(Ks.k)(this.videoController?this.videoController.getCurrentTime():this.store.controller.currentTime),startTimestamp:Object(Ks.k)(Date.now()/1e3)}:{};let p=!1;const E=Object(is.a)(async t=>{let{data:n,stopAdReason:r}=t;this.shouldCaptureScreenshot()&&(this.resetPosterFitStyle(),this.setBackgroundVisibility(!0),this.once("CanPlay",()=>{this.setBackgroundImage(),this.videoController.clearScreenshot()}));const i=this.store.ad.inStreamPlayingState;if(Object(Md.a)(e)&&r===Cc.a.AdTypeChange){const t=n.adType;l.forEach(n=>{n.preventPlaying("PriorityAdWillBePlaying",{adTypeBefore:e,adTypeAfter:t})})}p=!0,this.currentAdPlaybackQueue&&(this.currentAdPlaybackQueue.destroy(r),this.currentAdPlaybackQueue=void 0),e!==Pc.a.postroll&&Z(e)&&(Nc.a.log("videoController.play()"),i!==Hs.a.PAUSE&&Object(ss.a)(this.videoController.play())),this.playerStore.dispatch(Gc(void 0)),Object(Md.a)(e)?this.slotsController.clearAdSlots():this.slotsController.showSkinAndOriginalVideo(),this.playerStore.dispatch(ld(Object(Xf.a)(Ic.a.AdEnd,{adType:e}))),this.setMuted(this.store.controller.muted),this.setVolume(this.store.controller.volume),this.prepareBeforeOrAfterAd(!0,e);const a=async()=>{Object(Md.a)(e)||(Object(Vp.b)("encoder.attach"),await this.attachEncoder(),Object(Vp.a)("encoder.attach",{additional:{engine:this.store.controller.engine}}))};if(r===Cc.a.InsertIntoCalled)return a();const{loadPositionAfterAd:o}=n;o&&(this.playerStore.dispatch(Il(o)),await a())});this.stopAd=E;const v=this.getSeekPositionAfterAd({adType:e,adViewersDuration:u});if(this.playerStore.dispatch(Il(v)),Z(e)&&(e!==Pc.a.preroll&&Object(Vp.b)("encoder.detach"),this.shouldCaptureScreenshot()&&this.videoController.captureScreenshot(this.video).then(e=>{e&&(this.setBackgroundImage(e),this.setBackgroundVisibility(!1))}),await this.detachEncoder(),e!==Pc.a.preroll&&Object(Vp.a)("encoder.detach",{additional:{engine:this.store.controller.engine}})),(()=>{this.playerStore.dispatch(Gc({adType:e,params:f})),Z(e)&&this.slotsController.showAdElementsSet(h)})(),p)return;const A=[Object(Go.a)(this.video,"firstframedecoded",()=>{br("AD",{},i)},{once:!0}),Object(Go.a)(this.video,"firstframeshown",()=>{Pr("AD",{},i)},{once:!0})];let m=!1;const g=new kc({onAdStartRejected:()=>{var e;null==(e=this.playDeferred)||e.reject()},onAdSkippableStateChange:e=>{this.callbacks.onAdSkippableStateChange(e)},onAdPodCloseStateChange:e=>{this.callbacks.onAdPodCloseStateChange(e)},onAdVolumeAvailabilityStateChange:e=>{this.callbacks.onAdVolumeAvailabilityStateChange(e)},onAdPodDurationChange:e=>{this.callbacks.onAdPodDurationChange(e)},onAdPodCurrentTimeChange:e=>{this.callbacks.onAdPodCurrentTimeChange(e)},onAdPodTimeToSkipChange:e=>{this.callbacks.onAdPodTimeToSkipChange(e)},onAdInteraction:()=>{this.callbacks.onAdInteraction()},onFirstAdPodStarted:()=>{var t;_r("AD",{adblockDetected:this.store.ad.adblockDetected,adType:e,bandwidth:Qr(void 0)},this.store.ad.adSyncInit),Object(Vp.a)("player.adsdk.start."+e),this.hidePoster(),(e!==Pc.a.postroll||Z(e))&&this.preloadVideoControllerSource(),null==(t=this.playDeferred)||t.resolve()},onBeforeAdPodStart:e=>{this.callbacks.onBeforeAdPodStart(e)},onAdPodStarted:()=>{this.playerStore.dispatch(fd(!0)),this.callbacks.onAdPodStart(),m&&Object(Vp.a)("adsdk.creative.switch."+e)},onAdPodStopped:()=>{Object(rs.a)(A),Y(this.store)||(m=!0,Object(Vp.b)("adsdk.creative.switch."+e),this.playerStore.dispatch(rl(void 0)))},onAdPodPlayingStateChange:t=>{let{playingState:n,expectedStalledReason:r,adType:i}=t;Object(Md.a)(e)||(n===Hs.a.BUFFERING&&this.playerStore.dispatch(ld(Object(Xf.a)(r,{adType:i}))),this.playerStore.dispatch(rl(n)))},onAdClickThru:()=>{Object(Md.a)(e)&&this.pause()},onAdSizeChange:e=>{this.playerStore.dispatch(vl({videoWidth:Object(Ks.j)(void 0===e.width?NaN:e.width),videoHeight:Object(Ks.j)(void 0===e.height?NaN:e.height)}))},getControlsSettings:()=>function(e){const{ad:{nativeAdControlsVisibility:t}}=e;return{controlsVisibility:t?{}:{mute:!1,skip:!1,timeline:!1,play:!1}}}(this.playerStore.getState()),logEvent:this.callbacks.logEvent,onError:e=>this.onError(e),adConfig:this.store.ad.adConfig});this.currentAdPlaybackQueue=g,c.forEach(t=>{let{adViewer:r,additionalData:i,adType:a}=t;g.playAdViewers({adType:e,adPodType:a,adViewer:r,additionalData:i,adDisplayConfig:n,adElementsSet:h})}),await g.getDestroyPromise(),Object(Vp.b)("adsdk.player.start."+e),this.once("ContentImpression",()=>{Object(Vp.a)("adsdk.player.start."+e)}),p||await E({stopAdReason:Cc.a.AdCompleted,data:{loadPositionAfterAd:v}})},this.handleVideoControllerCurrentTimeChange=e=>{this.playerStore.dispatch(gl(e)),this.playerStore.getState().ad.adInfo||this.playbackProgressStorage.saveProgress(e),this.updateVideoInfo()},this.handleVisualStateChange=e=>{let{isPip:t,isFullScreen:n,isVisible:r}=e;this.playerStore.dispatch(id(n));const{isSupportedPipMode:i,isYandexPipMode:a,isVisibilitySupported:o}=this.visualState;this.emit("VisualStateChange",Ro({isPip:t,isVisible:r,isFullScreen:n,isSupportedPipMode:i,isYandexPipMode:a,isVisibilitySupported:o},this.sizeSensor.getSize())),i&&!a&&(this.playerStore.dispatch(ad(t)),o&&this.playerStore.dispatch(od(r)))},this.onRecover=e=>{const t=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(this.getDebugInfo(),["resourceTimings"]);this.callbacks.onRecover(Ro({},e,t)),this.playerStore.dispatch(ld(Object(Xf.a)(Ic.a.Recover,{recoverReason:e.reason})))},this.logLoadStartHavingCurrentData=e=>()=>{if(!Yo){if(this.video.readyState<rE.a.HAVE_CURRENT_DATA){const t=this.logLoadStartHavingCurrentData(e);return this.once("LoadedData",t),void this.once("SetSource",()=>this.off("LoadedData",t))}this.isCanPlayAndStartHavingCurrentDataLog()&&this.emit("ContentImpression")}},this.logCanPlay=e=>()=>{Yo||this.isCanPlayAndStartHavingCurrentDataLog()&&(this.callbacks.logEvent({event:bc.a.CanPlay,params:{stage:e}}),this.emit("ContentImpression"))},this.isCanPlayAndStartHavingCurrentDataLog=()=>!this.store.ad.hasPreroll&&this.store.controller.preload,this.startStream=()=>this.store.controller.encoderState===zf.a.Attached?Promise.resolve():this.attachEncoder().catch(Nc.a.error),this.handleFirstContentImpression=()=>{this.resetPosterFitStyle();const{controller:e}=this.playerStore.getState(),t=e.videoTracks.find(t=>{let{value:n}=t;return n===e.videoTrackValue});Object(jp.d)({browserRtt:Zr(Object(ic.a)()),calcRtt:Zr(Ai())}),_r(this.videoController.engine,{videoType:e.videoType,bandwidth:Qr(t&&t.bitrate),startWithCapping:mr(t,this.videoController)},this.store.ad.adSyncInit),this.callbacks.logEvent({event:bc.a.ContentImpression,params:{}}),this.callbacks.onContentImpression({hasPreroll:this.store.ad.adSyncInit,engine:this.store.controller.engine}),this.playerStore.dispatch(fd(!0)),this.hidePoster()},this.setMaxListeners(14),this.container=e,this.preferNative=!0===t.preferNative,this.config=t;const s=Object(up.a)(),c=Object(sv.a)(),l=Object(ov.a)();this.onReady=Object(is.a)(r);const d=t.source,{params:u}=d,{additionalParams:h}=u,f=t.volume,{skinConfig:p,togglePlaybackOnVisibilityChange:E}=t;this.callbacks=Ro({},$p,t.callbacks),this.maxBufferLength=t.maxBufferLength,this.resourceTimingsMonitor=new av(t.resourceTimingsMonitor);const{primaryColor:v,secondaryColor:A}=function(e){if(void 0===e||!Object(Jo.a)(e))return ev;const t=ii(e.primaryColor)?e.primaryColor:void 0,n=ii(e.secondaryColor)?e.secondaryColor:void 0;if(void 0===t&&void 0===n)return ev;if(void 0===n&&"string"===typeof t){const e=ai(t);return{primaryColor:t,secondaryColor:ri(e)?oi(si(e,97/255)):t}}if(void 0===t&&"string"===typeof n){const e=ai(n);return{primaryColor:ri(e)?n:oi(si(e,157/255)),secondaryColor:n}}return{primaryColor:t,secondaryColor:n}}(p),{autoplay:m}=t,g=t.hidden;this.debug=Boolean(t.debug),this.debug&&Nc.a.enableConsole(),this.div=document.createElement("div"),this.div.className=Gm.a.locals.StreamPlayer,this.adDiv=document.createElement("div"),this.adDiv.className=Gm.a.locals.StreamPlayer_ui,this.div.tabIndex=-1,this.container.appendChild(this.div),this.container.appendChild(this.adDiv);const T=Wn(),y=Boolean(t.allowMuted),S=Ro({},t);delete S.callbacks;const R=vr(this,{controller:Ro({},gf.a,{autoplay:m,initialAutoplay:m,allowMuted:y,preload:t.preload,from:h.from,vsid:h.vsid,volume:t.volume,muted:t.muted,userVolume:void 0===t.volume?NaN:f,isFullscreen:!1,togglePlaybackOnVisibilityChangeSetting:E,isDocumentVisible:Object(Xo.a)(this.getContainerDocument()),isOnline:!0,liveOffset:t.liveOffset,isAbrEnabled:t.autoQuality,preview:u.preview,featuresEnabled:t.featuresEnabled,videoInfo:u.videoInfo,playerConfig:S}),ad:Ro({},mf,{adblockDetected:ru.a,nativeAdControlsVisibility:t.useNativeAdControls}),skin:Ro({},yp,{hiddenControls:g,useNativeControls:s,useNativeFullscreen:c,useNativeSubtitles:T,nativeControlsVisibility:!Js(g),primaryColor:v,secondaryColor:A,isMobileSkin:l,showReportButton:t.report,showBrandLogo:t.showBrandLogo,showUnmuteButtonForAll:t.showUnmuteButtonForAll,showPreloader:!1,logoConfig:u.logoConfig,startPositionConfirmation:t.startPositionConfirmation,handleVideoTagClickWhenHidingNativeControls:t.handleVideoTagClickWhenHidingNativeControls}),externalPlayback:Ro({},qs,{externalPlaybackPossible:O(u.externalPlayerConfig),externalPlayerConfig:u.externalPlayerConfig}),sharing:Ro({},mp,{link:u.shareConfig&&u.shareConfig.link,html:u.shareConfig&&u.shareConfig.html}),features:{SkippableFragments:void 0,Recommendations:void 0,CloseButton:void 0}});this.playerStore=R,this.updateLogoWidgetConfig(d),this.updateRumInfo();const _=function(e){let{preferNative:t=!1,logger:n}=e;return i({preferNative:t})?$s.b.avplayProxyController.createElement(n):null}({preferNative:this.preferNative,logger:Nc.a})||(b=Nc.a,jo?$s.b.orsayVideoElement.createElement(b):null)||function(e){let{preferNative:t,logger:n}=e;const{webOSController:r}=$s.b;return Object(Vo.f)({preferNative:t})&&r?r.createElement(n):null}({preferNative:this.preferNative,logger:Nc.a})||Object(ec.c)(Nc.a)||this.container.getElementsByTagName("video")[0]||document.createElement("video");var b;this.video=_,_.poster||(_.poster=Zs.a),this.playbackQualityController=new Wm(_),this.mediaInternalsHistory=new ZE(_),this.slotsController=new pv({parentElement:this.div,adElement:this.adDiv,originalVideoElement:_,useNativeControls:s});const P=this.getContainerDocument().getElementsByTagName("head")[0];Object(tc.a)(Gm.a.toString(),P),Object(Wo.a)(_,Gm.a.locals.player__video),Object(hs.a)(()=>window.Ya.Rum.sendHeroElement()),function(e){e.setAttribute("playsinline","playsinline"),e.setAttribute("webkit-playsinline","webkit-playsinline")}(_),this.destroySkin=iu({waitForPromise:new Promise(e=>{this.canRenderSkin=e}),playerStore:R,onError:e=>this.onError(e),skinContainer:this.slotsController.getSkinElement(),callback:this.callbacks.onSkinReady});const I=c?this.video:this.container;this.visualState=n.visualState,this.visualState.setVideoElement(_),this.on("VisualStateChange",e=>{e&&this.callbacks.onVisualStateChange(e)});const C=Object(ps.a)(e=>{let{height:t,width:n}=e;R.dispatch(pd({width:n,height:t,size:Object(ac.a)(n)})),this.handleSizeSensorUpdate({height:t,width:n})},qm);this.sizeSensor=new ts.a(I),this.sizeSensor.onResize.add(e=>{let{width:t,height:n}=e;return C({width:Object(Ks.j)(t),height:Object(Ks.j)(n)})}),C(this.sizeSensor.getSize()),this.once("Destroy",()=>this.sizeSensor.destroy()),E&&this.visualState.isYandexPipMode&&pi(window,!1,this.video),this.visualState.observe(this.handleVisualStateChange),this.handleVisualStateChange(this.visualState.getState()),this.visibilityDetectPromise=Promise.resolve(this.visualState.getState()),this.defineAutoplaySettingsAndLoadSource(),Promise.resolve().then(()=>{this.initEventSubscribes(t,s,_,l)})}recoverStream(){return this.videoController?this.videoController.recoverStream():Promise.resolve()}getRecoverHelper(){if(this.videoController)return this.videoController.recoverHelper}toggleNativeSubtitles(e){this.videoController&&this.videoController.toggleNativeSubtitles(e)}getExternalRequestController(){return this.externalRequestController||(this.externalRequestController=new rc.a({sender:window,receiver:window})),this.externalRequestController}updateVideoControllerNativeControlsVisibility(){this.videoController&&this.videoController.updateNativeControlsVisibility()}getMultiroll(){return this.multiroll}setLogoWidgetExpanded(e){this.playerStore.dispatch(Ef(e))}getConnectionQuality(){return this.videoController?this.videoController.getConnectionQuality():tp.UNKNOWN}setTitleSettings(e){this.playerStore.dispatch(Zh(e))}dispatchFeatureAction(e){try{this.playerStore.dispatch(Dd(e))}catch(t){this.onError(new Rc.a(t,{code:_c.a.FEATURE_ACTION_DISPATCH_ERROR,details:{featureAction:e},isFatal:!1}))}}setLogoWidgetActionCompleted(e){this.playerStore.dispatch(vf(e?Qs.COMPLETED:Qs.DEFAULT))}setPictureInPictureEnabled(e){pi(window,e,this.video)}getRemainingBufferedTime(){return this.videoController?this.videoController.getRemainingBufferedTime():{total:Object(Ks.k)(0)}}getVideoPlaybackQuality(){return this.playbackQualityController.getPlaybackQuality()}getMaxCapAllowedVideoTrack(){if(this.videoController)return this.videoController.getMaxCapAllowedVideoTrack()}getVideoTrack(){return Bn(this.store)}getVideoTracks(){return this.store.controller.videoTracks}getAudioTrack(){return nn(this.store)}getAudioTracks(){return this.store.controller.audioTracks}getTextTrack(){return function(e){const{textTrackEnabled:t}=e.controller;if(t)return Qn(e)}(this.store)}getTextTracks(){return this.store.controller.textTracks}setNativeTextTrackVisibility(e){this.playerStore.dispatch(Zl(e))}setNativeAdControlsVisibility(e){this.playerStore.dispatch(tl(e))}getMuted(){return this.store.controller.muted}getLiveLatency(){return void 0===this.videoController?void 0:this.videoController.getLiveLatency()}getState(){return this.store.controller.playingState}getDuration(){return this.store.controller.duration}getCurrentTime(){return this.store.controller.currentTime}getTimelineInfo(){const{controller:{duration:e,currentTime:t},skin:{skinDVRStartTime:n,skinDVRDuration:r}}=this.store;return{currentTime:t,duration:e,utcStartTime:this.getUtcStartTime(),dvrStartTime:n,dvrDuration:r}}getWatchedTime(){return this.store.controller.watchedTime}getExpectedStalled(){return this.store.controller.expectedStalled}getPreloadDetails(){const{preloadDetails:e}=this.store.controller;if((null==e?void 0:e.preloadingMethod)!==eE.Internal)return e}getBandwidthEstimate(){return(void 0===this.videoController?this.store.controller.lastKnownBandwidthEstimate:this.videoController.getBandwidthEstimate())||void 0}setExternalRequestController(e){this.externalRequestController&&this.externalRequestController.destroy(),this.externalRequestController=e}getCurrentStream(){return this.store.controller.stream}setVideoStyle(e){this.playerStore.dispatch(Cd(e)),Object(Bo.a)(this.video,e)}setSource(e,t){let{shouldSaveProgress:n=!1}=void 0===t?{}:t;this.loadSource(e,{shouldSaveProgress:n}).catch(e=>{hi(e,Tf.b.SET_SOURCE),this.onError(e)}),this.emit("SetSource",e);const r=this.logCanPlay(Tf.b.SET_SOURCE);this.once("CanPlay",r),this.once("SetSource",()=>this.off("CanPlay",r));const i=this.logLoadStartHavingCurrentData(Tf.b.SET_SOURCE);this.once("LoadedData",i),this.once("SetSource",()=>this.off("LoadedData",i)),this.updateExternalPlayerConfig(e.params.externalPlayerConfig),this.updateLogoWidgetConfig(e)}getSourceId(){return this.playerStore.getState().controller.sourceId}insertIntoCalled(){var e;null==(e=this.videoController)||e.insertIntoCalled()}getUtcPosition(){return this.videoController?this.videoController.getUtcPosition():UA}play(){var e;if(this.performPlayCallbacks(),this.currentAdPlaybackQueue&&Zt(this.store))return this.currentAdPlaybackQueue.resumeAd(),null==(e=this.playDeferred)||e.resolve(),Promise.resolve();if(!this.videoController)return this.playerStore.dispatch(ol(!0)),this.abortRequestAutoplaySettings(Rp.ApiPlay),this.playDeferred||(this.playDeferred=new nc,this.playDeferred.promise.catch(Qo.a).then(()=>this.playDeferred=void 0)),this.playDeferred.promise;const t=this.videoController.getCurrentTime(),n=this.videoController.getDuration();n>0&&t>=n&&this.seek({videoTime:Object(Ks.k)(0)}),Nc.a.log("StreamPlayer.play() -> videoController.play()");const r=this.videoController.play();return r.then(()=>{var e;return null==(e=this.playDeferred)?void 0:e.resolve()},()=>{var e;return null==(e=this.playDeferred)?void 0:e.reject()}),r}pause(){var e;yr(),this.playerStore.dispatch(fd(!0)),this.store.controller.startStage!==Yf.a.started&&(this.playerStore.dispatch(ol(!1)),this.playerStore.dispatch(sl(Yf.a.waitForUserPlay))),null==(e=this.playDeferred)||e.reject(),this.currentAdPlaybackQueue&&Zt(this.store)?this.currentAdPlaybackQueue.pauseAd():this.videoController&&this.videoController.pause()}getPlaybackRate(){return this.store.controller.playbackRate}setVideoTrack(e){this.playerStore.dispatch(Hl(e===Lp.value));const t=e===Lp.value&&this.store.controller.isAbrSupported?Lp:this.store.controller.videoTracks.find(t=>t.value===String(e)),{videoHeight:n}=this.store.controller,r=((null==t?void 0:t.height)||0)>n;if(t&&t.value!==Lp.value&&r&&function(e){const t={preferHd:e,time:Object(Cv.a)()};fE.a.setItem("videoplayer-prefer-hd",JSON.stringify(t))}(!0),this.playerStore.dispatch(Gl({name:t&&t.value!==Lp.value&&t.name||void 0,height:t&&t.height?Object(Ks.j)(t.height):void 0})),!t)return;const i=this.getVideoTrack();this.videoController.setVideoTrack(t),this.playerStore.dispatch(ld(Object(Xf.a)(Ic.a.VideoTrackChange,{newTrack:t,oldTrack:i}))),Nc.a.log("SELECTED VIDEO TRACK: ",t)}setAudioTrack(e){const t=this.store.controller.audioTracks.find(t=>t.value===String(e));if(!t)return;this.playerStore.dispatch(ql({name:t.name||void 0,lang:t.lang||void 0}));const n=this.getAudioTrack();this.videoController.setAudioTrack(t),this.playerStore.dispatch(ld(Object(Xf.a)(Ic.a.AudioTrackChange,{newTrack:t,oldTrack:n}))),Nc.a.log("SELECTED AUDIO TRACK: ",t)}getDebugInfo(){const{resourceTimingsMonitor:e}=this,t=this.videoController;return{recoverHelperState:t?t.getRecoverHelperState():tE.OFF,state:this.store,remainingBufferedTime:In(this.store),resourceTimings:e.getAllResourcesTimings(),connectionQuality:t?t.getConnectionQuality():tp.UNKNOWN,mediaInternalsHistory:this.mediaInternalsHistory.getHistory()}}setTextTrack(e){const{textTracks:t,userTextTrackLang:n,userTextTrackName:r}=this.store.controller;if("auto"===e)return void this.playerStore.dispatch(nd());const i=void 0===e?void 0:t.find(t=>t.value===e),a={enabled:Boolean(i),lang:i?i.lang||void 0:n,name:i?i.name||void 0:r};this.playerStore.dispatch(ed(a)),i?(this.videoController.setTextTrack(i),Nc.a.log("SELECTED TEXT TRACK: ",i)):(this.videoController.disableTextTrack(),Nc.a.log("DISABLE TEXT TRACK"))}getVolume(){return this.store.controller.volume}setFullscreen(e){if(e)try{this.visualState.changeFullscreenState({isFullScreen:!0})}catch(t){Nc.a.error("Request fullscreen for element:",t)}else try{this.visualState.changeFullscreenState({isFullScreen:!1})}catch(t){Nc.a.error("Exit fullscreen for element:",t)}}async destroy(){this.stopAd({stopAdReason:Cc.a.PlayerDestroy,data:{loadPositionAfterAd:void 0}}),this.stopLoadSource(nE.destroy),this.multiroll.destroy(),this.currentAdPlaybackQueue&&this.currentAdPlaybackQueue.destroy(Cc.a.PlayerDestroy),this.onlineMonitor.destroy(),this.visualState.destroy(),this.resourceTimingsMonitor.destroy(),g(this.video)&&"function"===typeof this.video.destroy&&this.video.destroy(),this.destroySkin(),this.mediaInternalsHistory.destroy(),this.playbackQualityController.destroy(),this.emit("Destroy"),await this.destroyVideoController(),function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(this.container)}skipAdPod(){this.currentAdPlaybackQueue&&this.currentAdPlaybackQueue.skipAdPod()}stop(){this.seek({videoTime:Object(Ks.k)(0)}),this.pause()}preloadSource(e){this.callbacks.logEvent({event:bc.a.PreloadSource,params:{source:e}});let t=Qo.a,n=!1;return{promise:this.preloadSourceImpl(e,()=>n,e=>t=e),abort:()=>{n||(n=!0,t())}}}initEventSubscribes(e,t,n,r){this.once("Destroy",Object(Go.a)(this.getContainerDocument(),"click",e=>{this.playerStore.dispatch(Af())},{capture:!0})),this.once("Destroy",Object(Go.a)(this.getMainContainer(),"click",n=>{if(this.store.controller.watchedTime>0)return;if(void 0!==this.store.ad.inStreamPlayingState)return;if(this.store.skin.startPositionConfirmation&&this.store.skin.startPositionConfirmation.enabled)return;(void 0===e.shouldPlayOnFirstClick?!t:e.shouldPlayOnFirstClick)&&this.play()},{once:!0}));const i=t?n:this.div,a=t||r?s(i,this.showContextMenu,{touchesCount:2,handleContextmenu:!1}):Object(Go.a)(this.div,"contextmenu",this.showContextMenu);this.once("Destroy",a),Ho.a&&this.once("Destroy",Object(es.a)(()=>this.destroy())),this.once("Destroy",Object(Go.a)(this.div,"selectstart",e=>{e.preventDefault(),e.stopPropagation()})),this.once("Destroy",Object(xs.a)(()=>{this.playerStore.dispatch(el())})),this.once("Destroy",Object(Go.a)(this.getContainerDocument(),"click",e=>{this.playerStore.dispatch(Af())},{capture:!0})),this.once("Destroy",Object(Go.a)(this.getMainContainer(),"click",t=>{this.store.controller.watchedTime>0||void 0===this.store.ad.inStreamPlayingState&&(this.store.skin.startPositionConfirmation&&this.store.skin.startPositionConfirmation.enabled||e.shouldPlayOnFirstClick&&this.play())},{once:!0})),Ho.a&&this.once("Destroy",Object(es.a)(()=>this.destroy())),this.once("Destroy",()=>{this.off("VisualStateChange")}),this.initClickerEventListener(this.div),this.initTouchZoomPreventor(this.div),this.subscribeHandlers()}initClickerEventListener(e){const t=new Ac(e);this.once("Destroy",()=>t.destroy()),t.on("Event",e=>{let{type:t,event:n}=e;const r=Ro({},n);r.preventDefault=void 0,this.callbacks.onVideoClickerEvent({type:t,event:r})})}initTouchZoomPreventor(e){const t=new Sc(e);this.once("Destroy",()=>t.destroy())}updateRumInfo(){const{controller:e}=this.store;Object(jp.d)({apiVersion:2,bundle:"modern",isMobile:this.config.isMobile,useFriendlyFrame:this.config.useFriendlyFrame,slowConnection:this.config.slowConnection,vsid:e.vsid,from:e.from,saveData:Object(QE.a)()})}requestAutoplaySettings(e,t,n){return function(e){return void 0===e&&(e=window),Object(mv.a)(e).some(e=>{const{hasBeenActive:t}=Object(hs.a)(()=>l(e))||{hasBeenActive:!1};return t})}(window)?{promise:Promise.resolve({autoplay:t.autoplay,muted:t.muted,detectionMethod:"ACTIVATED_WINDOW"}),abort:Qo.a,skipCacheUpdate:!0}:m(Ro({},t,n,{videoSlot:e}))}defineAutoplaySettings(e,t){if(this.store.controller.autoplay&&!this.store.controller.isDocumentVisible)return this.playerStore.dispatch(sl(Yf.a.waitForDocumentVisibility)),this.playerStore.dispatch(ol(!1)),void(this.defineAutoplaySettingsPromise=Promise.resolve());let n;Object(Mp.c)("detect.autoplay");const r=So(t),{promise:i,skipCacheUpdate:a=!1,abort:o}=this.requestAutoplaySettings(e,t,r);i.then(()=>{Object(Mp.a)("detect.autoplay")});const{promise:s,clear:c}=Object(us.a)(Np);this.clearRequestAutoplaySettingsTimeout=()=>{c()},s.then(()=>{this.playerStore.dispatch(sl(Yf.a.waitForUserPlay))});const l=Object(ds.a)();this.abortRequestAutoplaySettings=e=>{void 0===n&&this.callbacks.logEvent({event:"PlayWithoutRAAResults",params:{delay:Object(Ks.i)(l()),reason:e}}),o()},this.runRequestAutoplaySettingsLogger(i,t,r),i.then(e=>{var n,i;a||(i=e,function(e,t){return!t||e.allowMuted!==t.allowMuted||e.autoplay!==t.autoplay||e.muted!==t.muted}(n=t,r)&&Object(hs.a)(()=>{fE.a.setItem(yo(n),JSON.stringify(To({},i,{time:Date.now()})))}))}),this.defineAutoplaySettingsPromise=Promise.all([i,this.visibilityDetectPromise]).then(e=>{let[t]=e;n=t,this.clearRequestAutoplaySettingsTimeout();const{isVisible:r}=this.store.controller;Nc.a.log("Autoplay settings defined",n);const{autoplay:i,muted:a,requireUserGestureToUnmute:o,autoplayImpossible:s,requireAllowMutedToAutoplay:c}=n;this.playerStore.dispatch(ul({muted:a,volume:this.store.controller.volume,changeReason:lp.a.RequestAutoplaySettings}));const l=function(e){const{controller:{togglePlaybackOnVisibilityChangeSetting:t,muted:n}}=e;return!!t&&!(t.onlyMuted&&!n)}(this.store)&&!1===r;l&&this.callbacks.logEvent({event:"HiddenAutoplayPrevented",params:{autoplaySettingsRequestResult:n}});const d=i&&!l&&this.store.controller.autoplay;Nc.a.log("autoplay status:",i),Nc.a.log("isVisible",r),Nc.a.log("preventHiddenAutoplay",l);const u=d?Yf.a.starting:Yf.a.waitForUserPlay;var h;(this.playerStore.dispatch(sl(u)),d)?this.playerStore.dispatch(cl(!0)):(yr(),null==(h=this.playDeferred)||h.reject());if(this.playerStore.dispatch(ol(d)),this.playerStore.dispatch(hl(Boolean(o))),s){this.playerStore.dispatch(fl(!0)),this.callbacks.logEvent({event:"AutoplayImpossible",params:{autoplaySettingsRequestResult:n}});try{console.warn("Cannot autoplay video"+(c?" with sound":"")+" in this environment."+(c?" Use autoplay={allowMuted: true} if you prefer mute video and enable autoplay.":""))}catch(f){}}})}createVideoController(e,t,n){let{stream:r,supportInfo:i}=e;const a={playerStore:this.playerStore,video:this.video,stream:r,sourceParams:t,debug:this.debug,liveOffset:this.store.controller.liveOffset,slowConnection:this.config.slowConnection,maxBufferLength:this.maxBufferLength,preferNative:this.preferNative,maxRecoverAttempts:this.config.maxRecoverAttempts,bandwidthEstimateOffset:this.config.bandwidthEstimateOffset,resourceTimingsMonitor:this.resourceTimingsMonitor,setPlayerBackgroundImage:this.setBackgroundImage,setPlayerBackgroundVisibility:this.setBackgroundVisibility,onError:e=>this.onError(e),onRecover:this.onRecover,logEvent:this.callbacks.logEvent,getPipWindowSize:()=>this.visualState.getPipWindowSize()},o=(s=i.engine,c=a,l=this.getPreloader(r,t,n),s===ep.a.YANDEX?new Fm(c):s===ep.a.HLS?new xA(c):s===ep.a.MPD?new mm(c,l):s===ep.a.MP4?new XA(c):new Sm(c));var s,c,l;this.cleanCachePreloaders();const d=e=>{this.videoController=e,this.playerStore.dispatch(al(i.engine)),this.callbacks.onEngineChange(i.engine,this.playerStore.getState().controller.sourceId),Object(jp.e)("engine",i.engine),e.on("VideoPlayingStateChange",e=>this.emit("VideoPlayingStateChange",e)),e.on("MetadataChange",e=>this.emit("MetadataChange",e)),e.on("CurrentTimeChange",e=>this.emit("CurrentTimeChange",e)),e.on("DurationChange",e=>this.emit("DurationChange",e)),e.on("ProgramDateTimeChange",e=>this.emit("ProgramDateTimeChange",e)),e.on("BufferingRangesChange",e=>this.emit("BufferingRangesChange",e)),e.on("CanPlay",()=>this.emit("CanPlay")),e.on("ContentImpression",()=>this.emit("ContentImpression")),e.on("LoadedData",()=>this.emit("LoadedData")),e.on("VideoTypeChange",e=>this.emit("VideoTypeChange",e)),e.on("VideoTrackValueChange",e=>this.emit("VideoTrackValueChange",e)),e.on("AudioTrackValueChange",e=>this.emit("AudioTrackValueChange",e)),e.on("TextTrackValueChange",e=>this.emit("TextTrackValueChange",e)),e.on("VideoTracksChange",e=>this.emit("VideoTrackChange",e)),e.on("AudioTracksChange",e=>this.emit("AudioTracksChange",e)),e.on("TextTracksChange",e=>this.emit("TextTracksChange",e))};return Object(os.a)(o)?Promise.resolve().then(async()=>d(await o)):d(o)}cleanCachePreloaders(){for(;this.cachePreloaders.length>0&&this.config.cacheSourcesCount<this.cachePreloaders.length;)this.cachePreloaders[0].destroy(),this.cachePreloaders.splice(0,1)}getCachePreloader(e,t){if(!e||this.config.cacheSourcesCount<=0)return;const n=this.cachePreloaders.findIndex(t=>{var n;return(null==(n=t.getSource().sourceParams.videoInfo)?void 0:n.videoContentId)===e});if(n<=-1)return;const r=this.cachePreloaders[n],i=t.videoTime||Object(Ks.k)(0);for(const a of r.getBufferingRanges())if(a.start<=Object(Ks.a)(i,Object(Ks.k)(.1))&&Ev<=Object(Ks.d)(a.end,i))return this.cachePreloaders.splice(n,1),r}getPreloader(e,t,n){var r;const i=$r({stream:e,sourceParams:t}),a=this.preloaders.findIndex(e=>$r(e.getSource())===i),o=this.preloaders[a];return a>-1&&this.preloaders.splice(a,1),o&&!o.isDestroyed?o:this.getCachePreloader(null==(r=t.videoInfo)?void 0:r.videoContentId,n)}getPreparedSourceParams(e,t,n){return Ro({},Pp,t,{startPosition:this.getInitialStartPosition(t,n),withCredentials:Jr(e,t)})}getInitialStartPosition(e,t){const n=e&&e.startPosition||Pp.startPosition;if(n){if(Object(ls.a)(n).some(e=>Object(cs.a)(n[e])))return n}const r=null==t?void 0:t.getProgress();return void 0===r?n:{videoTime:r}}async loadSource(e,t){let{shouldSaveProgress:n}=t;Nc.a.log("loadSource start",e),this.callbacks.onEngineChange(void 0,this.playerStore.getState().controller.sourceId);const r=n?"LoadSourceWithSaveProgress":"LoadSource";this.callbacks.logEvent({event:r,params:{source:e}}),function(){Jp++,Zp.sourceStart=!1;const e=0===Jp;e?Object(xp.a)(Hp.firstLoadSource):Object(Fp.b)();try{Object(Bp.c)(e);const t=Object(Bp.a)();Object(jp.c)(t.additional||{})}catch(t){}}(),this.shouldCaptureScreenshot()&&(this.setBackgroundImage(),this.setBackgroundVisibility(!1),this.videoController.clearScreenshot()),this.stopAd({stopAdReason:Cc.a.LoadSource,data:{loadPositionAfterAd:void 0}}),this.stopLoadSource(nE.setSource),this.playbackProgressStorage.clearVideoContentId(),this.playerStore.dispatch(Pl(void 0)),this.playerStore.dispatch(Sl(void 0)),this.playerStore.dispatch(Rl(void 0)),this.playerStore.dispatch(bl(e.streams)),this.playerStore.dispatch(fd(!1)),this.playerStore.dispatch(Tl(e.params.videoInfo||gf.a.videoInfo));const{preferredAudioLangs:i,preferredTextLangs:a}=e.params.preferredTracks;i.length>0&&this.playerStore.dispatch(ql({lang:i[0],name:void 0})),a.length>0&&this.playerStore.dispatch(ed({lang:a[0],name:void 0,enabled:!0}));const o=new Zd;this.stopLoadSource=e=>o.stop(e);try{this.multiroll.destroy()}catch(T){!function(e,t){Object(hs.a)(()=>window.Ya.Rum.logError(Ar({},e,{additional:Object(jp.b)()}),t))}({message:"Can not destroy multiroll instance",method:"loadSource",source:"multiroll",sourceMethod:"destroy",type:"logic"},T)}this.multiroll=XE;const s=!this.videoController,{streams:c}=e,l=Gr({streams:c,video:this.video,preferNative:this.preferNative}),d=zr(e.params),u=function(e){return Object(Jo.a)(e)&&!1===e.hasPreroll}(d);this.playerStore.dispatch($c(Object(Jo.a)(d)&&(!u||!1!==d.hasPreroll)));let h=u?null:this.initMultirollModule(d);Object(jp.e)("hasPreroll",!u);const f=this.destroyVideoController(),p=await l;if(this.playerStore.dispatch(Pl(p.streamsWithSupportInfo)),"error"===p.status)throw p.error;const{supportedStream:E}=p;var v;(v=E).supportInfo.engine===ep.a.MPD?Oo(Ym.e):v.supportInfo.engine===ep.a.HLS&&Oo(Ym.c);const{stream:A}=E;if(o.stopReason)return void this.callbacks.logEvent({event:bc.a.StreamStopWhileChoosingStream,params:void 0});this.playbackProgressStorage.setVideoContentId(this.config.restoreTabSessionPlaybackProgress?e.params.videoInfo.videoContentId:void 0);const m=this.getPreparedSourceParams(A,e.params,this.playbackProgressStorage);if(await f,o.stopReason)return void this.callbacks.logEvent({event:bc.a.StreamStopWhileDestroyVideoController,params:void 0});if(this.resetPlayerStore(A,m,{shouldSaveProgress:n,isFirstLoad:s}),await this.defineAutoplaySettingsPromise,o.stopReason)return void this.callbacks.logEvent({event:bc.a.StreamStopDuringDefineAutoplaySettings,params:void 0});const g=this.createVideoController(E,m,e.params.startPosition);Object(os.a)(g)&&await g,this.store.ad.hasPreroll||!this.store.controller.preload&&!this.store.controller.autoplay||this.preloadVideoControllerSource(),Object(jp.e)("bandwidthEstimate",Qr(Object(Ks.b)(this.videoController.getBandwidthEstimate().value,1e3))),Object(jp.e)("drm","none"),s?(Promise.resolve().then(()=>{this.initBroadcastAd()}),Xr(A.url,Boolean(m.withCredentials)).then(e=>{this.playerStore.dispatch(qc(e||ru.a))}),this.setMuted(this.store.controller.muted),this.setVolume(this.store.controller.volume)):this.prepareNextSource(A,m),this.setPosterFitStyle(),this.once("ContentImpression",this.handleFirstContentImpression),this.once("SetSource",()=>this.off("ContentImpression",this.handleFirstContentImpression));const O=async()=>{h||(h=this.initMultirollModule(d));const e=await h;if(o.stopReason)return this.callbacks.logEvent({event:bc.a.StreamStopWhileLoadingMultiroll,params:{streamStopReason:o.stopReason}}),void e.destroy();this.multiroll=e};if(u){const{adInitOffset:e=0}=d||{};new Promise(t=>{const n=()=>this.off("CurrentTimeChange",r),r=()=>{this.getWatchedTime()<=e||(n(),t())};this.on("CurrentTimeChange",r),this.once("SetSource",n)}).then(()=>{o.stopReason||O()})}else await O();this.startPrerollAndContent(o),m.shareConfig&&this.playerStore.dispatch(Ap(m.shareConfig))}async preloadSourceImpl(e,t,n){const{streams:r}=e,i=Gr({streams:r,video:document.createElement("video"),preferNative:this.preferNative}),a=await i;if(t())throw new Error("abort preloadSource");if("error"===a.status)throw a.error;const{supportedStream:o}=a,{stream:s,supportInfo:c}=o,l=new nv;l.setVideoContentId(this.config.restoreTabSessionPlaybackProgress?e.params.videoInfo.videoContentId:void 0);const d=this.getPreparedSourceParams(s,e.params,l),u=$r({stream:s,sourceParams:d}),h=this.preloaders.find(e=>$r(e.getSource())===u);if(h)return n(()=>h.destroy()),h.preload();const f=function(e){let{engine:t,source:n,getState:r,getCapSizes:i}=e;if(t===ep.a.MPD)return new Jv({source:n,getState:r,getCapSizes:i,type:eE.Api})}({engine:c.engine,source:{stream:s,sourceParams:d},getState:()=>this.playerStore.getState(),getCapSizes:()=>{var e;return null==(e=this.videoController)?void 0:e.getCapSizes()}});if(!f)throw new Error("can not create preloader");return this.preloaders.splice(0,0,f),this.preloaders=this.preloaders.filter(e=>!e.isDestroyed).slice(0,10),n(()=>f.destroy()),f.preload()}async initMultirollModule(e){let t=XE;if(!e)return t;Rr("AD",!0);try{const{loadMultiroll:n}=await Object($d.a)(window,e,this.store.controller.vsid),r={adSdkVersion:J(window),adSdkLoaderVersion:Q(window)};Object(jp.e)("adSdkVersion",r.adSdkVersion),Object(jp.e)("adSdkLoaderVersion",r.adSdkLoaderVersion),this.callbacks.onAdSDKVersionDefined(r),t=await n(Ro({},e,{secureMode:"Safe",getSTRMChunkHost:()=>{const e=_n(this.resourceTimingsMonitor.getAllResourcesTimings());if(0===e.length)return;const{hostname:t,protocol:n}=Object(fs.g)(e[0]);return n+"//"+t+"/"}}),{preroll:{shouldPreload:()=>{const{preload:e,startStage:t}=this.store.controller;return e&&(t===Yf.a.waitForUserPlay||t===Yf.a.waitForDocumentVisibility)}},midroll:{preloadOffset:20,preloadMinTime:Object(Ks.k)(5)},postroll:{preloadOffset:20,preloadMinTime:Object(Ks.k)(5)},getPreloadParams:()=>{const e={videoSlot:this.video};if(!this.videoController||!this.store.ad.nextAdInfo)return e;const t=this.videoController.getBandwidthEstimate();return t.value?Ro({},e,{desiredBitrate:t.value/1e3}):e}})}catch(n){Sr({reason:"MULTIROLL_INIT_ERROR",adSdkVersion:J(),adSdkLoaderVersion:Q(),adblockDetected:this.store.ad.adblockDetected,bandwidth:Qr(void 0)}),this.onError(new Rc.a({isFatal:Object(as.a)(xo.a)&&("0"===String(n.code)||!n.code),code:_c.a.MULTIROLL_INIT_ERROR,details:{error:n,adConfig:e}}))}return t}async startPrerollAndContent(e){Nc.a.log("startPrerollAndContent");let t=[];const n=Object(is.a)(()=>this.startStream()),r=Object(is.a)(async()=>{this.multiroll!==XE&&Object(Vp.b)("adsdk.loadviewers.preroll"),t=await this.multiroll.preroll.loadViewers({}),this.multiroll!==XE&&Object(Vp.a)("adsdk.loadviewers.preroll");const e=t.length>0;this.playerStore.dispatch(Zc(e)),e&&this.callbacks.logEvent({event:bc.a.PrerollInit,params:{}})}),{startStage:i,preload:a}=this.store.controller;if(i===Yf.a.waitForUserPlay||i===Yf.a.waitForDocumentVisibility){if(Nc.a.log("Waiting for "+(i===Yf.a.waitForUserPlay?"user gesture":"document visibility")),this.callbacks.logEvent({event:i===Yf.a.waitForUserPlay?bc.a.WaitForUserGesture:bc.a.WaitForDocumentVisibility,params:{preload:a}}),a){if(Nc.a.log("Preload preroll in player"),await r(),e.stopReason)return void this.callbacks.logEvent({event:bc.a.StreamStopWhilePreloadingPreroll,params:{streamStopReason:e.stopReason}});this.store.ad.hasPreroll||(Nc.a.log("No preroll, preload content"),n())}if(i===Yf.a.waitForDocumentVisibility&&await function(e,t){return Object(Xo.a)(e)===t?Promise.resolve():new Promise(n=>{Object(qo.a)(e,e=>{e===t&&n()})})}(this.getContainerDocument(),!0),this.store.controller.startStage===Yf.a.waitForUserPlay&&await this.waitForPlay(),e.stopReason)return void this.callbacks.logEvent({event:i===Yf.a.waitForUserPlay?bc.a.StreamStopWhileWaitingForPlay:bc.a.StreamStopWhileWaitingForDocumentVisibility,params:{streamStopReason:e.stopReason}})}if(Nc.a.log("Start playing"),this.playerStore.dispatch(ol(!0)),await r(),e.stopReason)this.callbacks.logEvent({event:bc.a.StreamStopWhileLoadingPreroll,params:{streamStopReason:e.stopReason}});else{if(!this.store.ad.hasPreroll)return await n(),this.playAfterWaitingForDocumentVisibility(),void this.performPlayCallbacks();this.playerStore.dispatch(cl(!0)),Nc.a.log("Start preroll"),this.playAdViewers(Pc.a.preroll,S(t,Pc.a.preroll),{videoSlotCanAutoPlay:i!==Yf.a.waitForDocumentVisibility||void 0})}}waitForPlay(){const e=Object(ds.a)();return new Promise(t=>{let n=Qo.a,r=0;const i=i=>{n(),clearInterval(r),this.callbacks.logEvent({event:bc.a.WaitForPlayCompleted,params:{reason:i,timeout:Object(Ks.i)(e())}}),this.playerStore.getState().controller.startStage!==Yf.a.started&&this.playerStore.dispatch(sl(Yf.a.starting)),t()};this.video.paused?(this.playCallbacks.push(()=>{i(Dp.PlayCallback)}),n=Object(Go.a)(this.video,"play",()=>{i(Dp.VideoPlayEvent)}),r=window.setInterval(()=>{this.video.paused||i(Dp.DetectByInterval)},Bs.a)):i(Dp.VideoIsNotPausedOnInit)})}initBroadcastAd(){const{video:e,playerStore:t}=this;if(this.broadcastAd=new Jd(e,e.parentElement,t,this,e=>this.onError(e)),this.videoController&&this.videoController.engine===ep.a.NATIVE){let t=0;e.addEventListener("timeupdate",()=>{const{currentTime:n}=e;this.isLive()&&n<t&&this.broadcastAd&&this.playerStore.dispatch(zc({})),t=n})}this.on("MetadataChange",e=>{const{fragmentMetadataArray:t,fragmentStart:n}=e;if(Nc.a.log("receive metadata: ",t),!this.broadcastAd)return;const{programDateTime:r}=this.store.controller;if(void 0===r)return;const i=Object(Ks.a)(r,Object(Ks.c)(n,1e3));let a;Math.random()<.01&&this.callbacks.logEvent({event:bc.a.StreamPlayerReceivedMetadata,params:e}),t.forEach(e=>{try{const t=JSON.parse(e);if(!function(e){return Object(Jo.a)(e)&&Object(eu.a)(e.cue_id)&&Object(cs.a)(e.offset)}(t))return;a=Ro({},t,{pts:i})}catch(t){Nc.a.log("metadata is not valid ["+e+"]")}}),a&&this.broadcastAd.handleInrollFrame(a).catch(e=>{Nc.a.error(e),this.onError(new Rc.a(e,{code:_c.a.BROADCAST_AD_BLOCK_INIT_ERROR,isFatal:!1,details:{code:e.code,message:e.message,id:e.id,details:e.details,stack:e.stack,metadata:{cueId:a.cue_id,podStart:i+a.offset}}}))})}),this.broadcastAd.on("AdIntervalRemoved",e=>{this.playerStore.dispatch(Jc(e))}),this.broadcastAd.on("AdIntervalUpdated",e=>{let{cueId:t,start:n,end:r}=e;this.playerStore.dispatch(Qc({cueId:t,start:Object(Ks.b)(n,1e3),end:Object(Ks.b)(r,1e3)}))}),this.broadcastAd.on("InrollAdPlayRequest",e=>{this.playAdViewers(Pc.a.inroll,e,{skipDelay:0})}),this.broadcastAd.on("OverlayAdPlayRequest",e=>{this.playAdViewers(Pc.a.overlay,e,{skipDelay:0})})}prepareBeforeOrAfterAd(e,t){this.broadcastAd&&(Object(Md.a)(t)||t!==Pc.a.inroll&&this.broadcastAd.setEnabled(e))}getSeekPositionAfterAd(e){let{adType:t,adViewersDuration:n}=e;const r=this.getUtcPosition();if(t===Pc.a.inroll){const e=Object(Ks.a)(this.store.controller.currentTime,n);return{utc:r?Object(Ks.a)(r,n):void 0,videoTime:e}}return t===Pc.a.preroll?this.store.controller.startPosition:t===Pc.a.midroll?{utc:Object(Ks.k)(r)||void 0,videoTime:Object(Ks.k)(this.videoController.getCurrentTime())}:t===Pc.a.postroll?{videoTime:Object(Ks.k)(0)}:{}}updateVideoInfo(){const{startTime:e,fragmentDuration:t,totalDuration:n}=this.videoController.getFragmentsData();this.playerStore.dispatch(Nl(t)),this.playerStore.dispatch(kl(e)),this.playerStore.dispatch(Ll(n));const{videoWidth:r,videoHeight:i}=this.video;this.playerStore.dispatch(vl({videoWidth:Object(Ks.j)(r),videoHeight:Object(Ks.j)(i)})),Zt(this.store)?this.playbackQualityController.persist():this.playbackQualityController.update()}resetPlayerStore(e,t,n){let{shouldSaveProgress:r,isFirstLoad:i}=n;this.playerStore.dispatch(_l()),this.playerStore.dispatch(Sl(e)),this.playerStore.dispatch(Rl(t));const a=this.getStartPositionForLoadSource(t,{shouldSaveProgress:r});if(this.playerStore.dispatch(Il(a)),!i){const{additionalParams:e=_p.a}=t,{from:n=bp.a}=e;this.playerStore.dispatch(yl(n)),this.playerStore.dispatch(dd(t.preview||Pp.preview)),this.playerStore.dispatch(Ul(gf.a.bufferingRanges)),r||this.playerStore.dispatch(ud(gf.a.watchedTime)),this.playerStore.dispatch(Al(void 0)),this.playerStore.dispatch(wl(void 0)),this.playerStore.dispatch(yd(t.logoConfig)),this.playerStore.dispatch(Kl(gf.a.videoTracks)),this.playerStore.dispatch(Wl(gf.a.audioTrackValue)),this.playerStore.dispatch(Xl(gf.a.audioTracks)),this.playerStore.dispatch(Jl(gf.a.textTrackEnabled)),this.playerStore.dispatch($l(gf.a.textTrackValue)),this.playerStore.dispatch(Ql(gf.a.textTracks)),this.playerStore.dispatch(rd([])),this.playerStore.dispatch(hd(void 0)),this.playerStore.dispatch(cf()),this.playerStore.dispatch(zc({})),this.store.controller.playingState===Hs.a.END&&this.playerStore.dispatch(ml(Hs.a.PAUSE)),this.playerStore.dispatch(rl(void 0)),this.playerStore.dispatch(Zc(!1)),this.playerStore.dispatch(il(void 0)),this.playerStore.dispatch(Zh(yp.title)),this.playerStore.dispatch(wd(gf.a.preloadDetails))}this.playerStore.dispatch(Kc(zr(t))),this.playerStore.dispatch(Ld(t.features||{}))}prepareNextSource(e,t){this.playerStore.dispatch(Fl({})),this.playerStore.dispatch(Ad(!1)),this.emit("DurationChange",Object(Ks.k)(NaN)),this.playerStore.dispatch(vp()),this.playerStore.dispatch(cl(!0)),this.playbackQualityController.reset(),this.playCallbacks=[],this.playerStore.dispatch(Yl({videoTrackValue:gf.a.videoTrackValue,isAbrEnabled:this.store.controller.isAbrEnabled})),this.broadcastAd&&this.playerStore.dispatch(zc({})),this.playerStore.dispatch(hh({delay:Gs,condition:()=>this.store.controller.videoTrackValue===gf.a.videoTrackValue,action:vd(!0)}));-1===[Hs.a.PLAY,Hs.a.BUFFERING].indexOf(this.store.controller.playingState)&&this.once("VideoTrackValueChange",()=>{this.playerStore.dispatch(vd(!1))}),this.playerStore.dispatch(ld(Object(Xf.a)(Ic.a.SetSource,{stream:e,params:t})))}performPlayCallbacks(){this.playCallbacks.length>0&&(Object(rs.a)(this.playCallbacks),this.playCallbacks=[])}seekToVideoPosition(e,t){Number.isNaN(e)||(this.callbacks.onSeek({newPosition:e,oldPosition:this.store.controller.currentTime}),Zt(this.store)&&!t?this.playerStore.dispatch(Il({videoTime:e})):this.videoController.seek(e))}isLive(){return this.store.controller.videoType===Ys.a.LIVE}getStartPositionForLoadSource(e,t){let{shouldSaveProgress:n}=t;const{controller:{currentTime:r,watchedTime:i}}=this.store,a=this.getUtcStartTime(),o=void 0===a?void 0:Object(Ks.a)(a,r),s=Object(Jo.a)(e.startPosition)?e.startPosition:{};return n&&i>0?{videoTime:r,utc:o}:s}getUtcStartTime(){const{controller:{programDateTime:e}}=this.store;return void 0===e?void 0:Object(Ks.b)(e,1e3)}onError(e){const t=e instanceof Rc.a?e:new Rc.a(e,{code:e.code||_c.a.DEFAULT_ERROR});this.playerStore.dispatch(Fl({error:t})),t.isFatal&&(this.callbacks.logEvent({event:"MediaInternalsHistoryOnFatal",params:{history:this.mediaInternalsHistory.getHistory()}}),!Zt(this.store)&&this.currentAdPlaybackQueue&&this.currentAdPlaybackQueue.destroy(Cc.a.PlayerError),this.playerStore.dispatch(Nd(Hs.a.PAUSE)),this.resourceTimingsMonitor.updateInfo(),this.destroyVideoController())}async detachEncoder(){this.videoController&&(await this.videoController.detachEncoder(),this.playerStore.dispatch(ll(zf.a.Detached)))}async attachEncoder(){this.store.controller.isOnline||await new Promise(e=>this.onlineMonitor.once("Online",e)),this.playerStore.dispatch(ll(zf.a.Attaching));try{await this.videoController.attachEncoder()}catch(n){throw this.playerStore.dispatch(ll(zf.a.Detached)),n}this.playerStore.dispatch(ll(zf.a.Attached));const e=this.store.controller.playingState,t=this.videoController.getPlayingState();t&&e!==t&&this.emit("VideoPlayingStateChange",t)}async destroyVideoController(){this.videoController&&(this.cacheVideoController(),await this.videoController.destroy(),this.playerStore.dispatch(ll(zf.a.Detached)))}cacheVideoController(){if(!this.videoController)return;if(this.store.controller.videoType!==Ys.a.VOD)return;const e=this.videoController.createCachePreloader();if(!e)return;const t=this.videoController.getVideoContentId();if(void 0===t)return void e.destroy();const n=this.cachePreloaders.findIndex(e=>{var n;return(null==(n=e.getSource().sourceParams.videoInfo)?void 0:n.videoContentId)===t});n>-1&&(this.cachePreloaders[n].destroy(),this.cachePreloaders.splice(n,1)),this.cachePreloaders.push(e)}runRequestAutoplaySettingsLogger(e,t,n){e.then(e=>{this.callbacks.logEvent({event:e.autoplay?"AutoplayAllowed":"AutoplayDisabled",params:{autoplaySettingsRequestResult:e,initialAutoplayParams:t,cachedAutoplayParams:n}})}),Object(ls.a)(Cp).forEach(n=>{const{promise:r,clear:i}=Object(us.a)(1e3*Number(n));e.then(i),r.then(()=>{const{isDocumentVisible:e}=this.store.controller;Nc.a.log("requestAutoplaySettings taking ["+n+"]s, isDocumentVisible=["+e+"]"),e&&this.onError(new Rc.a({code:Cp[n],details:{initialAutoplayParams:t},isFatal:!1}))})})}async playAfterWaitingForDocumentVisibility(){const{videoController:e}=this,{startStage:t,initialAutoplay:n}=this.store.controller;if(t===Yf.a.waitForDocumentVisibility&&n&&e){this.callbacks.logEvent({event:bc.a.PlayAfterWaitingForDocumentVisibility,params:{}});try{var r;this.performPlayCallbacks(),await e.play(),null==(r=this.playDeferred)||r.resolve()}catch(o){var i,a;if(null!=(i=this.store.controller.errorInfo.error)&&i.isFatal)return void(null==(a=this.playDeferred)||a.reject());const{allowMuted:t,muted:n}=this.store.controller;if(!(t&&!n))return;this.setMuted(!0),e.play().then(()=>{var e;return null==(e=this.playDeferred)?void 0:e.resolve()},()=>{var e;return null==(e=this.playDeferred)?void 0:e.reject()})}}}updateExternalPlayerConfig(e){this.playerStore.dispatch(fh(e)),this.playerStore.dispatch(Oh(Xs.CLOSED))}getContainerDocument(){return this.container.ownerDocument||document}getMainContainer(){return this.config.useFriendlyFrame?this.container:document}setPosterFitStyle(){Object(Bo.a)(this.video,Ro({objectFit:"cover"},this.playerStore.getState().controller.videoElementStyle))}resetPosterFitStyle(){Object(Bo.a)(this.video,Ro({objectFit:"contain"},this.playerStore.getState().controller.videoElementStyle))}hidePoster(){this.video.poster=Zs.a}updateLogoWidgetConfig(e){const{logoWidgetConfig:t}=e.params;this.playerStore.dispatch(pf(function(e){return void 0===e?e:{caption:e.caption,avatarSrc:e.avatarSrc,forceExpanded:!1,action:{status:e.action.completed?Qs.COMPLETED:Qs.DEFAULT,caption:e.action.caption,progressCaption:e.action.progressCaption,completedCaption:e.action.completedCaption,url:e.action.url}}}(t)))}preloadVideoControllerSource(){void 0!==this.videoController?(this.callbacks.logEvent({event:bc.a.PreloadSource,params:{whileAd:!0}}),Object(ss.a)(this.videoController.preloadSource())):console.warn("preloadVideoControllerSource: videoController is undefined")}}const Qm=(e,t,n,r)=>{Object(Uo.a)().forEach(t=>Object(Fo.a)(t,e));const a=i({preferNative:o=t.preferNative})?Object(Lv.a)():Object(Vo.f)({preferNative:o})?Object(Lv.g)():jo?Object(Lv.d)():Mo.a?Object(Lv.e)():void 0;var o;return void 0===a?new zm(e,t,n,r):a.then(()=>new zm(e,t,n,r))};$s.b.createJsPlayer=Qm},,function(e,t,n){"use strict";function r(e){void 0===e&&(e=window);const t=Object(te.a)(e).match(/YaBrowser\/([\d]+)\.([\d]+)/);if(!t)return{major:-1,minor:-1};const[,n,r]=t;return{major:parseInt(n,10),minor:parseInt(r,10)}}function i(){return Object(ee.a)(window)&&!L.a&&!ne.a}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e){return[...e.hash.substr(1).split("&"),...e.search.substr(1).split("&")].reduce((e,t)=>{const[n,r]=t.split("=");return void 0!==r&&(e[n]=decodeURIComponent(r.replace(/\+/g," "))),e},{})}function s(e){return Object(b.a)(e.toJSON)?e.toJSON():e}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t,n){if(void 0===n&&(n=window),!n.history)return;if(He.a>-1&&He.a<=15)return;const r=((e,t,n)=>{const r=c({},o(e));r.mq_url=void 0,r.lq_url=void 0,r.hq_url=void 0,r.hd_url=void 0,r.stream_url=n?Object(Ye.h)(n,["vsid","adsid","partner-id","video-category-id","imp-id","gzip"]):"",r.additional_params="object"===typeof t.additionalParams?JSON.stringify(t.additionalParams):void 0;const{adConfig:i={}}=t;return r.partner_id=Ke(i.partnerId),r.category=Ke(i.category),r.imp_id=Ke(i.impId),r.distr_id=Ke(i.distrId),r.video_content_id=Ke(i.videoContentId),r.video_content_name=Ke(i.videoContentName),r.video_publisher_id=Ke(i.videoPublisherId),r.video_publisher_name=Ke(i.videoPublisherName),r.video_genre_id=Ke(i.videoGenreId),r.video_genre_name=Ke(i.videoGenreName),r.start_position=Ke(t.startPosition),r.loop=Ke(t.loop),r.with_credentials=Ke(t.withCredentials),r.preview=Ke(t.preview),r.host=e.hostname,r})(n.location,e,t),i=Object(Ye.c)(n.location.href.split("?")[0].split("#")[0],r);try{n.history.replaceState(void 0,"",i)}catch(a){}}function d(e){if(e.indexOf(ze.a.NativeUI)>-1)return{enableSkin:!1,playerScriptFileName:Xe.NATIVE_UI};if(0===e.length)return{enableSkin:!0,playerScriptFileName:Xe.DEFAULT};const t=e.some(e=>Qe.indexOf(e)>-1),n=e.some(e=>Je.indexOf(e)>-1);if(!t&&!n)return{enableSkin:!0,playerScriptFileName:Xe.DEFAULT};if(e.every(e=>Qe.indexOf(e)>-1))return{enableSkin:!0,playerScriptFileName:Xe.KINOPOISK};return{enableSkin:!0,playerScriptFileName:n?Xe.FULL:Xe.DEFAULT}}function u(e){let{featuresEnabled:t,shouldLoadModern:n}=e;const{playerScriptFileName:r}=d(t);return n?(e=>{switch(e){case Xe.DEFAULT:return qe.DEFAULT;case Xe.FULL:return qe.FULL;case Xe.NATIVE_UI:return qe.NATIVE_UI;case Xe.KINOPOISK:return qe.KINOPOISK;default:return e}})(r):r}async function h(e){let{featuresEnabled:t,streamPlayerUrl:r,container:i}=e;return n(353),Promise.resolve(Ae.b.createJsPlayer)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}async function p(e,t,n,r,i){let a;const o=function(e){let{featuresEnabled:t,shouldLoadModern:n}=e;const r=u({featuresEnabled:t,shouldLoadModern:n});return{js:"js/"+r+".js",css:"css/"+r+".css"}}({featuresEnabled:t.featuresEnabled,shouldLoadModern:Ze.b&&Ze.a}),{featuresEnabled:s}=t,c=await h({featuresEnabled:s,streamPlayerUrl:o,container:e});return n.on("SendStalled",e=>{const n=e.isStalledEnd?"StalledEnd":"Stalled";let r,i;a&&(r=a.getRemainingBufferedTime(),i=a.getVideoTrack()),t.callbacks.logEvent({event:n,params:f({},e.details,{stalledDuration:e.stalledDuration,remainingBufferedTime:r,videoTrack:i,stalledId:e.id,isMuted:a?a.getMuted():void 0}),additionalStatsLabels:{reason:e.reason,stalledDuration:e.isStalledEnd?void 0:String(e.stalledDuration)}})}),a=await c(e,t,{visualState:r},i),Object(H.a)(F),a}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(){return{time:It.getCurrentTime(),utcTime:It.getUtcPosition(),watchedTime:It.getWatchedTime(),videoPlaybackQuality:It.getVideoPlaybackQuality(),liveLatency:It.getLiveLatency()}}function g(){return It?It.getSourceId():NaN}n.r(t);n(304);var O=n(259);Object(O.b)();var T=n(17);"toJSON"in Error.prototype||Object.defineProperty(Error.prototype,"toJSON",{value(){const e={};return Object(T.a)(()=>{Object.getOwnPropertyNames(this).forEach((function(t){e[t]=this[t]}),this)}),e},configurable:!0,writable:!0});var y=n(129),S=n(205);n(340),n(341),n(342),Object(S.a)()&&Object(y.a)({win:window,src:"https://yastatic.net/s3/home/rum/debug/blockstat.js"});var R=n(69),_=n(66),b=n(9),P=n(2),I=n(7),C=n(142),N=n.n(C),w=n(328),k=n.n(w),L=n(48),D=n(163),j=n(241);const M=L.a?D.a:!j.a;var V=n(94),U=n(166);const F="3036",x="2923";var B=n(23),H=n(138),Y=n(16),K=n(181),G=n(260),W=n(267);class X{constructor(e,t){void 0===e&&(e=window),this.handlers=[],this.onDestroy=new K.a,this.fullscreenElement=null,this.setFullScreenElementFromAPI=()=>{const e=Object(G.a)(this.win,this.video);this.setFullscreenElement(e)},this.win=e,this.video=t,t&&L.a&&(this.onDestroy.addOne(Object(Y.a)(t,"webkitbeginfullscreen",()=>{this.setFullscreenElement(t)})),this.onDestroy.addOne(Object(Y.a)(t,"webkitendfullscreen",()=>{this.setFullscreenElement(null)}))),this.names=Object(W.a)(e,t),this.names&&(this.onDestroy.addOne(Object(Y.a)(this.win.document,this.names.events.change,this.setFullScreenElementFromAPI)),this.setFullScreenElementFromAPI())}requestFullscreenForElement(e,t){if(void 0===this.names)throw new this.win.Error("Fullscreen is not supported");{const{request:n}=this.names;if(!(n in e))throw new this.win.Error("Fullscreen is not supported");e[n](t)}}isFullscreen(){return null!==this.fullscreenElement}exit(){if(void 0===this.names)throw new Error("Fullscreen is not supported");this.video&&this.fullscreenElement===this.video?this.video[this.names.exit]():this.win.document[this.names.exit]()}getFullscreenElement(){return this.fullscreenElement}addHandler(e){if("function"!==typeof e)throw new this.win.Error("Fullscreen handler must be a function");this.handlers.push(e)}removeHandler(e){this.handlers=this.handlers.filter(t=>t!==e)}destroy(){this.handlers.length=0,this.onDestroy.dispatch(void 0)}setFullscreenElement(e){this.fullscreenElement=e,this.handlers.forEach(t=>t(e))}}var q=n(222),z=n(224),Q=n(246),J=n(34),Z=n(212),$=n(183),ee=n(143),te=n(21),ne=n(156);let re;!function(e){e.PiP="PiP",e.YaBroEarly="YaBroEarly",e.YaBroAttrLegacy="YaBroAttrLegacy",e.YaBroAttrCurrent="YaBroAttrCurrent",e.OperaPopOut="OperaPopOut",e.SafariPresentationMode="SafariPresentationMode"}(re||(re={}));const ie={[re.PiP]:{isSupported:e=>{if("pictureInPictureEnabled"in e.document){if(i()){const t=r(e);return 20===t.major&&t.minor>4||t.major>20}return!0}return!1},getCurrent:e=>e.document.pictureInPictureElement||null,observe:(e,t,n)=>t?(t.addEventListener("enterpictureinpicture",n),t.addEventListener("leavepictureinpicture",n),()=>{t.removeEventListener("enterpictureinpicture",n),t.removeEventListener("leavepictureinpicture",n)}):P.a,getPipWindow:e=>e.pictureInPictureWindow||null},[re.YaBroEarly]:{isSupported:(e,t)=>"broughtOut"in t,getCurrent:(e,t)=>t&&"broughtOut"in t&&t.broughtOut?t:null,observe:(e,t,n)=>t?(t.addEventListener("oowvideobringin",n),t.addEventListener("oowvideobringout",n),()=>{t.removeEventListener("oowvideobringin",n),t.removeEventListener("oowvideobringout",n)}):P.a},[re.YaBroAttrCurrent]:{isSupported:e=>{if(i()){const t=r(e);return 18===t.major&&t.minor>=6||t.major>18}return!1}},[re.YaBroAttrLegacy]:{isSupported:e=>i()&&r(e).major<18},[re.SafariPresentationMode]:{isSupported:(e,t)=>"webkitPresentationMode"in t,getCurrent:(e,t)=>t&&"picture-in-picture"===t.webkitPresentationMode?t:null,observe:(e,t,n)=>t?(t.addEventListener("webkitpresentationmodechanged",n),()=>t.removeEventListener("webkitpresentationmodechanged",n)):P.a},[re.OperaPopOut]:{isSupported:(e,t)=>"onoperadetachedviewcontrol"in t&&"onoperadetachedviewchange"in t}},ae=[re.PiP,re.YaBroEarly,re.YaBroAttrCurrent,re.YaBroAttrLegacy,re.SafariPresentationMode,re.OperaPopOut];class oe extends J.a{constructor(e,t){void 0===e&&(e=window),super(),this.api=null,this.apiName=null,this.window=void 0,this.pipWindow=null,this.currentElement=null,this.unsubscribeFromApi=P.a,this.handlePipEvent=e=>{var t;const n=e.target;this.digestCurrentElement(n);const r=Boolean(this.getCurrentElement());this.pipWindow=(null==(t=this.api)||null==t.getPipWindow?void 0:t.getPipWindow(e))||null,this.emit("Change",r)},this.window=e;const n=t||window.HTMLVideoElement.prototype;for(let i=0;i<ae.length;i++){const e=ae[i],t=ie[e];try{if(t.isSupported(this.window,n)){this.api=t,this.apiName=e;break}}catch(r){}}this.digestCurrentElement(t),this.api&&this.api.observe&&(this.unsubscribeFromApi=this.api.observe(this.window,t,this.handlePipEvent))}getSupportedApiName(){return this.apiName}getCurrentElement(){return this.currentElement}addHandler(e){return this.api&&this.api.observe?(this.on("Change",e),()=>this.off("Change",e)):null}getPipWindowSize(){if(!this.pipWindow)return null;const{width:e,height:t}=this.pipWindow;return e&&t?{width:e,height:t}:null}destroy(){this.currentElement=null;const e=this.window.document;null!=e&&e.pictureInPictureElement&&(null==e.exitPictureInPicture||e.exitPictureInPicture()),this.off("Change"),this.unsubscribeFromApi()}digestCurrentElement(e){this.api&&this.api.getCurrent&&(this.currentElement=this.api.getCurrent(this.window,e))}}let se=null;try{"undefined"!==typeof IntersectionObserver&&(se=q.a.from(Q.a.factory,z.a.factory))}catch(kt){}const ce=Object($.a)();class le extends J.a{constructor(e){super(),this.isSupportedPipMode=!0,this.isYandexPipMode=!1,this.isVisibilitySupported=Boolean(se),this.window=void 0,this.element=void 0,this.fullscreenApi=void 0,this.pipApi=void 0,this.video=void 0,this.state={isPip:!1,isFullScreen:!1,isVisible:!0},this.observe=e=>(this.on("Change",e),()=>this.off("Change")),this.fireVisualStateHandlers=()=>{const{isPip:e,isVisible:t,isFullScreen:n}=this.state;this.emit("Change",{isPip:e,isVisible:t,isFullScreen:n,isSupportedPipMode:this.isSupportedPipMode,isVisibilitySupported:this.isVisibilitySupported,isYandexPipMode:this.isYandexPipMode})},this.handleVisibilityChange=e=>{this.state.isVisible=e,this.fireVisualStateHandlers()},this.handlePipChange=e=>{this.state.isPip=e,this.fireVisualStateHandlers()},this.handleFullscreenChange=e=>{const t=ce?this.video:this.element;this.state.isFullScreen=t===e,this.fireVisualStateHandlers()},this.element=e,this.window=Object(Z.a)(this.element)}setVideoElement(e){void 0===this.video&&(this.video=e,this.observeFullscreen(),this.observePip())}setExternalVisibility(e){this.handleVisibilityChange(e)}changeFullscreenState(e){e.isFullScreen!==this.state.isFullScreen&&(e.isFullScreen?this.fullscreenApi.requestFullscreenForElement(ce?this.video:this.element,{navigationUI:"hide"}):this.fullscreenApi.exit())}changePipState(e){e.isPip!==this.state.isPip&&(e.isPip||this.pipApi.destroy())}destroy(){this.emit("Destroy"),this.off("Destroy")}getState(){const{isPip:e,isVisible:t,isFullScreen:n}=this.state;return{isPip:e,isVisible:t,isFullScreen:n,isSupportedPipMode:this.isSupportedPipMode,isVisibilitySupported:this.isVisibilitySupported,isYandexPipMode:this.isYandexPipMode}}getPipWindowSize(){return this.pipApi.getPipWindowSize()}observePip(){this.pipApi=new oe(Object(Z.a)(this.video),this.video),this.pipApi.addHandler(this.handlePipChange),this.once("Destroy",()=>{this.pipApi.destroy()});const e=this.pipApi.getSupportedApiName();this.isSupportedPipMode=e!==re.OperaPopOut,this.isYandexPipMode=e===re.YaBroAttrCurrent||e===re.YaBroAttrLegacy}observeFullscreen(){this.fullscreenApi=new X(this.window,this.video),this.fullscreenApi.addHandler(this.handleFullscreenChange),this.once("Destroy",()=>{this.fullscreenApi.destroy()})}}var de=n(43),ue=n(64),he=n(40),fe=n(60),pe=n(71),Ee=n(59),ve=n(110),Ae=n(31),me=n(108),ge=n(4),Oe=n(116),Te=n(8),ye=n(38),Se=n(0),Re=n(225);const _e=[0,1,4,5];let be=Object(Se.k)(0);const Pe=_e.map(e=>(be=Object(Se.a)(Object(Se.k)(e),be),be)),Ie=Object(Se.c)(Pe[Pe.length-1],1e3),Ce=[de.a.Init];class Ne extends J.a{constructor(e,t){super(),this.getPlayerExpectedStalled=e,this.getPreloadDetails=t,this.isBuffering=!1,this.timer=void 0,this.stalledId=1,this.currentStalled=void 0,this.stalledTime=Object(Se.k)(0),this.stalledCount=0}setBuffering(e){var t;if(e!==this.isBuffering)if(this.isBuffering=e,this.isBuffering)this.timer=new Re.b(e=>{let{count:t}=e;const n=this.getExpectedStalled();if(t>0){const e=Object(Se.k)(Pe[t-1]),r=this.currentStalled?this.currentStalled.id:this.stalledId++;this.currentStalled||this.stalledCount++,this.currentStalled={id:r,expectedStalled:n,duration:e,getElapsedTime:Object(ye.a)()},this.send(!1,n,e,r)}return t>=_e.length?(this.destroyTimer(),1/0):1e3*_e[t]}),this.timer.start();else{if(this.currentStalled){const{expectedStalled:e,id:n}=this.currentStalled,r=void 0===(t=this.currentStalled)?Object(Se.k)(0):Object(Se.a)(t.duration,Object(Se.b)(t.getElapsedTime(),1e3));this.send(!0,e,r,n),this.currentStalled=void 0,this.stalledTime=Object(Se.a)(r,this.stalledTime)}this.destroyTimer()}}getStalledHistory(){const{stalledCount:e,stalledTime:t}=this;return{stalledCount:Object(Se.n)(e),stalledTime:Object(Se.m)(t)}}clearStalledHistory(){this.stalledCount=0,this.stalledTime=Object(Se.k)(0)}destroy(){this.destroyTimer()}getCurrentStalledReason(){var e;return null==(e=this.currentStalled)?void 0:e.expectedStalled.reason}isExpiredStalled(e){const{getElapsedTime:t,reason:n}=e;return!(Ce.indexOf(n)>-1)&&((!this.currentStalled||this.currentStalled.expectedStalled!==e)&&t()>=Ie)}getExpectedStalled(){const e=this.getPlayerExpectedStalled();return this.isExpiredStalled(e)?Object(Ee.a)(de.a.Other,void 0):e}destroyTimer(){this.timer&&(this.timer.destroy(),this.timer=void 0)}send(e,t,n,r){const{reason:i,details:o}=t,s={id:r,isStalledEnd:e,reason:i,stalledDuration:n,details:a({},o,i===de.a.SetSource&&this.getPreloadDetails())};this.emit("SendStalled",s)}}var we=n(37),ke=n(249),Le=n(248),De=n(204),je=n(208),Me=n(243),Ve=n(242),Ue=n(211),Fe=n(20),xe=n(5),Be=n(168),He=n(146),Ye=n(62);const Ke=e=>void 0===e?void 0:String(e);var Ge=n(266),We=n(262);let Xe,qe;!function(e){e.FULL="stream_player_js.full",e.DEFAULT="stream_player_js",e.NATIVE_UI="stream_player_js.native_ui",e.KINOPOISK="stream_player_js.kinopoisk"}(Xe||(Xe={})),function(e){e.FULL="stream_player_js.full.modern",e.DEFAULT="stream_player_js.modern",e.NATIVE_UI="stream_player_js.native_ui.modern",e.KINOPOISK="stream_player_js.kinopoisk.modern"}(qe||(qe={}));var ze=n(109);const Qe=[ze.a.SkippableFragments,ze.a.CloseButton],Je=[ze.a.SkippableFragments,ze.a.Recommendations];n(121),n(244),n(87);n(55).a;n(70);var Ze=n(178),$e=n(237),et=n(238);const tt={sourceId:NaN,data:void 0};var nt=n(85),rt=n(92),it=n(73),at=n(252),ot=n(223),st=n(44),ct=n(57),lt=n.n(ct),dt=n(107);const ut=Object(Se.i)(1e4),ht=Object(Se.i)(1e3),ft=Object(Se.i)(5e3),pt=Object(Se.i)(3e4);class Et extends st.a{constructor(e,t){super(),this.onTick=e,this.onFlush=t,this.wasFirstFlush=!1,this.lastFlushTime=void 0,this.startTime=void 0,this.timer=void 0,this.handleTimeout=()=>{this.onTick(),this.handleFlush(),this.nextTick()},this.startTime=this.lastFlushTime=Object(dt.a)(),this.timer=window.setTimeout(()=>{this.onTick(),this.nextTick()},0)}next(){this.isDestroyed||(window.clearTimeout(this.timer),this.handleFlush(),this.nextTick())}destroy(){super.destroy(),window.clearTimeout(this.timer)}nextTick(){this.isDestroyed||(window.clearTimeout(this.timer),this.timer=window.setTimeout(this.handleTimeout,this.getTimeout()))}handleFlush(){this.needFlush()&&(this.onFlush(),this.lastFlushTime=this.wasFirstFlush?Object(dt.a)():this.startTime,this.wasFirstFlush=!0)}needFlush(){const e=Object(dt.a)();return this.wasFirstFlush?e-this.lastFlushTime>=pt:e-this.startTime>=ut}getTimeout(){return Object(dt.a)()-this.startTime<ut?ht:ft}}class vt extends st.a{constructor(e){super(),this.props=e,this.prevState=void 0,this.states=[],this.timer=void 0,this.timer=new Et(()=>{this.writeState()},()=>{this.flushStates()})}destroy(){super.destroy(),this.timer.destroy(),this.flushStates()}getStates(){return[...this.states]}flushStates(){const e=this.getStates();e.length>0&&this.props.onFlushStates(e),this.states.length=0}writeStateManually(){this.writeState(),this.timer.next()}writeState(){const e=this.props.getState();void 0!==e&&(lt()(this.prevState,e)||(this.prevState=e,this.states.push(E({},e,{timestamp:Object(Se.n)(Object(Se.i)(Date.now()))}))))}}var At=n(263);const mt={remainingBufferedTime:Object(Se.m)(Object(Se.k)(0)),state:I.a.BUFFERING,currentTime:Object(Se.m)(at.a),watchedTime:Object(Se.m)(Object(Se.k)(0)),duration:Object(Se.m)(it.a.duration)},gt=o(window.location),Ot=gt.vsid,Tt="true"===gt.use_friendly_frame,yt=!("true"===gt.force_enable_post_message)&&Tt&&!0;Object(Oe.b)(gt);const St=new Be.a({id:Ot,sender:window.parent,receiver:window,syncMode:yt,internal:!0}),Rt=new je.a({sender:window.parent,receiver:window}),_t=new Ne(()=>It?It.getExpectedStalled():Object(Ee.a)(de.a.Other,void 0),()=>{var e;return null==(e=It)?void 0:e.getPreloadDetails()}),bt=e=>{St.sendEvent(xe.a.onLogEvent,{sourceId:-1,data:e})},Pt=e=>{const t=s(e),n=t.isFatal?Object(U.a)(t.code,Nt):void 0,r=s(new Te.a(A({},t,{messageDetails:n})));St.sendEvent(xe.a.onError,{sourceId:g(),data:r})};let It,Ct=ue.a.Unknown,Nt=V.a;Object(Ae.a)(window).playerJsLoaded=!0;const wt={};(async()=>{function e(){let e={};void 0!==It&&(e=It.getDebugInfo());const{playingState:t}=o;return A({},e,o,{playingState:we.a[t],vsid:Ot,version:"1.0-7360",utcPosition:It.getUtcPosition(),currentTime:It.getCurrentTime(),system:Object(Ve.a)(),clientTimestamp:Date.now(),streamUrl:o.stream.url,internalInitialConfig:r})}const t=async function(e){const t=Tt&&Ae.b.initialStreamPlayerParams?Object(De.a)(Ae.b.initialStreamPlayerParams):await e.sendRequest(Fe.a.getConfig,void 0);return A({},t,{maxRecoverAttempts:t.maxRecoverAttempts,env:t.env,device:t.device,bandwidthEstimateOffset:t.bandwidthEstimateOffset,maxBufferLength:t.maxBufferLength,logoConfig:t.logoConfig,shareConfig:t.shareConfig,skinConfig:t.skinConfig,startPositionConfirmation:t.startPositionConfirmation,togglePlaybackOnVisibilityChange:t.togglePlaybackOnVisibilityChange})}(St),n={onChangeStream:e=>{St.sendEvent(xe.a.onChangeStream,{sourceId:g(),data:e}),e&&(l({preview:o.preview,adConfig:o.adConfig,additionalParams:i},e.url),o.stream=e)},onError:Pt,onRecover:e=>{St.sendEvent(xe.a.onRecover,{sourceId:g(),data:e})},onStateChange:e=>{const t=g(),n=Object(Ue.a)(e);e===I.a.BUFFERING?_t.setBuffering(!0):_t.setBuffering(!1),o.playingState!==n&&(o.playingState=n,St.sendEvent(xe.a.onStateChange,{sourceId:t,data:{playingState:n,reason:Ct}}),Ct=ue.a.Unknown,c.writeStateManually())},onSeek:e=>{St.sendEvent(xe.a.onSeek,{sourceId:g(),data:e})},onAdStateChange:e=>{const{adState:t,playingState:n}=o;t.state===he.a.NOT_PLAYING&&e.state===he.a.PLAYING&&_t.setBuffering(!1);t.state===he.a.PLAYING&&e.state===he.a.NOT_PLAYING&&n===we.a.BUFFERING&&_t.setBuffering(!0),t.state!==e.state&&(Ct=ue.a.Unknown),o.adState=e,St.sendEvent(xe.a.onAdStateChange,{sourceId:g(),data:e})},onBeforeAdPodStart:e=>{yt&&St.sendEvent(xe.a.onBeforeAdPodStart,{sourceId:g(),data:e})},onAdPodStart:()=>{St.sendEvent(xe.a.onAdPodStart,{sourceId:g(),data:void 0})},onAdSkippableStateChange:e=>{St.sendEvent(xe.a.onAdSkippableStateChange,{sourceId:g(),data:e})},onAdPodCloseStateChange:e=>{St.sendEvent(xe.a.onAdPodCloseStateChange,{sourceId:g(),data:e})},onAdPodDurationChange:e=>{St.sendEvent(xe.a.onAdPodDurationChange,{sourceId:g(),data:e})},onAdPodCurrentTimeChange:e=>{St.sendEvent(xe.a.onAdPodCurrentTimeChange,{sourceId:g(),data:e})},onAdPodTimeToSkipChange:e=>{St.sendEvent(xe.a.onAdPodTimeToSkipChange,{sourceId:g(),data:e})},onAdVolumeAvailabilityStateChange:e=>{St.sendEvent(xe.a.onAdVolumeAvailabilityStateChange,{sourceId:g(),data:e})},onAdInteraction:()=>{St.sendEvent(xe.a.onAdInteraction,{sourceId:g(),data:void 0})},onVideoTypeChange:e=>{St.sendEvent(xe.a.onVideoTypeChange,{sourceId:g(),data:e})},onDurationChange:e=>{if(void 0===It)return;const t={sourceId:g(),data:e};St.sendEvent(xe.a.onDurationChange,t),St.sendEvent(xe.a.onTimelineInfoChange,{sourceId:t.sourceId,data:It.getTimelineInfo()})},onCurrentTimeChange:()=>{void 0!==It&&(St.sendEvent(xe.a.onPositionChange,{sourceId:g(),data:m()}),St.sendEvent(xe.a.onTimelineInfoChange,{sourceId:g(),data:It.getTimelineInfo()}))},onFullScreenChange:e=>{St.sendEvent(xe.a.onFullScreenChange,{sourceId:g(),data:e})},onVolumeChange:e=>{St.sendEvent(xe.a.onVolumeChange,{sourceId:g(),data:e})},onUserAction:t=>{switch(St.sendEvent(xe.a.onUserAction,{sourceId:g(),data:t}),t.name){case"DOWNLOAD_DEBUG":!async function(){const t=JSON.stringify(e());try{M?k()(R.a?t:new Blob([t]),"video-player-"+Date.now()+".json","text/plain"):await N()(t)}catch(n){St.sendEvent(xe.a.onError,{sourceId:g(),data:new Te.a(A({},n,{code:ge.a.FAILED_TO_DOWNLOAD_DEBUG_INFO,isFatal:!1})).toJSON()})}}()}},onErrorScreenVisibilityChange:e=>{St.sendEvent(xe.a.onErrorScreenVisibilityChange,{sourceId:g(),data:e})},onVideoTrackChange:e=>{St.sendEvent(xe.a.onVideoTrackChange,{sourceId:g(),data:e})},onVideoTracksChange:e=>{St.sendEvent(xe.a.onVideoTracksChange,{sourceId:g(),data:e})},onAudioTrackChange:e=>{St.sendEvent(xe.a.onAudioTrackChange,{sourceId:g(),data:e})},onAudioTracksChange:e=>{St.sendEvent(xe.a.onAudioTracksChange,{sourceId:g(),data:e})},onTextTrackChange:e=>{St.sendEvent(xe.a.onTextTrackChange,{sourceId:g(),data:e})},onTextTracksChange:e=>{St.sendEvent(xe.a.onTextTracksChange,{sourceId:g(),data:e})},onSubtitlesChange:e=>{St.sendEvent(xe.a.onSubtitlesChange,{sourceId:g(),data:e})},onPlaybackRateChange:e=>{St.sendEvent(xe.a.onPlaybackRateChange,{sourceId:g(),data:e})},onThumbnailTileGeneralMetaInfoChange:e=>{St.sendEvent(xe.a.onThumbnailTileGeneralMetaInfoChange,{sourceId:g(),data:e})},onOriginalBroadcastAdStateChange:e=>{St.sendEvent(xe.a.onOriginalBroadcastAdStateChange,{sourceId:g(),data:e})},onAdblockDetected:e=>{Nt=e,Object(T.a)(()=>{window.Ya.Rum.updateErrors({blocker:Nt}),window.Ya.Rum.setVars({"-blocker":Nt}),Object(H.a)(x,window.Ya.Rum.getTime(),!1,{[x]:Number(Nt)})})},onFeatureEvent:e=>{St.sendEvent(xe.a.onFeatureEvent,{sourceId:g(),data:e})},onSkinReady:()=>{St.sendEvent(xe.a.onSkinReady,{sourceId:g(),data:void 0})},onContentImpression:e=>{St.sendEvent(xe.a.onContentImpression,{sourceId:g(),data:e})},onResourcesIdle:()=>{St.sendEvent(xe.a.onResourcesIdle,{sourceId:g(),data:void 0})},onSetSourceRequest:e=>{St.sendEvent(xe.a.onSetSourceRequest,{sourceId:g(),data:e})},onVisualStateChange:e=>{St.sendEvent(xe.a.onVisualStateChange,{sourceId:g(),data:e})},onBufferingRangesChange:e=>{St.sendEvent(xe.a.onBufferingRangesChange,{sourceId:g(),data:e})},onStartStageChange:e=>{St.sendEvent(xe.a.onStartStageChange,{sourceId:g(),data:e})},onVideoSizeChange:e=>{St.sendEvent(xe.a.onVideoSizeChange,{sourceId:g(),data:e})},onVideoReadyStateChange:e=>{St.sendEvent(xe.a.onVideoReadyStateChange,{sourceId:g(),data:e})},onNextAdRemainingTimeChange:e=>{St.sendEvent(xe.a.onNextAdRemainingTimeChange,{sourceId:g(),data:e})},onVideoClickerEvent:e=>{St.sendEvent(xe.a.onVideoClickerEvent,{sourceId:g(),data:e})},logEvent:bt,onLogoWidgetActionCall:()=>{St.sendEvent(xe.a.onLogoWidgetActionCall,{sourceId:g(),data:void 0})},onAdSDKVersionDefined:e=>{St.sendEvent(xe.a.onAdSDKVersionDefined,{sourceId:g(),data:e})},onStreamsWithSupportInfoChange:e=>{St.sendEvent(xe.a.onStreamsWithSupportInfoChange,{sourceId:g(),data:e})},onEngineChange:(e,t)=>{St.sendEvent(xe.a.onEngineChange,{sourceId:t,data:e})},onNetworkStatusChange:e=>{St.sendEvent(xe.a.onNetworkStatusChange,{sourceId:g(),data:e})}},r=await t.then(e=>A({},e,{callbacks:n}));let i=r.source.params.additionalParams;r.env&&pe.a.setDeviceType(r.env.deviceType),St.sendEvent(xe.a.onInit,tt);const a=function(e){const t=Tt?window.parent.document.getElementById(Object(Me.a)(Ot)):document.getElementById("q");if(!t)throw new Te.a({code:ge.a.PLAYER_CONTAINER_NOT_FOUND,isFatal:!1,details:e,message:"Player container was not found"});return t}(r);Object(Ge.a)().forEach(e=>Object(We.a)(e,a)),function(e){if(e.source.streams.some(e=>{let{url:t}=e;return Object(ve.a)(t)})){const e=Object(_.a)(window),t=document.createElement("link");t.rel="preconnect",t.href="https://strm.yandex.ru",e.appendChild(t)}}(r);const o=function(e){const[t]=e.source.streams;return{playingState:we.a.UNSTARTED,startPosition:e.source.params.startPosition.videoTime,env:e.env,withCredentials:e.source.params.withCredentials,preview:e.source.params.preview,stream:t,adConfig:e.source.params.adConfig,adState:$e.a}}(r),s=new le(a),c=function(e,t,n,r){const i=new vt({getState:()=>{var n;const i=v({},mt,{isMuted:r.muted,saveData:Object(ot.a)()},t.getStalledHistory()),a=e();if(void 0===a)return i;const o=a.getVideoTrack(),s=a.getAudioTrack(),{droppedVideoFrames:c,totalVideoFrames:l}=a.getVideoPlaybackQuality(),{state:d}=a.getDebugInfo(),{videoWidth:u,videoHeight:h}=d.controller,f=a.getBandwidthEstimate(),p=a.getVideoTracks()[0],E=a.getMaxCapAllowedVideoTrack(),A=a.getLiveLatency(),m=a.getRemainingBufferedTime(),g=null==(n=d.ad.adInfo)?void 0:n.adType,O=!g||Object(rt.a)(g),T=a.getState();return v({},i,{isVisible:d.controller.isVisible,currentTime:Object(Se.m)(a.getCurrentTime()),watchedTime:Object(Se.m)(a.getWatchedTime()),duration:Object(Se.m)(a.getDuration()),liveLatency:void 0===A?void 0:Object(Se.m)(A),isMuted:d.controller.muted,ad:g,remainingBufferedTime:Object(Se.m)(m.total),remainingVideoBufferedTime:void 0===m.video?void 0:Object(Se.m)(m.video),remainingAudioBufferedTime:void 0===m.audio?void 0:Object(Se.m)(m.audio),state:T,auto:void 0===o?void 0:o.auto,bitrate:o&&o.bitrate?Object(Se.n)(Object(Se.c)(o.bitrate,1e3)):void 0,width:Object(Se.n)(u)||void 0,height:Object(Se.n)(h)||void 0,maxWidth:O&&null!=p&&p.width?Object(Se.n)(Object(Se.j)(p.width)):void 0,maxHeight:O&&null!=p&&p.height?Object(Se.n)(Object(Se.j)(p.height)):void 0,capWidth:O&&null!=E&&E.width?Object(Se.n)(Object(Se.j)(E.width)):void 0,capHeight:O&&null!=E&&E.height?Object(Se.n)(Object(Se.j)(E.height)):void 0,audioBitrate:s&&s.bitrate?Object(Se.n)(Object(Se.c)(s.bitrate,1e3)):void 0,audioTrack:s&&s.value||void 0,audioLang:s&&s.lang||void 0,droppedFrames:Object(Se.n)(c)||void 0,shownFrames:Object(Se.n)(l-c)||void 0,bandwidthEstimate:void 0===f?void 0:Object(Se.n)(Object(Se.e)(Math.round(f.value))),bandwidthSource:(null==f?void 0:f.source)||void 0,rtt:Object(At.a)()||void 0,stalledReason:t.getCurrentStalledReason()})},onFlushStates:e=>{n({event:"PlayerAlive",params:{states:e}})}}),a=Object(nt.a)(document,e=>{e||i.flushStates()});return i.addDestroyHandler(a),i}(()=>It,_t,bt,r);let d=P.a,u=P.a;const h=new Promise((e,t)=>{d=e,u=t});p(a,r,_t,s,d).then(e=>{It=e,It.setExternalRequestController(Rt)}).catch(u);const f=Object(et.a)(h);return f(()=>{St.sendEvent(xe.a.onReady,tt)},e=>{0}),St.on("Command",t=>{switch(t.commandName){case Fe.a.pause:Ct=t.params,It.pause();break;case Fe.a.play:Ct=t.params,It.play().then(()=>{t.sendAnswer(!0)}).catch(()=>{t.sendAnswer(!1)});break;case Fe.a.seek:It.seek({videoTime:t.params});break;case Fe.a.setPlaybackRate:It.setPlaybackRate(t.params);break;case Fe.a.setSource:const{sourceConfig:n,shouldSaveProgress:r}=t.params;if(!n)throw new Te.a("setSource method receives an object");c.flushStates(),_t.clearStalledHistory(),o.adConfig=n.params.adConfig,o.startPosition=n.params.startPosition.videoTime,o.withCredentials=n.params.withCredentials,o.stream=n.streams[0],o.preview=n.params.preview;const{additionalParams:a}=n.params;a&&(i=a),n.streams=n.streams.map(e=>A({},e,{drmConfig:e.drmConfig?Object(Le.a)(e.drmConfig,i.vsid):void 0,url:Object(ke.a)({url:e.url,adConfig:o.adConfig,additionalParams:i})})),f(()=>{l(n,n.streams[0].url),It.setSource(n,{shouldSaveProgress:r})},e=>{St.sendEvent(xe.a.onError,{sourceId:g(),data:new Te.a(e).toJSON()})});break;case Fe.a.preloadSource:const{sourceConfig:d,requestId:u}=t.params,{promise:h,abort:p}=It.preloadSource(d);wt[u]=p,h.then(()=>{St.sendEvent(xe.a.onPreloadSourceResolve,{sourceId:-1,data:u})}).catch(()=>{St.sendEvent(xe.a.onPreloadSourceReject,{sourceId:-1,data:u})}).then(()=>{delete wt[u]});break;case Fe.a.abortPreloadSource:const E=wt[t.params];Object(b.a)(E)&&(E(),delete wt[t.params]);break;case Fe.a.getPosition:f(()=>t.sendAnswer(m()));break;case Fe.a.setVolume:t.params>0&&It.setMuted(!1),It.setVolume(t.params);break;case Fe.a.setMuted:It.setMuted(t.params);break;case Fe.a.setVideoTrack:It.setVideoTrack(t.params);break;case Fe.a.setAudioTrack:It.setAudioTrack(t.params);break;case Fe.a.setTextTrack:It.setTextTrack(t.params);break;case Fe.a.setNativeTextTrackVisibility:It.setNativeTextTrackVisibility(t.params);break;case Fe.a.setNativeAdControlsVisibility:It.setNativeAdControlsVisibility(t.params);break;case Fe.a.setFullscreen:It.setFullscreen(t.params);break;case Fe.a.setPictureInPicture:s.changePipState({isPip:t.params});break;case Fe.a.setHiddenControls:It.setHiddenControls(t.params);break;case Fe.a.setVideoStyle:It.setVideoStyle(t.params);break;case Fe.a.setPictureInPictureEnabled:It.setPictureInPictureEnabled(t.params);break;case Fe.a.callFeatureAction:It.dispatchFeatureAction(t.params);break;case Fe.a.setTitleSettings:It.setTitleSettings(t.params),t.sendAnswer(t.params);break;case Fe.a.requestDebugInfo:t.sendAnswer(e());break;case Fe.a.stopAd:It.stopAd({stopAdReason:fe.a.InsertIntoCalled,data:{loadPositionAfterAd:void 0}}).then(()=>{t.sendAnswer()});break;case Fe.a.playInrollAd:It.playInrollAd(t.params);break;case Fe.a.skipAdPod:It.skipAdPod();break;case Fe.a.destroy:s.destroy(),_t.destroy(),c.destroy(),Rt.destroy(),void 0!==It&&It.destroy(),t.sendAnswer(t.params);break;case Fe.a.setLogoWidgetExpanded:It.setLogoWidgetExpanded(t.params);break;case Fe.a.setLogoWidgetActionCompleted:It.setLogoWidgetActionCompleted(t.params);break;case Fe.a.setExternalVisualState:s.setExternalVisibility(t.params.isVisible);break;case Fe.a.logDelta:Object(B.b)(t.params.deltaId,t.params.value,t.params.params);break;case Fe.a.insertIntoCalled:It.insertIntoCalled();break;default:throw new Error("IFrameApi Error: unexpected command in MessageEvent: "+t.commandName)}}),St.on("Error",e=>{const t=new me.a(e,{code:ge.a.INTERNAL_POST_MESSENGER_SEND_MESSAGE_ERROR,details:{},isFatal:!1});St.sendEvent(xe.a.onError,{sourceId:g(),data:t.toJSON()})}),Object(B.c)("detect.visibility"),"boolean"===typeof Ae.b.initialVisibility?(s.setExternalVisibility(Ae.b.initialVisibility),Object(B.a)("detect.visibility")):St.sendRequest(Fe.a.getExternalVisualState,void 0).then(e=>{let{isVisible:t}=e;s.setExternalVisibility(t),Object(B.a)("detect.visibility")}),h})().catch(e=>{St.sendEvent(xe.a.onInitError,{sourceId:1,data:s(new me.a(e,{isFatal:"boolean"!==typeof e.isFatal||e.isFatal,code:e.code||ge.a.ON_PLAYER_INIT_ERROR}))})})},function(e,t,n){"use strict";function r(){const e=function(){if("undefined"!==typeof window)return window.MediaSource||window.WebKitMediaSource}(),t=window.SourceBuffer||window.WebKitSourceBuffer,n=e&&"function"===typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),r=!t||t.prototype&&"function"===typeof t.prototype.appendBuffer&&"function"===typeof t.prototype.remove;return!!n&&!!r}n.r(t),n.d(t,"isSupported",(function(){return r}))}]);